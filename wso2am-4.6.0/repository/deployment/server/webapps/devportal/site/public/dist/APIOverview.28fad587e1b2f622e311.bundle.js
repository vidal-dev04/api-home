"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[7984],{1579:(e,t,a)=>{var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848);t.A=(0,r.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-4.65 4.65c-.2.2-.51.2-.71 0L7 13h3V9h4v4z"}),"CloudDownloadRounded")},56434:(e,t,a)=>{var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848);t.A=(0,r.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch")},63126:(e,t,a)=>{var n=a(24994);t.A=void 0;var r=n(a(42032)),i=a(74848);t.A=(0,r.default)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline")},80295:(e,t,a)=>{a.d(t,{A:()=>R});var n=a(96540),r=a(11848),i=a(5556),l=a.n(i),s=a(33551),o=a(92728),c=a(84798),p=a(73357),m=a(38798),d=a(58065),u=a(51989),g=a(64679),A=a(30198),E=a.n(A),f=a(12831),y=a(15235),v=a(19337),b=a(30222),h=a(56779),w=a(53036);a(84712);const x=["node","inline","className","children"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T.apply(null,arguments)}const D="View",S={root:`${D}-root`,docTitle:`${D}-docTitle`,docBadge:`${D}-docBadge`,button:`${D}-button`,displayURL:`${D}-displayURL`,displayURLLink:`${D}-displayURLLink`,docSummary:`${D}-docSummary`,fileAvailability:`${D}-fileAvailability`},M=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${S.root}`]:{paddingTop:t.spacing(2),paddingBottom:t.spacing(2)},[`& .${S.docTitle}`]:{fontWeight:100,fontSize:50,color:t.palette.grey[500]},[`& .${S.docBadge}`]:{padding:t.spacing(1),background:t.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:t.palette.getContrastText(t.palette.primary.main)},[`& .${S.button}`]:{padding:t.spacing(2),marginTop:t.spacing(2)},[`& .${S.displayURL}`]:{padding:t.spacing(2),marginTop:t.spacing(2),background:t.palette.grey[200],color:t.palette.getContrastText(t.palette.grey[200]),display:"flex"},[`& .${S.displayURLLink}`]:{paddingLeft:t.spacing(2)},[`& .${S.docSummary}`]:{marginTop:t.spacing(2),color:t.palette.text.primary},[`& .${S.fileAvailability}`]:{marginTop:t.spacing(1),marginLeft:t.spacing(.8)}}})),k=(0,n.lazy)((()=>Promise.all([a.e(4680),a.e(2226)]).then(a.bind(a,80567))));function $(e){const{doc:t,apiId:a,intl:r}=e,{api:i}=(0,n.useContext)(w._),[l,m]=(0,n.useState)(""),[A,D]=(0,n.useState)(!1),$=window.location.pathname.includes("/mcp-servers")?new g.A:new u.A,{skipHtml:R}=E().app.markdown,P=E().app.markdown.syntaxHighlighterProps||{},{syntaxHighlighterDarkTheme:N}=E().app.markdown;return(0,n.useEffect)((()=>{"MARKDOWN"!==t.sourceType&&"INLINE"!==t.sourceType||$.getInlineContentOfDocument(a,t.documentId).then((e=>{let{text:t}=e;Object.keys(i).forEach((e=>{const a=new RegExp("___"+e+"___","g");t=t.replace(a,i[e])})),m(t)})).catch((e=>{})),"FILE"===t.sourceType&&$.getFileForDocument(a,t.documentId).then((()=>{D(!0)})).catch((()=>{D(!1)}))}),[e.doc]),n.createElement(M,null,t.summary&&"_overview"!==t.otherTypeName&&n.createElement(s.A,{variant:"body1",className:S.docSummary},t.summary),"MARKDOWN"===t.sourceType&&n.createElement("div",{className:"markdown-content-wrapper"},n.createElement(n.Suspense,{fallback:n.createElement(p.A,null)},n.createElement(k,{skipHtml:R,children:l,remarkPlugins:[f.A],components:{code(e){let{node:t,inline:a,className:r,children:i}=e,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,x);const s=/language-(\w+)/.exec(r||"");return!a&&s?n.createElement(y.A,T({children:String(i).replace(/\n$/,""),style:N?b.A:v.A,language:s[1],PreTag:"div"},l,P)):n.createElement("code",T({className:r},l),i)}}}))),"INLINE"===t.sourceType&&n.createElement(h.A,{html:l}),"URL"===t.sourceType&&n.createElement("a",{className:S.displayURL,href:t.sourceUrl,target:"_blank",rel:"noreferrer"},t.sourceUrl,n.createElement(o.A,{className:S.displayURLLink},"open_in_new")),"FILE"===t.sourceType&&n.createElement(c.A,{variant:"contained",className:S.button,disabled:!A,onClick:()=>{$.getFileForDocument(a,t.documentId).then((e=>{(e=>{let t="";const a=e.headers["content-disposition"];if(a&&-1!==a.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=e&&e[1]&&(t=e[1].replace(/['"]/g,""))}const n=e.headers["content-type"],r=new Blob([e.data],{type:n});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{const e=window.URL||window.webkitURL,a=e.createObjectURL(r);if(t){const e=document.createElement("a");void 0===e.download?window.location=a:(e.href=a,e.download=t,document.body.appendChild(e),e.click())}else window.location=a;setTimeout((()=>{e.revokeObjectURL(a)}),100)}})(e,document)})).catch((e=>{}))}},n.createElement(d.A,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),n.createElement(o.A,null,"arrow_downward")),"FILE"===t.sourceType&&!A&&n.createElement(s.A,{className:S.fileAvailability},n.createElement(d.A,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}$.propTypes={classes:l().shape({}).isRequired,doc:l().shape({}).isRequired,apiId:l().string.isRequired,intl:l().shape({formatMessage:l().func}).isRequired};const R=(0,m.Ay)($)},82763:(e,t,a)=>{a.r(t),a.d(t,{default:()=>At});var n=a(96540),r=a(11848),i=a(44675),l=a(6442),s=a(58065),o=a(54625),c=a(15001),p=a(34339),m=a(99020),d=a(60111),u=a(69067),g=a(69554),A=a(33551),E=a(14977),f=a(61523),y=a(36575),v=a(70691),b=a(58168),h=a(98587),w=a(54533),x=a(75659),T=a(25669),D=a(38413),S=a(31609);function M(e){return(0,S.Ay)("MuiTableContainer",e)}(0,D.A)("MuiTableContainer",["root"]);var k=a(74848);const $=["className","component"],R=(0,r.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),P=n.forwardRef((function(e,t){const a=(0,T.b)({props:e,name:"MuiTableContainer"}),{className:n,component:r="div"}=a,i=(0,h.A)(a,$),l=(0,b.A)({},a,{component:r}),s=(e=>{const{classes:t}=e;return(0,x.A)({root:["root"]},M,t)})(l);return(0,k.jsx)(R,(0,b.A)({ref:t,as:r,className:(0,w.A)(s.root,n),ownerState:l},i))})),N=P;var I=a(53723),L=a(23049),O=a(37636),C=a(56434),U=a(34680),B=a(12831),_=a(53036),z=a(61512),G=a(69933),F=a(14492),W=a(38798),j=a(30198),q=a.n(j),V=a(28939),H=a(64680),K=a(56655),Q=a(19455),Y=a(60766);const J="EmbedCode",X={paper:`${J}-paper`,codeIcon:`${J}-codeIcon`,code:`${J}-code`,iconStyle:`${J}-iconStyle`},Z=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${X.paper}`]:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3)},[`& .${X.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)},[`& .${X.code}`]:{background:"#efefef",color:"cc0000",border:"solid 1px #ccc",padding:t.spacing(1)},[`& .${X.iconStyle}`]:{position:"absolute",top:60,right:30}}}));function ee(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}const te=(0,W.Ay)((function(e){const{intl:t}=e,[a]=n.useState(ee),[r,i]=n.useState(!1),[l,o]=n.useState(!1),c=new URL(window.location);c.searchParams.set("widget",!0);const p='<iframe width="450" height="120" src="'+c+'" frameBorder="0" allowFullScreen title="Embed API" />';return n.createElement(Z,null,n.createElement(H.A,{className:X.codeIcon,onClick:()=>{i(!0)}}),n.createElement(V.A,{open:r,onClose:()=>{i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},n.createElement("div",{style:a,className:X.paper},n.createElement("h2",{id:"simple-modal-title"},n.createElement(s.A,{id:"Apis.Details.Social.EmbedCode",defaultMessage:"Embed"})),n.createElement("div",{className:X.code},n.createElement("code",null,p)),n.createElement(K.A,{title:l?t.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):t.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),placement:"right",className:X.iconStyle},n.createElement(Q.A,{id:"copy-to-clipbord-icon","aria-label":"Copy to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(p).then((o(!0),void setTimeout((()=>o(!1)),2e3)))}},n.createElement(Y.A,{color:"secondary"},"file_copy"))))))}));var ae=a(63126);const ne="Social",re={socialLink:`${ne}-socialLink`,oneFlex:`${ne}-oneFlex`,socialLinkWrapper:`${ne}-socialLinkWrapper`,divider:`${ne}-divider`,codeIcon:`${ne}-codeIcon`},ie=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${re.socialLink}`]:{display:"inline-block","& img":{width:32,marginRight:t.spacing(1)}},[`& .${re.oneFlex}`]:{flex:1},[`& .${re.socialLinkWrapper}`]:{marginTop:16,display:"flex",alignItems:"center",paddingRight:t.spacing(2),"& > div":{display:"inline-block"}},[`& .${re.divider}`]:{display:"inline-block",borderRight:"solid 1px #ccc",marginLeft:t.spacing(1),marginRight:t.spacing(1),height:30},[`& .${re.codeIcon}`]:{cursor:"pointer",color:t.palette.getContrastText(t.custom.infoBar.background)}}})),le=(0,W.Ay)((function(){const{api:e}=(0,n.useContext)(_._),{name:t}=e,a=encodeURI(window.location),r=(0,i.A)(),[l,s]=[e.additionalProperties.find((e=>"slack_url"===e.name)),e.additionalProperties.find((e=>"github_repo"===e.name))],{custom:{social:{showSharing:{active:o,showFacebook:c,showReddit:p,showTwitter:m,showEmbed:d,showEmail:u}}}}=r;return n.createElement(ie,null,n.createElement("div",{className:re.oneFlex}),n.createElement("div",{className:re.socialLinkWrapper},l&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"Slack",href:l.value,target:"_blank",rel:"noopener noreferrer",title:"Slack"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/slack.png`,alt:"Slack"}))),s&&n.createElement(n.Fragment,null,n.createElement("a",{className:re.socialLink,id:"github",href:s.value,target:"_blank",rel:"noopener noreferrer",title:"GitHub"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/github.jpg`,alt:"GitHub"}))),o&&(l||s)&&n.createElement("div",{className:re.divider}),o&&c&&n.createElement("a",{className:re.socialLink,id:"facebook",href:`http://www.facebook.com/sharer.php?u=${a}`,target:"_blank",rel:"noopener noreferrer",title:"Facebook"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/facebook.png`,alt:"Facebook"})),o&&m&&n.createElement("a",{className:re.socialLink,id:"Twitter",href:`http://twitter.com/share?url=${a}&text=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Twitter"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/twitter.png`,alt:"Twitter"})),o&&p&&n.createElement("a",{className:re.socialLink,id:"Reddit",href:`http://www.reddit.com/submit?url=${a}&title=${t}`,target:"_blank",rel:"noopener noreferrer",title:"Reddit"},n.createElement("img",{src:`${j.app.context}/site/public/images/social/reddit.png`,alt:"Reddit"})),o&&d&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement(te,null)),o&&u&&n.createElement(n.Fragment,null,n.createElement("div",{className:re.divider}),n.createElement("a",{href:`mailto:?Subject=${t}&body=Link+:+${a}"`,className:re.codeIcon},n.createElement(ae.A,null)))))}));var se=a(8843),oe=a(32997),ce=a(84712),pe=a(61914),me=a(85877),de=a(51989),ue=a(64679),ge=a(62861),Ae=a(80295),Ee=a(99508),fe=a(5556),ye=a.n(fe),ve=a(92728),be=a(81385),he=a(57555),we=a(84798),xe=a(56347),Te=a(47419),De=a(20973),Se=a(15327),Me=a(46252),ke=a(36632),$e=a(73357);function Re(e){const{completed:t,errors:a,inProgress:r,children:i,completedMessage:l,inProgressMessage:o}=e;let c,p=i;if(t?(c="success",l&&(p=l)):r?(c="info",o&&(p=o)):c="warning",a)if(c="error",a.response){const{body:e}=a.response;p=n.createElement(n.Fragment,null,n.createElement("b",null,"[",e.code,"]")," ",":",e.description)}else p=n.createElement(n.Fragment,null,n.createElement(s.A,{id:"Apis.Listing.TaskState.generic.error.prefix",defaultMessage:"Error while"})," ",o);return n.createElement(n.Fragment,null,n.createElement(m.Ay,{item:!0,xs:12},n.createElement(ke.A,{icon:r?n.createElement($e.A,{size:20,thickness:2}):null,variant:a?"standard":"plain",severity:c},p)))}function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){Ie(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ie(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Le={COMPLETED:"COMPLETED",APPROVED:"APPROVED",CREATED:"CREATED",REJECTED:"REJECTED"},Oe=new de.A,Ce={subscribe:{inProgress:!0,completed:!1,errors:!1},prepare:{inProgress:!1,completed:!1,errors:!1},generate:{inProgress:!1,completed:!1,errors:!1}},Ue=(e,t)=>{const{name:a,status:n}=t;return"reset"===a?Ce:Ne(Ne({},e),{},{[a]:Ne(Ne({},e[a]),n)})};function Be(){const e=oe.A.getUser(),{api:t,subscribedApplications:a,applicationsAvailable:r,updateSubscriptionData:o}=(0,n.useContext)(_._),c=r.filter((e=>"DefaultApplication"===e.label)),p=c.length>0?c[0]:null,[d,g]=(0,n.useReducer)(Ue,Ce),[E,f]=(0,n.useState)(!1),y=(0,l.A)(),v=(0,xe.W6)(),b=(0,i.A)(),h=(0,Se.A)(b.breakpoints.down("sm")),w=t&&(t.type===ge.A.API_TYPES.WS||t.type===ge.A.API_TYPES.WEBSUB||t.type===ge.A.API_TYPES.SSE||t.type===ge.A.API_TYPES.ASYNC),x=t.lifeCycleStatus&&"prototyped"===t.lifeCycleStatus.toLowerCase(),T=async(e,t)=>{let a;g({name:t,status:{inProgress:!0}});try{a=await e}catch(e){console.error(e),g({name:t,status:{errors:e}})}return g({name:t,status:{inProgress:!1,completed:!0}}),a},D=async()=>{await o(),w?v.push("/apis/"+t.id+"/definition"):"MCP"===t.type?v.push("/mcp-servers/"+t.id+"/mcp-playground"):v.push("/apis/"+t.id+"/api-console")};Object.values(d).map((e=>e.completed)).reduce(((e,t)=>t&&e));const S=Object.values(d).map((e=>e.errors)).find((e=>!1!==e)),M=w?n.createElement(we.A,{variant:"outlined",color:"primary",size:"small",classes:{root:{minWidth:120},label:{whiteSpace:"nowrap"}},onClick:D},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.view.definition",defaultMessage:"View Definition"})):n.createElement(we.A,{variant:"contained",color:"primary",size:"medium",sx:{whiteSpace:"nowrap"},onClick:D,"aria-label":"Go to Try Out page"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"}));return!p||a.length>0||t.advertiseInfo.advertised||t.gatewayVendor&&"wso2"!==t.gatewayVendor||!e||w||x?n.createElement(n.Fragment,null,M):n.createElement(n.Fragment,null,n.createElement(we.A,{onClick:async()=>{let e=null;t.tiers&&t.tiers.length>0?e=t.tiers[0].tierName:v.push("/apis/"+t.id+"/test"),f(!0);const a=await T((async()=>Oe.getKeyManagers().then((e=>{const t={keyType:"SANDBOX",supportedGrantTypes:[],callbackUrl:"",additionalProperties:{},keyManager:""},a=[];let n;if(e.body.list.map((e=>a.push(e))),a.length>0){const e=a.filter((e=>"Resident Key Manager"===e.name));n=e.length>0?e[0]:a[0]}try{t.keyManager=n.id,t.supportedGrantTypes=n.availableGrantTypes.filter((e=>"urn:ietf:params:oauth:grant-type:token-exchange"!==e)),(n.availableGrantTypes.includes("implicit")||n.availableGrantTypes.includes("authorization_code"))&&(t.callbackUrl="http://localhost")}catch(e){ce.A.error(y.formatMessage({id:"Apis.Details.Credentials.Wizard.GenerateKeysStep.error.keymanager",defaultMessage:"Error while selecting the key manager"}))}return t})).catch((e=>{})))(),"prepare");await T((async(e,t)=>{const a=await Me.A.get(t);(await a.getKeys(e.keyType)).size>0||a.generateKeys(e.keyType,e.supportedGrantTypes,e.callbackUrl,e.additionalProperties,e.keyManager).then((e=>(e.keyState===Le.CREATED||e.keyState===Le.REJECTED?ce.A.error(y.formatMessage({id:"Apis.Details.GoToTryOut.error.keymanager",defaultMessage:"Key Generation is Blocked."})):console.log("Keys generated successfully with ID : "+e),e))).catch((e=>{const{status:t}=e;404===t&&ce.A.error(y.formatMessage({id:"Apis.Details.GoToTryOut.error.404",defaultMessage:"Resource not found."}))}))})(a,p.value),"generate"),await T(Oe.subscribe(t.id,p.value,e),"subscribe")},variant:"contained",color:"primary",size:"medium","aria-label":"Try Out the API",sx:{whiteSpace:"nowrap"}},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.btn.tryout",defaultMessage:"Try Out"})),n.createElement(V.A,{"aria-label":"Preparing to Try Out the API",sx:{display:"flex",alignItems:"center",justifyContent:"center"},open:E,closeAfterTransition:!0,BackdropComponent:Te.A,BackdropProps:{timeout:500},role:"status"},n.createElement(De.A,{in:E},n.createElement(u.A,{bgcolor:"background.paper",borderRadius:"borderRadius",width:h?.8:1/4,sx:{outline:"none",bgcolor:"background.paper",transform:"translate(-50%, -50%)",position:"absolute",top:"50%",left:"50%",borderRadius:4},p:2},n.createElement(m.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},n.createElement(Re,{completed:d.subscribe.completed,errors:d.subscribe.errors,inProgress:d.subscribe.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete.success",defaultMessage:"API subscribe to DefaultApplication successfully!"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.inprogress",defaultMessage:"API subscribing to DefaultApplication ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.subscribe.complete",defaultMessage:"API subscribe to DefaultApplication"})),n.createElement(Re,{completed:d.prepare.completed,errors:d.prepare.errors,inProgress:d.prepare.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.inprogress",defaultMessage:"Gathering information to generate keys ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.prepare.complete",defaultMessage:"Getting ready to generate keys"})),n.createElement(Re,{completed:d.generate.completed,errors:d.generate.errors,inProgress:d.generate.inProgress,completedMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.generate.complete",defaultMessage:"Consumer key and secret generated successfully!"}),inProgressMessage:n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.generate.inprogress",defaultMessage:"Generating Consumer key and secret ..."})},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.key.secret",defaultMessage:"Consumer key and secret"})),S?n.createElement(m.Ay,{item:!0,xs:12},n.createElement(we.A,{onClick:()=>{f(!1),g({name:"reset"})},variant:"outlined"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.continue.on.close",defaultMessage:"Close"}))):n.createElement(n.Fragment,null,n.createElement(m.Ay,{item:!0,xs:12},n.createElement(A.A,{variant:"caption"},n.createElement(s.A,{id:"Apis.Details.GoToTryOut.popup.final.message",defaultMessage:'All set to try out. Use the "Generate Keys" button to get an access token while you are on the Try Out page.'}))),n.createElement(m.Ay,{item:!0,xs:12},n.createElement(u.A,{display:"flex",pr:4},n.createElement(u.A,{flex:1}),M))))))))}const _e="SolaceEndpoints",ze={root:`${_e}-root`,input:`${_e}-input`,avatar:`${_e}-avatar`,iconStyle:`${_e}-iconStyle`,sectionTitle:`${_e}-sectionTitle`},Ge=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${ze.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${ze.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${ze.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${ze.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${ze.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function Fe(){const{api:e}=(0,n.useContext)(_._),[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),o=(0,l.A)();return(0,n.useEffect)((()=>{const t=[];e.asyncTransportProtocols&&(e.asyncTransportProtocols.map((e=>(t.push(JSON.parse(e)),null))),i(t))}),[e]),n.createElement(Ge,null,"solace"===e.gatewayType&&n.createElement(m.Ay,{container:!0,spacing:2,xs:12},n.createElement(m.Ay,{item:!0,spacing:2,xs:2},n.createElement(A.A,{variant:"subtitle2",component:"label",gutterBottom:!0,align:"left",className:ze.sectionTitle},n.createElement(s.A,{id:"Apis.Details.protocols.and.endpoints",defaultMessage:"Protocols & Endpoints"}))),n.createElement(m.Ay,{item:!0,spacing:2,xs:10},n.createElement(Be,null)),n.createElement(m.Ay,{item:!0,spacing:2,xs:12},n.createElement(m.Ay,{container:!0,spacing:2,xs:12},n.createElement(m.Ay,{item:!0,spacing:2,xs:12},e.endpointURLs.map((e=>n.createElement(A.A,{component:"p",variant:"subtitle2"},e.environmentDisplayName)))),n.createElement(m.Ay,{item:!0,spacing:2,xs:12},r&&r.map((e=>n.createElement(m.Ay,{container:!0,spacing:2,xs:12},n.createElement(m.Ay,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(A.A,{component:"p",variant:"body1"},n.createElement(s.A,{id:"Apis.Details.NewOverview.Endpoints.blank",defaultMessage:"-"}))),n.createElement(m.Ay,{item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(g.A,{label:(0,he.mf)(e.protocol),"data-testid":(0,he.mf)(e.protocol)+"-label",color:"primary",style:{width:"120px"}})),n.createElement(m.Ay,{xs:9,item:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"15px"}},n.createElement(p.A,{id:"gateway-envirounment",component:"form",className:ze.root},n.createElement(Ee.Ay,{className:ze.input,inputProps:{"aria-label":"api url"},value:e.endPointUrl}),n.createElement(be.A,{className:ze.avatar,sizes:30},n.createElement(K.A,{title:t?o.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):o.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:ze.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.endPointUrl).then((()=>(a(!0),void setTimeout((function(){a(!1)}),2e3))))}},n.createElement(ve.A,{color:"secondary"},"file_copy"))))))))))))))}Fe.propTypes={classes:ye().shape({}).isRequired,intl:ye().shape({}).isRequired};const We=Fe;var je=a(17681),qe=a(53846),Ve=a(71543);const He="Environments",Ke={root:`${He}-root`,input:`${He}-input`,avatar:`${He}-avatar`,iconStyle:`${He}-iconStyle`,sectionTitle:`${He}-sectionTitle`},Qe=(0,r.Ay)(u.A)((e=>{let{theme:t}=e;return{[`& .${Ke.root}`]:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",border:`solid 1px ${t.palette.grey[300]}`,"& .MuiInputBase-root:before,  .MuiInputBase-root:hover":{borderBottom:"none !important",color:t.palette.primary.main},"& .MuiSelect-select":{color:t.palette.primary.main,paddingLeft:t.spacing()},"& .MuiInputBase-input":{color:t.palette.primary.main},"& .material-icons":{fontSize:16,color:`${t.palette.grey[700]} !important`},borderRadius:10,marginRight:t.spacing()},[`& .${Ke.input}`]:{marginLeft:t.spacing(1),flex:1},[`& .${Ke.avatar}`]:{width:30,height:30,background:"transparent",border:`solid 1px ${t.palette.grey[300]}`},[`& .${Ke.iconStyle}`]:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:"#9c9c9c"}},[`& .${Ke.sectionTitle}`]:{color:"#424242",fontSize:"0.85rem",marginRight:20,fontWeight:400}}}));function Ye(e){const{selectedEndpoint:t,updateSelectedEndpoint:a}=e,{api:r,api:{advertiseInfo:i}}=(0,n.useContext)(_._),[o,c]=(0,n.useState)(!1),m=(0,l.A)(),g=()=>{c(!0),setTimeout((function(){c(!1)}),2e3)};return n.createElement(Qe,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{mr:5,display:"flex","area-label":"API URL details",alignItems:"center",width:"100%",flexDirection:"row"},t&&(!i||!i.advertised)&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"label",for:"gateway-envirounment",gutterBottom:!0,align:"left",className:Ke.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.label.url",defaultMessage:"URL"})),n.createElement(p.A,{id:"gateway-envirounment",component:"form",className:Ke.root},r.endpointURLs.length>1&&n.createElement(n.Fragment,null,n.createElement(qe.A,{variant:"standard",value:t.environmentName,onChange:a,"aria-label":"Select the Gateway Environment"},r.endpointURLs.map((e=>n.createElement(je.A,{value:e.environmentName},e.environmentDisplayName||e.environmentName)))),n.createElement(d.A,{height:"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)?80:30})),n.createElement(u.A,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},"GRAPHQL"===r.type?m.formatMessage({defaultMessage:"Gateway HTTP URL for GraphQL Queries and Mutations",id:"Apis.Details.Environments.GraphQL.HTTP.Gateway.URL"}):m.formatMessage({defaultMessage:"Gateway URL",id:"Apis.Details.Environments.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(Ee.Ay,{className:Ke.input,inputProps:{"aria-label":"api url"},value:t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws,"data-testid":"http-url"})),n.createElement(be.A,{className:Ke.avatar,sizes:30},n.createElement(K.A,{title:o?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ke.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.https||t.URLs.http||t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(ve.A,{color:"secondary"},"file_copy"))))),"GRAPHQL"===r.type&&(t.URLs.ws||t.URLs.wss)&&n.createElement(n.Fragment,null,n.createElement(Ve.A,{sx:{opacity:.2}}),n.createElement(u.A,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},m.formatMessage({defaultMessage:"Gateway Websocket URL for GraphQL Subscriptions",id:"Apis.Details.Environments.GraphQL.WS.Gateway.URL"})),placement:"left-start",arrow:!0},n.createElement(Ee.Ay,{className:Ke.input,inputProps:{"aria-label":"api url"},value:t.URLs.wss||t.URLs.ws,"data-testid":"websocket-url"})),n.createElement(be.A,{className:Ke.avatar,sizes:30},n.createElement(K.A,{title:o?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ke.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(t.URLs.wss||t.URLs.ws).then(g())}},n.createElement(ve.A,{color:"secondary"},"file_copy")))))))))),i&&i.advertised&&(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"label",for:"external-endpoint-url",gutterBottom:!0,align:"left",className:Ke.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.externalEndpoint.label.url",defaultMessage:"URL"})),n.createElement(p.A,{id:"external-endpoint-url",component:"form",className:Ke.root},n.createElement(u.A,{display:"flex",flexDirection:"column",width:"100%"},n.createElement(u.A,{py:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},m.formatMessage({defaultMessage:"External Production Endpoint",id:"Apis.Details.Environments.apiExternalProductionEndpoint"})),placement:"left-start",arrow:!0},n.createElement(Ee.Ay,{className:Ke.input,inputProps:{"aria-label":"api url"},value:i.apiExternalProductionEndpoint})),n.createElement(be.A,{className:Ke.avatar,sizes:30},n.createElement(K.A,{title:o?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ke.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalProductionEndpoint).then(g())}},n.createElement(ve.A,{color:"secondary"},"file_copy"))))),i.apiExternalSandboxEndpoint&&n.createElement(n.Fragment,null,n.createElement(Ve.A,{sx:{opacity:.2}}),n.createElement(u.A,{pt:.5,display:"flex",alignItems:"center",width:"100%",flexDirection:"row"},n.createElement(n.Fragment,null,n.createElement(K.A,{title:n.createElement(A.A,{color:"inherit"},m.formatMessage({defaultMessage:"External Sandbox Endpoint",id:"Apis.Details.Environments.apiExternalSandboxEndpoint"})),placement:"left-start",arrow:!0},n.createElement(Ee.Ay,{className:Ke.input,inputProps:{"aria-label":"api url"},value:i.apiExternalSandboxEndpoint})),n.createElement(be.A,{className:Ke.avatar,sizes:30},n.createElement(K.A,{title:o?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ke.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the API URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(i.apiExternalSandboxEndpoint).then(g())}},n.createElement(ve.A,{color:"secondary"},"file_copy")))))))))),!t&&i&&i.advertised&&!(i.apiExternalProductionEndpoint||i.apiExternalSandboxEndpoint)&&n.createElement(A.A,{variant:"subtitle2",component:"p",gutterBottom:!0,align:"left",className:Ke.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Environments.label.noendpoint",defaultMessage:"No endpoints yet."})),n.createElement(Be,null)),(!r.advertiseInfo||!r.advertiseInfo.advertised)&&n.createElement(u.A,{ml:8,alignItems:"center",mt:1},t&&n.createElement(A.A,{variant:"caption"},(()=>{const{defaultVersionURLs:e}=t;return e&&(e.https||e.http||e.ws||e.wss)?n.createElement(n.Fragment,null,`\n            ${m.formatMessage({id:"Apis.Details.Environments.default.url",defaultMessage:"( Default Version ) "})}\n            ${e.https||e.http||e.ws||e.wss}`,n.createElement(K.A,{title:o?m.formatMessage({defaultMessage:"Copied",id:"Apis.Details.Environments.copied"}):m.formatMessage({defaultMessage:"Copy to clipboard",id:"Apis.Details.Environments.copy.to.clipboard"}),interactive:!0,placement:"right",className:Ke.iconStyle},n.createElement(Q.A,{"aria-label":"Copy the Default Version URL to clipboard",size:"large",onClick:()=>{navigator.clipboard.writeText(e.https||e.http||e.ws||e.wss).then(g())}},n.createElement(ve.A,{color:"secondary"},"file_copy")))):null})())))}Ye.propTypes={classes:ye().shape({}).isRequired,intl:ye().shape({}).isRequired};const Je=Ye;var Xe=a(9694),Ze=a(49799),et=a(44635),tt=a(57873),at=a(82241);const nt="OverviewDocuments",rt={root:`${nt}-root`,iconClass:`${nt}-iconClass`,boxBadge:`${nt}-boxBadge`,subscriptionBox:`${nt}-subscriptionBox`,linkStyle:`${nt}-linkStyle`,subscriptionTop:`${nt}-subscriptionTop`,resourceWrapper:`${nt}-resourceWrapper`,actionPanel:`${nt}-actionPanel`,linkToTest:`${nt}-linkToTest`,emptyBox:`${nt}-emptyBox`,listWrapper:`${nt}-listWrapper`,listItemStyle:`${nt}-listItemStyle`,listItemIcon:`${nt}-listItemIcon`,listItemPrimary:`${nt}-listItemPrimary`},it=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${rt.root}`]:{padding:t.spacing(3),maxWidth:t.custom.contentAreaWidth},[`& .${rt.iconClass}`]:{marginRight:10,color:t.palette.secondary.main},[`& .${rt.boxBadge}`]:{background:t.palette.grey.A400,color:t.palette.getContrastText(t.palette.grey.A400),fontSize:t.typography.h5.fontSize,padding:t.spacing(1),width:30,height:30,marginRight:20,textAlign:"center"},[`& .${rt.subscriptionBox}`]:{paddingLeft:t.spacing(2)},[`& .${rt.linkStyle}`]:{color:t.palette.getContrastText(t.palette.background.default),fontSize:t.typography.fontSize},[`& .${rt.subscriptionTop}`]:{display:"flex",flexDirection:"row",alignItems:"center"},[`& .${rt.resourceWrapper}`]:{height:192,overflow:"auto"},[`& .${rt.actionPanel}`]:{justifyContent:"flex-start"},[`& .${rt.linkToTest}`]:{textDecoration:"none"},[`& .${rt.emptyBox}`]:{background:"#ffffff55",color:"#444",border:"solid 1px #fff",padding:t.spacing(2),marginTop:50},[`& .${rt.listWrapper}`]:{padding:0,margin:0,width:"100%"},[`& .${rt.listItemStyle}`]:{padding:0,margin:0},[`& .${rt.listItemIcon}`]:{minWidth:30,color:"#BBBEBC66"},[`& .${rt.listItemPrimary}`]:{fontSize:"14px"}}}));function lt(e){const[t,a]=(0,n.useState)([]),r=(0,l.A)(),{apiId:i}=e,o=(0,xe.W6)();return(0,n.useEffect)((()=>{let e;e=window.location.pathname.includes("/mcp-servers")?(new ue.A).getDocuments(i):(new de.A).getDocumentsByAPIId(i),e.then((e=>{e.obj.list.length>0&&a(e.obj.list)})).catch((e=>{const{status:t}=e;404===t&&ce.A.error(r.formatMessage({id:"Apis.Details.Overview.documents.error.occurred",defaultMessage:"Error occurred"}))}))}),[]),0===t.length?n.createElement(it,null,n.createElement(m.Ay,{container:!0,className:rt.root,spacing:2},n.createElement(m.Ay,{item:!0,xs:12},n.createElement("div",{className:rt.emptyBox},n.createElement(A.A,{variant:"body2"},n.createElement(s.A,{id:"Apis.Details.Overview.documents.no.content",defaultMessage:"No Documents Available"})))))):t.length>0&&n.createElement(it,null,n.createElement(Ze.A,{component:"nav","aria-label":"Available document list",className:rt.listWrapper},t.map(((e,t)=>t<=1&&n.createElement(et.Ay,{button:!0,onClick:()=>{return t=e.documentId,void o.push("/apis/"+i+"/documents/"+t);var t},className:rt.listItemStyle,key:e.name},n.createElement(tt.A,{classes:{root:rt.listItemIcon}},n.createElement(ve.A,null,"insert_drive_file")),n.createElement(at.A,{primary:e.name,classes:{primary:rt.listItemPrimary}}))))))}lt.propTypes={classes:ye().shape({}).isRequired,theme:ye().shape({}).isRequired};const st=lt;var ot=a(1579),ct=a(94877),pt=a(86663);const mt=function(e){const{selectedEndpoint:t}=e,{api:a}=(0,n.useContext)(_._),r=new de.A,i=(0,l.A)(),o=ct.A.getCookieWithoutEnvironment("WSO2_AM_TOKEN_1_Default"),[p,m]=(0,n.useState)(!1),{location:d}=window,{app:{customUrl:{tenantDomain:g}}}=q();let A="";if("null"!==g)A=g;else if(d){const{tenant:e}=pt.parse(d.search);e&&(A=e)}const E=A,f=e=>{e.preventDefault(),r.getWsdlClient().downloadWSDLForEnvironment(a.id,t.environmentName).then((e=>{ct.A.downloadFile(e)})).catch((e=>{}))},y=e=>{e.preventDefault(),r.getGraphQLSchemaByAPIId(a.id).then((e=>{const t=a.provider+"-"+a.name+"-"+a.version+".graphql";ct.A.downloadFile(e,t)})).catch((e=>{}))},v=e=>{let n;e.preventDefault(),n=t.environmentName?r.getSwaggerByAPIIdAndEnvironment(a.id,t.environmentName):r.getSwaggerByAPIId(a.id),n.then((e=>{ct.A.downloadFile(e)})).catch((e=>{console.log(e),ce.A.error(i.formatMessage({id:"Apis.Details.Environments.download.swagger.error",defaultMessage:"Error downloading the Swagger"}))}))},b=e=>{e.preventDefault(),r.getAsyncApiSpecificationByAPIIdAndEnvironment(a.id,t.environmentName).then((e=>{ct.A.downloadFile(e)})).catch((e=>{console.error(e),ce.A.error(i.formatMessage({id:"Apis.Details.Environments.download.asyncapi.error",defaultMessage:"Error downloading the AsyncAPI Specification"}))}))};return"SOAP"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.wsdl",defaultMessage:"WSDL"}),placement:"right",sx:{cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":e=>({fontSize:18,color:e.palette.secondary.main})}},n.createElement("a",{onKeyDown:f,onClick:f,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(ot.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.wsdl.text",defaultMessage:"Download WSDL"}))):"HTTP"===a.type||"SOAPTOREST"===a.type?n.createElement(u.A,{display:"flex",alignItems:"center"},n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.swagger",defaultMessage:"Swagger"}),placement:"right",sx:e=>({cursor:"pointer","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement(c.A,{onClick:v,onKeyDown:v,sx:e=>({fontSize:14,color:e.palette.primary.main,display:"flex",textDecoration:"none"}),id:"swagger-download-btn",variant:"body2"},n.createElement(ot.A,{sx:{mt:.5,mr:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.swagger.text",defaultMessage:"Download Swagger"}))),n.createElement(K.A,{title:p?n.createElement(s.A,{id:"Apis.Details.Swagger.URL.copied",defaultMessage:"Copied"}):n.createElement(s.A,{id:"Apis.Details.Swagger.URL.copy.to.clipboard",defaultMessage:"Copy to clipboard"}),placement:"top"},n.createElement(we.A,{"aria-label":"Copy to clipboard",size:"small",color:"grey",onClick:()=>{navigator.clipboard.writeText(d.origin+"/api/am/devportal/v3/apis/"+a.id+"/swagger?accessToken="+o+"&X-WSO2-Tenant-Q="+E+"&environmentName="+t.environmentName).then((()=>m("urlCopied")))},sx:{minWidth:"auto",ml:1}},n.createElement(Y.A,null)))):"WS"===a.type||"WEBSUB"===a.type||"SSE"===a.type||"ASYNC"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.asyncapi",defaultMessage:"AsyncAPI Specification"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:b,onClick:b,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"}),id:"swagger-download-btn"},n.createElement(ot.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.asyncapi.text",defaultMessage:"Download AsyncAPI Specification"}))):"GRAPHQL"===a.type?n.createElement(K.A,{title:n.createElement(s.A,{id:"Apis.Details.Environments.download.graphQL",defaultMessage:"GraphQL"}),placement:"right",sx:e=>({cursor:"pointer",margin:"-10px 0",padding:"0 0 0 5px","& .material-icons":{fontSize:18,color:e.palette.secondary.main}})},n.createElement("a",{onKeyDown:y,onClick:y,className:e=>({fontSize:14,color:e.palette.primary.main,display:"flex"})},n.createElement(ot.A,{sx:{marginRight:1}}),n.createElement(s.A,{id:"Apis.Details.Environments.download.graphql.text",defaultMessage:"Download GraphQL"}))):void 0},dt="Overview",ut={root:`${dt}-root`,linkTitle:`${dt}-linkTitle`,description:`${dt}-description`,textLabel:`${dt}-textLabel`,textValue:`${dt}-textValue`,apiThumb:`${dt}-apiThumb`,chipRoot:`${dt}-chipRoot`,subtitle:`${dt}-subtitle`,cardRoot:`${dt}-cardRoot`,sectionTitle:`${dt}-sectionTitle`,moreLink:`${dt}-moreLink`,table:`${dt}-table`,requestCount:`${dt}-requestCount`,requestUnit:`${dt}-requestUnit`,launchIcon:`${dt}-launchIcon`,originalDevportalUrl:`${dt}-originalDevportalUrl`},gt=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${ut.root}`]:{width:"100%",height:"100vh",paddingLeft:t.spacing(2),paddingTop:t.spacing(2)},[`& .${ut.linkTitle}`]:{color:t.palette.grey[800]},[`& .${ut.description}`]:{color:t.palette.grey[700]},[`& .${ut.textLabel}`]:{fontWeight:400,color:t.palette.grey[800]},[`& .${ut.textValue}`]:{textIndent:t.spacing(1)},[`& .${ut.apiThumb}`]:{padding:t.spacing(),border:"solid 1px",borderColor:t.palette.grey[800],width:100},[`& .${ut.chipRoot}`]:{cursor:"pointer",marginRight:t.spacing()},[`& .${ut.subtitle}`]:{color:t.palette.grey[800]},[`& .${ut.cardRoot}`]:{width:150,height:150,marginRight:t.spacing(),marginTop:t.spacing(2)},[`& .${ut.sectionTitle}`]:{color:t.palette.grey[800],fontSize:"0.95rem",fontWeight:400},[`& .${ut.moreLink}`]:{fontSize:"14px"},[`& .${ut.table}`]:{"& th":{fontWeight:400}},[`& .${ut.requestCount}`]:{fontSize:22},[`& .${ut.requestUnit}`]:{fontSize:13},[`& .${ut.launchIcon}`]:{paddingLeft:t.spacing(1)},[`& .${ut.originalDevportalUrl}`]:{marginTop:t.spacing(4)}}})),At=function(){const e=(0,i.A)(),{custom:{apiDetailPages:{showCredentials:t,showComments:a,showDocuments:r},infoBar:{showThumbnail:b},social:{showRating:h},showSwaggerDescriptionOnOverview:w}}=e,x=(0,l.A)(),{api:T,api:{advertiseInfo:D},subscribedApplications:S}=(0,n.useContext)(_._),[M,k]=(0,n.useState)(!0),[$,R]=(0,n.useState)(!1),[P,W]=(0,n.useState)(!1),[j,V]=(0,n.useState)(null),[H,K]=(0,n.useState)(null),[Q,Y]=(0,n.useState)(null),[J,X]=(0,n.useState)(null),[Z,ee]=(0,n.useState)({avgRating:0,total:0,count:0}),[te,ae]=(0,n.useState)(T.endpointURLs&&T.endpointURLs.length>0?T.endpointURLs[0]:null);let ne=!1,re="";if(T.description){const e=40;T.description.split(" ").length>e&&(re=T.description.split(" ").slice(0,e).join(" ")+"...",ne=!0)}const ie={min:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.min",defaultMessage:"min"}),hours:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.hours",defaultMessage:"hours"}),days:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.days",defaultMessage:"days"}),months:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.months",defaultMessage:"months"}),years:x.formatMessage({id:"Apis.Details.Overview.business.plans.time.unit.years",defaultMessage:"years"})},Ee=T.tiers&&1===T.tiers.length&&T.tiers[0].tierName.includes(ge.A.DEFAULT_SUBSCRIPTIONLESS_PLAN),fe=()=>(new de.A).getAllTiers("subscription",q().app.throttlingPolicyLimit).then((e=>{try{const t=e.body.list.filter((e=>(e=>{const t=T.tiers.filter((t=>t.tierName===e));return t&&t.length>0})(e.name)));X(t)}catch(e){console.log(e),ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred",defaultMessage:"Error occurred"}))}})).catch((e=>{console.log(e);const{status:t}=e;ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred.subs",defaultMessage:"Error occurred when fetching subscription policies"})),404===t&&W(!0),V([]),R(!1)})),ye=()=>{let e;return e="MCP"===T.type?(new ue.A).getDocuments(T.id):(new de.A).getDocumentsByAPIId(T.id),e.then((e=>{const t=e.body.list.filter((e=>"_overview"===e.otherTypeName));t.length>0&&K(t[0]),V(e.body.list)})).catch((e=>{console.log(e);const{status:t}=e;ce.A.error(x.formatMessage({id:"Apis.Details.Overview.error.occurred.docs",defaultMessage:"Error occurred when fetching documents"})),404===t&&W(!0),V([]),R(!1)}))};(0,n.useEffect)((()=>{R(!0);const{endpointURLs:e}=T;e&&e.length>0&&ae(e[0]),Promise.all([ye(),fe()]).then((()=>{R(!1)}))}),[T]),(0,n.useEffect)((()=>{const e=window.location.pathname.includes("/mcp-servers");if(w){let t;e||(t=(new de.A).getSwaggerByAPIIdAndEnvironment(T.id,te.environmentName),t.then((e=>{const t=e.obj;t&&t.info?Y(t.info.description):Y("")})).catch((e=>{console.error(e),Y("")})))}else R(!0),Promise.all([ye(),fe()]).then((()=>{R(!1)}))}),[]);const ve=()=>T.keyManagers?"all"===T.keyManagers[0]?null:T.keyManagers.map((e=>n.createElement(A.A,{variant:"body2"},e))):null,be=oe.A.getUser();return $?n.createElement(me.A,null):w?Q?n.createElement(u.A,{p:3},n.createElement(U.$,{plugins:[B.A],escapeHtml:!0},Q)):n.createElement(me.A,null):j?P?n.createElement(se.A,{message:x.formattedMessage({id:"Apis.Details.Overview.not.found.message",defaultMessage:"Resource Not Found"})}):H?n.createElement(gt,null,n.createElement(p.A,{className:ut.paperWithDoc,elevation:0},n.createElement(Ae.A,{doc:H,apiId:T.id,fullScreen:!0,dontShowName:!0}))):n.createElement(gt,null,n.createElement(p.A,{className:ut.root,elevation:0},n.createElement(m.Ay,{container:!0},n.createElement(m.Ay,{item:!0,sm:8,xl:9},n.createElement(u.A,{display:"flex",flexDirection:"column"},n.createElement(u.A,{display:"flex",flexDirection:"row"},b&&n.createElement(u.A,{id:"overview-thumbnail",width:86,display:"flex",alignItems:"center"},n.createElement(u.A,{className:ut.apiThumb},n.createElement(z.A,{api:T,customWidth:70,customHeight:50,showInfo:!1}))),n.createElement(u.A,{ml:3,mr:2},n.createElement(A.A,{variant:"h4",component:"h2"},T.displayName||T.name),T.description&&n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:ut.description},ne&&M?re:T.description,ne&&n.createElement("a",{"aria-label":"Show more/less description",onClick:e=>{e.preventDefault(),k(!M)},href:"#"},M?x.formatMessage({defaultMessage:" more",id:"Apis.Details.Overview.description.more"}):x.formatMessage({defaultMessage:" less",id:"Apis.Details.Overview.description.less"}))),n.createElement(u.A,{display:"flex","area-lable":"API version and owner details",flexDirection:"row"},n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:ut.textLabel},n.createElement(s.A,{id:"Apis.Details.Overview.list.version",defaultMessage:"Version "}))," ",n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:ut.textValue},T.version),n.createElement(d.A,{height:20}),n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:ut.textLabel},n.createElement(s.A,{id:"Apis.Details.Overview.list.provider",defaultMessage:"By "}))," ",n.createElement(A.A,{variant:"body2",gutterBottom:!0,align:"left",className:ut.textValue},(()=>{let{provider:e}=T;return T.businessInformation&&T.businessInformation.businessOwner&&""!==T.businessInformation.businessOwner.trim()&&(e=T.businessInformation.businessOwner),e})())))),n.createElement(u.A,{alignItems:"center",mt:2,pr:6},"solace"===T.gatewayType?n.createElement(We,null):n.createElement(Je,{updateSelectedEndpoint:e=>{const t=e.target.value,a=T.endpointURLs.filter((e=>e.environmentName===t));a&&a.length>0?ae(a[0]):ce.A.error(x.formatMessage({id:"Apis.Details.Overview.select.env.error",defaultMessage:"Error Selecting Environment"}))},selectedEndpoint:te})),n.createElement(u.A,{display:"flex",flexDirection:"row",alignItems:"center",className:ut.originalDevportalUrl,mt:2,pr:6},D&&D.advertised&&D.originalDevPortalUrl&&n.createElement(c.A,{target:"_blank",rel:"noopener noreferrer",href:D.originalDevPortalUrl,variant:"body3",underline:"hover"},n.createElement(s.A,{id:"Apis.Details.Credentials.Credentials.visit.original.developer.portal",defaultMessage:"Visit Original Developer Portal"}),n.createElement(C.A,{className:ut.launchIcon}))),Ee&&n.createElement(u.A,{mt:2,ml:1,pr:6},n.createElement(pe.A,{type:"info",title:n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.not.required",defaultMessage:"No subscriptions required"})},n.createElement(A.A,{component:"p"},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.not.required.content",defaultMessage:"Subscriptions are not required for this API. You can consume this without subscribing to it."})))),("wso2"===T.gatewayVendor||!T.gatewayVendor)&&J&&J.length>0&&!Ee&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.business.plans.title",defaultMessage:"Business Plans"}))),n.createElement(u.A,{flexWrap:"wrap",display:"flex",flexDirection:"row",alignItems:"center",mt:2,ml:1,textAlign:"center"},J&&J.map((e=>e.name.includes(ge.A.DEFAULT_SUBSCRIPTIONLESS_PLAN)?null:n.createElement(E.A,{className:ut.cardRoot,key:e.name},n.createElement(O.A,null,n.createElement(A.A,{className:ut.cardMainTitle,color:"textSecondary",gutterBottom:!0},e.name),n.createElement(u.A,{mt:2},n.createElement(A.A,{className:ut.requestCount,color:"textSecondary"},2147483647===e.requestCount?"Unlimited":e.requestCount)),n.createElement(u.A,null,n.createElement(A.A,{className:ut.requestUnit,color:"textSecondary"},n.createElement(s.A,{id:"Apis.Details.Overview.business.plans.requests.unit",defaultMessage:"Requests/{timeUnit}",values:{timeUnit:e.timeUnit in ie?ie[e.timeUnit]:e.timeUnit}}))))))))),t&&S.length>0&&!Ee&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"}))),n.createElement(u.A,{mt:2,ml:1,pr:6},n.createElement(N,{component:p.A},n.createElement(f.A,{className:ut.table,"aria-label":"simple table"},n.createElement(I.A,null,n.createElement(L.A,null,n.createElement(v.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.name",defaultMessage:"Application Name"})),n.createElement(v.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.tier",defaultMessage:"Throttling Tier"})),n.createElement(v.A,null,n.createElement(s.A,{id:"Apis.Details.Overview.api.credentials.subscribed.apps.status",defaultMessage:"Application Status"})))),n.createElement(y.A,null,S.map((e=>n.createElement(L.A,{key:e.label},n.createElement(v.A,{component:"th",scope:"row"},n.createElement(c.A,{component:o.N_,to:`/applications/${e.value}/overview`,underline:"hover"},e.label)),n.createElement(v.A,null,e.policy),n.createElement(v.A,null,e.status))))))))),n.createElement(u.A,{mt:6},a&&n.createElement(n.Fragment,null,n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.comments.title",defaultMessage:"Comments"})),n.createElement(u.A,{pr:6},T&&n.createElement(Xe.default,{apiId:T.id,isOverview:!0})))))),n.createElement(m.Ay,{item:!0,xs:4,xl:3},be&&h&&n.createElement(u.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(F.A,{avgRating:Z.avgRating,reviewCount:Z.total,returnCount:Z.count}),n.createElement(d.A,{height:30}),n.createElement(G.A,{apiId:T.id,isEditable:!0,showSummary:!1,setRatingUpdate:e=>{if(e){const{avgRating:t,total:a,count:n}=e;ee({avgRating:t,total:a,count:n})}}})),n.createElement(u.A,{mt:6},n.createElement(le,null)),n.createElement(u.A,{mt:2,mb:1},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.subscriptions.title",defaultMessage:"Subscriptions"})),Ee?n.createElement(A.A,{variant:"body2"},"N/A"):n.createElement(A.A,{variant:"body2"},T.subscriptions||0)),n.createElement(u.A,{mt:2,mb:1},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.tags.title",defaultMessage:"Tags"}))),n.createElement(A.A,{variant:"body2",className:ut.endpointLabel},T.tags.map((e=>n.createElement(g.A,{label:e,key:e,component:o.N_,clickable:!0,to:`/apis?offset=0&query=tag:${e}`,classes:{root:ut.chipRoot},variant:"outlined",size:"small"}))),0===T.tags.length&&n.createElement(s.A,{id:"Apis.Details.Overview.list.tags.not",defaultMessage:"Not Tagged"})),r&&j&&j.length>0&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.documents.title",defaultMessage:"Documents"}))),n.createElement(u.A,{pr:2,pl:1},n.createElement(st,{apiId:T.id}),j.length>2&&n.createElement(c.A,{component:o.N_,to:"/apis/"+T.id+"/documents",className:ut.moreLink,underline:"hover"},j.length-2," ",n.createElement(s.A,{id:"Apis.Details.Overview.comments.show.more.more",defaultMessage:"more"})))),T.businessInformation.businessOwnerEmail&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.business.info",defaultMessage:"Business Info"}))),n.createElement(u.A,{mt:1},n.createElement(A.A,{variant:"body2"},T.businessInformation.businessOwnerEmail))),n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.source",defaultMessage:"Source"}))),("HTTP"===T.type||"SOAPTOREST"===T.type||"SOAP"===T.type||"GRAPHQL"===T.type||"WS"===T.type||"WEBSUB"===T.type||"SSE"===T.type||"ASYNC"===T.type)&&n.createElement(u.A,{mt:2},te&&n.createElement(mt,{selectedEndpoint:te})),ve()&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",component:"h3",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.key.manager",defaultMessage:"Key Managers"}))),n.createElement(u.A,{mt:1},ve())),T.additionalProperties&&Object.keys(T.additionalProperties).length>0&&n.createElement(n.Fragment,null,n.createElement(u.A,{mt:6},n.createElement(A.A,{variant:"subtitle2",className:ut.sectionTitle},n.createElement(s.A,{id:"Apis.Details.Overview.additional.properties",defaultMessage:"Additonal properties"}))),n.createElement(u.A,{mt:1,ml:1},T.additionalProperties.filter((e=>{let{name:t,display:a}=e;return a&&!["slack_url","github_repo"].includes(t)})).map((e=>{let{name:t,value:a}=e;return n.createElement(A.A,{variant:"body2"},t," ",":"," ",a)})))))))):n.createElement(me.A,null)}}}]);
//# sourceMappingURL=APIOverview.28fad587e1b2f622e311.bundle.js.map