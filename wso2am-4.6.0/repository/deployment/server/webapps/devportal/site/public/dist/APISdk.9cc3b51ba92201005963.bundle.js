(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[1272],{5419:e=>{e.exports=function(e,t,a,i){var n=new Blob(void 0!==i?[i,e]:[e],{type:a||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(n,t);else{var s=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(n):window.webkitURL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=s,r.setAttribute("download",t),void 0===r.download&&r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),200)}}},98021:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var i=a(96540),n=a(11848),s=a(84798),r=a(14977),o=a(56826),l=a(87393),c=a(92728),d=a(71543),p=a(99020),g=a(5419),m=a.n(g),h=a(1043),u=a(33551),k=a(38798),b=a(58065),w=a(84712),f=a(61914),A=a(32997),S=a(30198),v=a(44675),y=a(51989);function E(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const C="Sdk",D={genericMessageWrapper:`${C}-genericMessageWrapper`,titleSub:`${C}-titleSub`,searchBox:`${C}-searchBox`,gridRoot:`${C}-gridRoot`,titleWrappper:`${C}-titleWrappper`,cardTitle:`${C}-cardTitle`,cardRoot:`${C}-cardRoot`},x=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${D.genericMessageWrapper}`]:{margin:t.spacing(2)},[`& .${D.titleSub}`]:{marginLeft:t.spacing(3),marginRight:t.spacing(3),paddingTop:t.spacing(2),paddingBottom:t.spacing(2),color:t.palette.getContrastText(t.palette.background.default)},[`& .${D.searchBox}`]:{marginLeft:t.spacing(3),marginRight:t.spacing(3)},[`& .${D.gridRoot}`]:{marginLeft:t.spacing(2)},[`& .${D.titleWrappper}`]:{display:"flex",alignItems:"center","& h4":{marginRight:t.spacing(1)}},[`& .${D.cardTitle}`]:{background:t.palette.grey[50]},[`& .${D.cardRoot}`]:{background:t.custom.apiDetailPages.sdkBackground}}}));class L extends i.Component{constructor(e){super(e),E(this,"handleClick",((e,t)=>{const a=this.api_uuid,i=t;this.getSdkForApi(a,i)})),E(this,"handleChange",(e=>{const{sdkLanguages:t}=this.state;let a=t;a=a.filter((t=>-1!==t.toLowerCase().search(e.target.value.toLowerCase()))),this.setState({items:a})})),E(this,"addDefaultSrc",(e=>{e.target.src=S.app.context+"/site/public/images/sdks/default.svg"})),this.state={sdkLanguages:null,items:null};const{match:t,apiId:a}=this.props;this.api_uuid=t?t.params.apiUuid:a,this.filter_threshold=5,this.getSdkForApi=this.getSdkForApi.bind(this),this.handleClick=this.handleClick.bind(this),this.handleChange=this.handleChange.bind(this),this.addDefaultSrc=this.addDefaultSrc.bind(this)}componentDidMount(){const e=new y.A;null!=A.A.getUser()&&e.getSdkLanguages().then((e=>{0!==e.obj.length?(this.setState({sdkLanguages:e.obj}),this.setState({items:e.obj})):this.setState({sdkLanguages:!1})})).catch((e=>{console.log(e),w.A.error(e)}))}getSdkForApi(e,t){(new y.A).getSdk(e,t).then((e=>{const t=e.headers["content-disposition"].match(/filename="(.+)"/)[1],a=e.data;m()(a,t)})).catch((e=>{console.log(e),w.A.error(e)}))}render(){const e=this.state.items,{onlyIcons:t,intl:a,theme:n}=this.props,{custom:{apiDetailPages:{onlyShowSdks:g}}}=n,m=e&&e.length>0&&g&&g.length>0?e.filter((e=>g.includes(e.toLowerCase()))):e;return t?m&&i.createElement(x,null,m.map(((e,t)=>t<3&&i.createElement(p.Ay,{item:!0,xs:4,key:e},i.createElement(s.A,{onClick:t=>this.handleClick(t,e),onKeyDown:t=>this.handleClick(t,e),style:{cursor:"pointer"},"aria-label":"Download "+e+" SDK",id:"download-sdk-btn"},i.createElement("img",{alt:e,src:S.app.context+"/site/public/images/sdks/"+String(e)+".svg",style:{width:80,height:80,margin:10}})))))):i.createElement(x,null,i.createElement("div",{className:D.titleWrappper},i.createElement(u.A,{variant:"h4",component:"h2",className:D.titleSub},i.createElement(b.A,{id:"Apis.Details.Sdk.title",defaultMessage:"Software Development Kits (SDKs)"})),m&&this.state.sdkLanguages.length>=this.filter_threshold&&i.createElement(h.A,{variant:"outlined",id:"search",label:a.formatMessage({defaultMessage:"Search SDK",id:"Apis.Details.Sdk.search.sdk"}),type:"text",margin:"normal",className:D.searchBox,name:"searchSdk",onChange:this.handleChange})),m?i.createElement(p.Ay,{container:!0,spacing:0,className:D.gridRoot},i.createElement(p.Ay,{item:!0,xs:12,sm:6,md:9,lg:9,xl:10},i.createElement(p.Ay,{container:!0,justifyContent:"flex-start",spacing:4},m.map((e=>i.createElement(p.Ay,{key:e,item:!0},i.createElement("div",{style:{width:"auto",textAlign:"center",margin:"10px"}},i.createElement(r.A,{className:D.cardRoot},i.createElement("div",null,e.toString().toUpperCase()),i.createElement(d.A,null),i.createElement(l.A,{title:e.toString().toUpperCase(),src:S.app.context+"/site/public/images/sdks/"+String(e)+".svg",classes:{root:D.cardTitle}},i.createElement("img",{alt:e,onError:this.addDefaultSrc,src:`${S.app.context}/site/public/images/sdks/${e}.svg`,style:{width:"100px",height:"100px",margin:"30px"}})),i.createElement(o.A,null,i.createElement(p.Ay,{container:!0,justifyContent:"center"},i.createElement(s.A,{color:"secondary",onClick:t=>this.handleClick(t,e),"aria-label":"Download "+e+" SDK",id:"download-sdk-btn"},i.createElement(c.A,null,"arrow_downward"),i.createElement(b.A,{id:"Apis.Details.Sdk.download.btn",defaultMessage:"Download"})))))))))))):i.createElement("div",{className:D.genericMessageWrapper},i.createElement(f.A,{type:"info",className:D.dialogContainer},i.createElement(u.A,{variant:"h5",component:"h3"},i.createElement(b.A,{id:"Apis.Details.Sdk.no.sdks",defaultMessage:"No SDKs"})),i.createElement(u.A,{component:"p"},i.createElement(b.A,{id:"Apis.Details.Sdk.no.sdks.content",defaultMessage:"No SDKs available for this API"})))))}}const R=(0,k.Ay)((function(e){const{match:t,apiId:a,onlyIcons:n,intl:s}=e,r=(0,v.A)();return i.createElement(L,{match:t,apiId:a,onlyIcons:n,intl:s,theme:r})}))}}]);
//# sourceMappingURL=APISdk.9cc3b51ba92201005963.bundle.js.map