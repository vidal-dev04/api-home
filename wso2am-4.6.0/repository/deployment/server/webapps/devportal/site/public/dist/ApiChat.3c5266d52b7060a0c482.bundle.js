(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[6635],{5890:(e,t,n)=>{var a={"./simpleWorker":45585,"./simpleWorker.js":45585};function r(e){return Promise.resolve().then((()=>{if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(a[e])}))}r.keys=()=>Object.keys(a),r.id=5890,e.exports=r},9204:(e,t,n)=>{var a={"./editorBaseApi":[93059],"./editorBaseApi.js":[93059],"./editorSimpleWorker":[13116],"./editorSimpleWorker.js":[13116],"./editorWorker":[90304],"./editorWorker.js":[90304],"./editorWorkerHost":[96358],"./editorWorkerHost.js":[96358],"./findSectionHeaders":[99307],"./findSectionHeaders.js":[99307],"./getIconClasses":[13819,3819],"./getIconClasses.js":[13819,3819],"./languageFeatureDebounce":[12060],"./languageFeatureDebounce.js":[12060],"./languageFeatures":[52230],"./languageFeatures.js":[52230],"./languageFeaturesService":[90501],"./languageFeaturesService.js":[90501],"./languageService":[83930],"./languageService.js":[83930],"./languagesAssociations":[55996],"./languagesAssociations.js":[55996],"./languagesRegistry":[66995],"./languagesRegistry.js":[66995],"./markerDecorations":[80886],"./markerDecorations.js":[80886],"./markerDecorationsService":[90011],"./markerDecorationsService.js":[90011],"./model":[64830],"./model.js":[64830],"./modelService":[40931],"./modelService.js":[40931],"./resolverService":[37042],"./resolverService.js":[37042],"./semanticTokensDto":[19376,9376],"./semanticTokensDto.js":[19376,9376],"./semanticTokensProviderStyling":[9520],"./semanticTokensProviderStyling.js":[9520],"./semanticTokensStyling":[5272],"./semanticTokensStyling.js":[5272],"./semanticTokensStylingService":[38148],"./semanticTokensStylingService.js":[38148],"./textModelSync/textModelSync.impl":[75456],"./textModelSync/textModelSync.impl.js":[75456],"./textModelSync/textModelSync.protocol":[45628,5628],"./textModelSync/textModelSync.protocol.js":[45628,5628],"./textResourceConfiguration":[41504],"./textResourceConfiguration.js":[41504],"./treeSitterParserService":[35320],"./treeSitterParserService.js":[35320],"./treeViewsDnd":[2603,2603],"./treeViewsDnd.js":[2603,2603],"./treeViewsDndService":[26756,6756],"./treeViewsDndService.js":[26756,6756],"./unicodeTextModelHighlighter":[49887],"./unicodeTextModelHighlighter.js":[49887]};function r(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(a),r.id=9204,e.exports=r},74794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ie});var a=n(96540),r=n(69067),i=n(99020),s=n(11848),o=n(53036),l=n(68738),c=n(6442),d=n(58065),p=n(56434),u=n(54625),m=n(36632),g=n(51989),h=n(73357),A=n(33551),y=n(94877),f=n(32997),x=n(99338),C=n(84782),b=n(74848),E=n(84798),v=n(69554),j=n(35133),S=n(84866);const O=({openConfigureKey:e,goBack:t,disableGoBack:n,disableConfigureKey:a})=>(0,b.jsxs)(r.A,{display:"flex",width:"100%",m:3,children:[(0,b.jsxs)(r.A,{display:"flex",flexDirection:"column",flexGrow:1,children:[(0,b.jsxs)(r.A,{display:"flex",children:[(0,b.jsx)(A.A,{id:"itest-api-details-api-chat-title",variant:"h3",component:"h3",children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatPoweredBy.apiChatMainHeader",defaultMessage:"API Chat"})}),(0,b.jsx)(v.A,{label:"Experimental",variant:"outlined",size:"small",color:"primary",sx:{ml:1}})]}),(0,b.jsx)(A.A,{variant:"body2",color:"textSecondary",component:"p",children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatPoweredBy.poweredByText",defaultMessage:"Powered by Azure OpenAI"})})]}),(0,b.jsx)(r.A,{children:(0,b.jsxs)(r.A,{display:"flex",pr:4,children:[(0,b.jsx)(r.A,{mr:3,children:(0,b.jsx)(E.A,{startIcon:(0,b.jsx)(j.A,{}),id:"go-back",variant:"text",size:"small",onClick:t,disabled:n,children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatPoweredBy.goBack",defaultMessage:"Go Back"})})}),(0,b.jsx)(r.A,{children:(0,b.jsx)(E.A,{startIcon:(0,b.jsx)(S.A,{}),id:"view-sample-queries",variant:"text",size:"small",onClick:e,disabled:a,children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatPoweredBy.configureKey",defaultMessage:"Configure Key"})})})]})})]});var T=n(30198);const k="ApiChatBanner",w={tryAiBannerCont:`${k}-tryAiBannerCont`,tryAiBannerImgWrap:`${k}-tryAiBannerImgWrap`,tryAiBannerContentWrap:`${k}-tryAiBannerContentWrap`,tryAiBannerContent:`${k}-tryAiBannerContent`,tryAiBannerTriangle:`${k}-tryAiBannerTriangle`},I=(0,s.Ay)("div")((({theme:e})=>({[`& .${w.tryAiBannerCont}`]:{display:"flex",paddingLeft:e.spacing(1),gridGap:e.spacing(1.5),maxWidth:e.spacing(85)},[`& .${w.tryAiBannerImgWrap}`]:{flex:`0 0 ${e.spacing(15)}px`,maxWidth:e.spacing(15),fontSize:e.spacing(15),display:"flex",alignItems:"center"},[`& .${w.tryAiBannerContentWrap}`]:{flexGrow:1,display:"flex",alignItems:"center"},[`& .${w.tryAiBannerContent}`]:{background:e.palette.grey[100],padding:e.spacing(2),borderRadius:e.spacing(0,2,2,2),position:"relative"},[`& .${w.tryAiBannerTriangle}`]:{position:"absolute",width:e.spacing(3),height:e.spacing(3),top:0,left:e.spacing(-3),overflow:"hidden","&:before":{content:'""',display:"block",width:"200%",height:"200%",position:"absolute",borderRadius:"50%",top:0,right:0,boxShadow:`${e.spacing(2.5)} ${e.spacing(-3.75)} 0 0 ${e.palette.grey[100]}`}}}))),M=()=>{const e=(0,c.A)();return(0,b.jsx)(I,{children:(0,b.jsxs)(r.A,{className:w.tryAiBannerCont,children:[(0,b.jsx)(r.A,{className:w.tryAiBannerImgWrap,children:(0,b.jsx)("img",{alt:"API Chat",src:`${T.app.context}/site/public/images/ai/ApiChat.svg`})}),(0,b.jsx)(r.A,{className:w.tryAiBannerContentWrap,children:(0,b.jsxs)(r.A,{className:w.tryAiBannerContent,children:[(0,b.jsx)(r.A,{className:w.tryAiBannerTriangle}),(0,b.jsx)(A.A,{variant:"h5",children:e.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatBanner.apiChatMainTextHeader",defaultMessage:"Your API is now equipped with an Intelligent Agent!"})}),(0,b.jsx)(A.A,{variant:"caption",children:e.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatBanner.apiChatMainTextContent",defaultMessage:"Effortlessly test your APIs in natural language with our API Chat Agent powered by Azure OpenAI's cutting-edge language models."})})]})})]})})};var D=n(29933),P=n(8676),$=n(99508),B=n(20053),R=n(24279);const N=["label","width","readOnly","error","helperText","rows","multiline","optional","loading","tooltip","inputTooltip","size","info","actions","testId","variant","rounded","resizeIndicator"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L.apply(null,arguments)}const q="TextInput",W={root:`${q}-root`,rootSmall:`${q}-rootSmall`,rootLarge:`${q}-rootLarge`,readOnlyDefault:`${q}-readOnlyDefault`,readOnlyPlain:`${q}-readOnlyPlain`,rounded:`${q}-rounded`,focused:`${q}-focused`,error:`${q}-error`,textInput:`${q}-textInput`,textInputLarge:`${q}-textInputLarge`,inputAdornedEnd:`${q}-inputAdornedEnd`,inputAdornedEndAlignTop:`${q}-inputAdornedEndAlignTop`,textarea:`${q}-textarea`,inputGroup:`${q}-inputGroup`},z=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${W.root}`]:{padding:t.spacing(1.5,1.5),width:"100%",minHeight:t.spacing(5),backgroundColor:t.palette.common.white,border:`1px solid ${(0,R.X4)(t.palette.primary.main,.5)}`,borderRadius:5,"&$multiline":{height:"auto",resize:"auto"},"&$multilineReadonly":{height:"auto",resize:"none","& $textarea":{height:"auto",resize:"none"}},"&$multilineResizeIndicator":{height:"auto",resize:"none","& $textarea":{height:"auto",resize:"none"}},"&$rounded":{paddingLeft:t.spacing(2)},"&:hover":{borderColor:`${(0,R.X4)(t.palette.primary.main,.5)}`}},[`& .${W.rootSmall}`]:{minHeight:t.spacing(4)},[`& .${W.rootLarge}`]:{minHeight:t.spacing(7),borderRadius:12,padding:t.spacing(1,1,1,3)},[`& .${W.readOnlyDefault}`]:{boxShadow:`0 0 0 1px ${(0,R.X4)(t.palette.common.black,.05)}, inset 0 2px 2px ${(0,R.X4)(t.palette.common.black,.05)}`,border:"none",backgroundColor:t.palette.secondary.light},[`& .${W.readOnlyPlain}`]:{boxShadow:"none",border:"none",backgroundColor:t.palette.common.white,paddingLeft:0,paddingRight:0},[`& .${W.rounded}`]:{borderRadius:t.spacing(2.5)},[`& .${W.focused}`]:{borderColor:t.palette.primary.light,borderWidth:1},[`& .${W.error}`]:{background:t.palette.error.light,borderColor:t.palette.error.main,boxShadow:`0 0 0 1px ${t.palette.error.light}, inset 0 2px 2px ${(0,R.X4)(t.palette.error.light,.07)}`,"&:hover":{borderColor:t.palette.error.main}},[`& .${W.textInput}`]:{minHeight:t.spacing(2.5),padding:t.spacing(.125,0),fontSize:t.typography.body1.fontSize,fontWeight:t.typography.body1.fontWeight,lineHeight:t.typography.body1.lineHeight},[`& .${W.textInputLarge}`]:{fontSize:t.typography.overline.fontSize,fontWeight:t.typography.overline.fontWeight,lineHeight:t.typography.overline.lineHeight},[`& .${W.inputAdornedEnd}`]:{"& .MuiInputAdornment-root":{marginRight:t.spacing(-1)}},[`& .${W.inputAdornedEndAlignTop}`]:{"& .MuiInputAdornment-root":{alignSelf:"flex-end",height:"auto",marginBottom:t.spacing(.25)}},[`& .${W.textarea}`]:{resize:"both"},[`& .${W.inputGroup}`]:{position:"relative"}}})),U=(e,t)=>{const{label:n,width:i,readOnly:s,error:o,helperText:l,rows:c,multiline:d,optional:p,loading:u,tooltip:m,inputTooltip:g,size:h="medium",info:y,actions:f,testId:x,variant:C="default",rounded:b=!1,resizeIndicator:E=!0}=e,v=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,N);return a.createElement(z,null,a.createElement(r.A,{width:i},a.createElement(r.A,{className:W.inputGroup},a.createElement($.Ay,L({ref:t,classes:{root:(0,B.default)({[W.root]:!0,[W.rootSmall]:"small"===h,[W.rootLarge]:"large"===h,[W.readOnlyDefault]:s&&"default"===C,[W.readOnlyPlain]:s&&"plain"===C,[W.multiline]:d,[W.multilineReadonly]:d&&s,[W.multilineResizeIndicator]:d&&!E,[W.rounded]:b}),focused:W.focused,error:W.error,inputMultiline:W.textarea,input:(0,B.default)({[W.textInput]:!0,[W.textInputLarge]:"large"===h}),adornedEnd:(0,B.default)({[W.inputAdornedEnd]:!0,[W.inputAdornedEndAlignTop]:d})},readOnly:s},v,{error:o,rows:c,multiline:d,"data-cyid":x}))),l&&a.createElement(r.A,{display:"flex",alignItems:"center",ml:1},a.createElement(A.A,{variant:"body2",component:"p"},l))))},_=(0,a.forwardRef)(U),H="ApiChatExecute",K={tryAiBottom:`${H}-tryAiBottom`,tryAiBottomInner:`${H}-tryAiBottomInner`,reExecuteWrap:`${H}-reExecuteWrap`,tryAiBottomTextInputWrap:`${H}-tryAiBottomTextInputWrap`,disclaimerText:`${H}-disclaimerText`},Q=(0,P.A)("div")((({theme:e})=>({[`& .${K.tryAiBottom}`]:{position:"sticky",left:0,right:0,marginLeft:e.spacing(-1),marginRight:e.spacing(-1)},[`& .${K.tryAiBottomInner}`]:{padding:e.spacing(3,1)},[`& .${K.reExecuteWrap}`]:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},[`& .${K.tryAiBottomTextInputWrap}`]:{maxWidth:"100%",overflow:"hidden"},[`& .${K.disclaimerText}`]:{display:"flex",alignItems:"center",justifyContent:"center"}}))),G=(0,P.A)(D.A)({transform:"rotate(-40deg)",marginBottom:"5px"}),F=({isAgentRunning:e,isAgentTerminating:t,lastQuery:n,handleStopAndReExecute:a,inputQuery:i,handleQueryChange:s,isEnrichingSpec:o,specEnrichmentError:l,handleExecute:p,isExecuteDisabled:u})=>{const m=(0,c.A)();return(0,b.jsx)(Q,{children:(0,b.jsx)(r.A,{className:K.tryAiBottom,children:(0,b.jsxs)(r.A,{className:K.tryAiBottomInner,children:[(e||n)&&(0,b.jsx)(r.A,{className:K.reExecuteWrap,children:(0,b.jsx)(E.A,{variant:"outlined",onClick:a,id:"stop-reexecute-button",disabled:""!==l||t,children:e?(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatExecute.stopButton.label",defaultMessage:"Stop Execution"}):(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatExecute.rexecuteButton.label",defaultMessage:"Re-execute"})})}),(0,b.jsxs)(r.A,{className:K.tryAiBottomTextInputWrap,pl:2,children:[(0,b.jsx)(_,{fullWidth:!0,name:"query",value:i,placeholder:m.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatExecute.queryInput.placeholder",defaultMessage:"Type the test scenario here..."}),onChange:s,testId:"nl-query-input",disabled:e||o||""!==l||u,multiline:!0,sx:{"& .TextInput-textarea":{resize:"none"}},resizeIndicator:!1,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())},endAdornment:(0,b.jsx)(E.A,{variant:"contained",color:"primary",onClick:p,id:"run-agent-button",startIcon:(0,b.jsx)(G,{}),sx:{marginLeft:1},children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatExecute.executeButton.label",defaultMessage:"Execute"})}),inputProps:{maxLength:500}}),(0,b.jsx)(r.A,{display:"flex",justifyContent:"flex-end",mt:1,mr:2,children:(0,b.jsxs)(A.A,{variant:"caption",children:[i.length,"/",500]})}),(0,b.jsx)(r.A,{className:K.disclaimerText,children:(0,b.jsx)(A.A,{variant:"body2",color:"textSecondary",component:"p",children:m.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatExecute.disclaimer.label",defaultMessage:"It is prudent to exercise a degree of caution and thoughtfulness, as language models may exhibit some degree of unpredictability at times."})})})]})]})})})};var V=n(14977),Y=n(37636),X=n(34104),J=n(56655),Z=n(19455),ee=n(70177);const te="SampleQueryCard",ne={sampleQuery:`${te}-sampleQuery`,sampleQueryCard:`${te}-SampleQueryCard`},ae=(0,s.Ay)("div")((({theme:e})=>({[`& .${ne.sampleQuery}`]:{maxHeight:"25px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},[`& .${ne.sampleQueryCard}`]:{"&:hover":{backgroundColor:"transparent",border:`1px solid ${(0,R.X4)(e.palette.primary.main,.5)}`}}}))),re=({onExecuteClick:e,queryData:t,onCopyClick:n,disabled:i})=>{const s=(0,c.A)(),o=s.formatMessage({id:"Apis.Details.ApiChat.components.CopyToClipboard.copyText",defaultMessage:"Copy to Clipboard"}),l=s.formatMessage({id:"Apis.Details.ApiChat.components.CopyToClipboard.copiedText",defaultMessage:"Copied"}),[d,p]=(0,a.useState)(o);return(0,b.jsx)(ae,{children:(0,b.jsx)(V.A,{className:ne.sampleQueryCard,children:(0,b.jsx)(X.A,{disabled:i,onClick:()=>e(t.query),children:(0,b.jsx)(Y.A,{children:(0,b.jsxs)(r.A,{display:"flex",flexDirection:"column",height:1,children:[(0,b.jsxs)(r.A,{mb:2,children:[(0,b.jsx)(A.A,{variant:"body1",children:t.scenario}),(0,b.jsx)(A.A,{variant:"body2",color:"textSecondary",component:"p",className:ne.sampleQuery,children:t.query})]}),(0,b.jsx)(r.A,{mt:"auto",children:(0,b.jsxs)(r.A,{children:[(0,b.jsx)(E.A,{size:"small",id:"sample-query-execute",variant:"outlined",disabled:i,onClick:n=>{e(t.query),n.stopPropagation()},children:s.formatMessage({id:"Apis.Details.ApiChat.components.SampleQueryCard.executeButton",defaultMessage:"Execute"})}),(0,b.jsx)(J.A,{title:d,onClose:()=>{p(o)},placement:"top-end",children:(0,b.jsx)(Z.A,{id:"sample-query-copy",size:"small",onClick:e=>{var a;a=t.query,p(l),n(a),e.stopPropagation()},sx:{ml:1},children:(0,b.jsx)(ee.A,{fontSize:"inherit"})})})]})})]})})})})})};var ie=n(1710),se=n(48719),oe=n(16576),le=n(20889),ce=n(72553),de=n(72048),pe=n(50790),ue=n(34339),me=n(51768),ge=n(16099),he=n.n(ge),Ae=n(12058);const ye="ApiChatResponse",fe="application/json",xe="application/xml",Ce={finalOutcomeContent:`${ye}-finalOutcomeContent`,lastQueryWrap:`${ye}-lastQueryWrap`,queryProcessLoader:`${ye}-queryProcessLoader`,responseBannerContentWrap:`${ye}-responseBannerContentWrap`,responseBannerContent:`${ye}-responseBannerContent`,responseBannerTriangle:`${ye}-responseBannerTriangle`,queryBannerTriangle:`${ye}-queryBannerTriangle`,queryBannerContent:`${ye}-queryBannerContent`,queryBannerContentWrap:`${ye}-queryBannerContentWrap`},be=(0,s.Ay)("div")((({theme:e})=>({[`& .${Ce.finalOutcomeContent}`]:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),textAlign:"justify"},[`& .${Ce.lastQueryWrap}`]:{margin:e.spacing(1,4)},[`& .${Ce.queryProcessLoader}`]:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},[`& .${Ce.responseBannerContentWrap}`]:{flexGrow:1,display:"flex",alignItems:"center"},[`& .${Ce.queryBannerContentWrap}`]:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end"},[`& .${Ce.responseBannerContent}`]:{width:"100%",background:e.palette.grey[100],padding:e.spacing(2),borderRadius:e.spacing(0,2,2,2),position:"relative"},[`& .${Ce.queryBannerContent}`]:{background:`${(0,R.X4)(e.palette.primary.main,.1)}`,padding:e.spacing(2),borderRadius:e.spacing(2,0,2,2),position:"relative"},[`& .${Ce.queryBannerTriangle}`]:{color:"red",position:"absolute",width:e.spacing(33),height:e.spacing(33),top:0,right:e.spacing(-2),overflow:"hidden","&:before":{content:'""',display:"block",width:"200%",height:"200%",position:"absolute",borderRadius:"50%",top:0,left:0}},[`& .${Ce.responseBannerTriangle}`]:{position:"absolute",width:e.spacing(3),height:e.spacing(3),top:0,left:e.spacing(-2),overflow:"hidden","&:before":{content:'""',display:"block",width:"200%",height:"200%",position:"absolute",borderRadius:"50%",top:0,right:0}}}))),Ee=({lastQuery:e,executionResults:t,finalOutcome:n,isAgentRunning:s,isAgentTerminating:o,isExecutionError:l})=>{const p=(0,c.A)(),[u,m]=(0,a.useState)("You");(0,a.useEffect)((()=>{const e=y.A.getUser();e&&m(e)}),[]);const g=p.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatResponse.CopyToClipboard.copyText",defaultMessage:"Copy cURL to Clipboard"}),f=p.formatMessage({id:"Apis.Details.ApiChat.components.ApiChatResponse.CopyToClipboard.copiedText",defaultMessage:"Copied"}),[x,C]=(0,a.useState)(g),E=()=>{C(g)},j=e=>{let t=fe;if(t=e.headers&&0===Object.keys(e.headers).length?(e=>{const t=e.trim();if(/^\s*<[^>]+>/.test(t))return xe;if(/^[\\{\\[](.*?)[\\}\]]$/.test(t))try{return JSON.parse(t),fe}catch(e){}return"text/plain"})(e.body):e.headers["Content-Type"],t.includes(fe)&&""!==e.body)return(0,b.jsx)(me.Ay,{width:"100%",height:"200",language:"json",value:JSON.stringify(JSON.parse(e.body),null,2),options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}});if(t.includes(xe)&&""!==e.body){const t=he()(e.body);return(0,b.jsx)(me.Ay,{width:"100%",height:"200",language:"xml",value:t,options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on"}})}return(0,b.jsx)(A.A,{variant:"body1",children:e.body})};return(0,b.jsx)(be,{children:(0,b.jsx)(r.A,{maxHeight:"60%",overflow:"auto",className:Ce.lastQueryWrap,children:(0,b.jsxs)(ue.A,{children:[(0,b.jsx)(i.Ay,{justifyContent:"flex-end",container:!0,children:(0,b.jsx)(J.A,{title:u.toUpperCase(),"aria-label":u.toUpperCase(),placement:"bottom",children:(0,b.jsx)(pe.A,{fontSize:"large",sx:{color:"#10597f",marginRight:2}})})}),(0,b.jsx)(r.A,{className:Ce.queryBannerContentWrap,ml:6,mr:6,mt:-1,children:(0,b.jsxs)(r.A,{className:Ce.queryBannerContent,children:[(0,b.jsx)(r.A,{className:Ce.queryBannerTriangle}),(0,b.jsx)(A.A,{variant:"body1",align:"left",children:e})]})}),(0,b.jsx)(Ae.A,{width:50,height:50,icon:"api-chat"}),(0,b.jsx)(r.A,{className:Ce.responseBannerContentWrap,ml:6,mr:6,mt:-2.5,children:(0,b.jsxs)(r.A,{className:Ce.responseBannerContent,children:[(0,b.jsx)(r.A,{className:Ce.responseBannerTriangle}),0!==t.length&&(0,b.jsx)(A.A,{variant:"body1",mb:2,children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatResponse.executionResults",defaultMessage:"Certainly! Here are the results of the API calls I executed on your behalf:"})}),t.map((e=>(0,b.jsxs)(ie.A,{children:[(0,b.jsx)(se.A,{expandIcon:(0,b.jsx)(de.A,{}),children:(0,b.jsxs)(r.A,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,b.jsxs)(r.A,{display:"flex",alignItems:"center",children:[e.code>=200&&e.code<300?(0,b.jsx)(v.A,{icon:(0,b.jsx)(le.A,{color:"success"}),label:e.code,color:"success",variant:"outlined",size:"small"}):(0,b.jsx)(v.A,{icon:(0,b.jsx)(ce.A,{color:"error"}),label:e.code,color:"error",variant:"outlined",size:"small"}),(0,b.jsx)(A.A,{variant:"body1",ml:2,sx:{alignContent:"center"},children:"Executed "+e.method+" "+e.path})]}),(0,b.jsx)(r.A,{display:"flex",alignItems:"center",children:null!=e.curlCommand&&(0,b.jsx)(J.A,{title:x,onClose:E,placement:"top-end",children:(0,b.jsx)(Z.A,{id:"request-curl-copy",size:"small",onClick:t=>{var n;n=e.curlCommand,C(f),navigator.clipboard.writeText(n),t.stopPropagation()},sx:{mr:1},children:(0,b.jsx)(ee.A,{fontSize:"inherit"})})})})]})}),(0,b.jsx)(oe.A,{children:(0,b.jsx)(A.A,{variant:"body1",children:j(e)})})]}))),!s&&e&&n&&!l&&(0,b.jsx)(b.Fragment,{children:0===t.length?(0,b.jsx)(r.A,{display:"flex",children:(0,b.jsx)(A.A,{variant:"body1",children:n})}):(0,b.jsx)(r.A,{display:"flex",justifyContent:"center",className:Ce.finalOutcomeContent,children:(0,b.jsx)(A.A,{variant:"body1",children:n})})}),e&&!n&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(r.A,{className:Ce.queryProcessLoader,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.A,{size:20}),(0,b.jsx)(A.A,{variant:"body1",sx:{paddingLeft:"5px"},children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatResponse.terminatingMessage",defaultMessage:"Execution is terminating..."})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.A,{size:20}),(0,b.jsx)(A.A,{variant:"body1",sx:{paddingLeft:"5px"},children:(0,b.jsx)(d.A,{id:"Apis.Details.ApiChat.components.ApiChatResponse.loadingMessage",defaultMessage:"Loading next execution step..."})})]})})})]})})]})})})};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oe="Content-Type",Te="application/json",ke="ApiChat-tryWithAiMain",we=(0,s.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${ke}`]:{display:"flex",flexDirection:"column",minHeight:"85vh",marginRight:t.spacing(6),marginLeft:t.spacing(2)}}})),Ie=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1),[b,E]=(0,a.useState)(!1),[v,j]=(0,a.useState)(""),[S,T]=(0,a.useState)(""),[k,w]=(0,a.useState)({}),[I,D]=(0,a.useState)([]),[P,$]=(0,a.useState)(""),[B,R]=(0,a.useState)(""),[N,L]=(0,a.useState)(""),[q,W]=(0,a.useState)([]),[z,U]=(0,a.useState)(!1),[_,H]=(0,a.useState)(!1),[K,Q]=(0,a.useState)(null),[G,V]=(0,a.useState)(null),[Y,X]=(0,a.useState)(null),[J,Z]=(0,a.useState)(null),[ee,te]=(0,a.useState)(null),ne=f.A.getUser(),ae=new g.A,{api:ie}=(0,a.useContext)(o._),{settings:{apiChatEnabled:se,aiAuthTokenProvided:oe}}=(0,l.Mp)(),le=(0,a.useRef)(new AbortController),ce=(0,c.A)(),de=e=>{switch(e){case"INVALID_SPECIFICATION":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.invalidSpecificationError",defaultMessage:"The OpenAPI specification could not be parsed. Ensure you are using a valid specification."}));break;case"INVALID_RESOURCE_PATH":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.invalidResourcePathError",defaultMessage:"The OpenAPI specification contain unsupported resource path definitions."}));break;case"UNSUPPORTED_MEDIA_TYPE":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.unsupportedMediaTypeError",defaultMessage:"The OpenAPI specification includes non-JSON input types which are not currently supported."}));break;case"UNSUPPORTED_SPECIFICATION":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.unsupportedSpecificationError",defaultMessage:"Provided API specification is currently not supported. Only OpenAPI 3.x specifications with certain definitions are allowed for now."}));break;case"LLM":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.llmError",defaultMessage:"Failed to load API Chat."}));break;case"TOKEN_LIMIT_EXCEEDED":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.tokenLimitExceededError",defaultMessage:"The OpenAPI specification exceeds the maximum limit."}));break;case"STACK_OVERFLOW":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.stackOverflowError",defaultMessage:"The OpenAPI specification could not be parsed due to a cyclic reference or the excessive length of the specification."}));break;case"CONTENT_POLICY_VIOLATION":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.contentViolationError",defaultMessage:"The content in the OpenAPI specification violates the Azure OpenAI content policy."}));break;case"LLM_CONNECTION":j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.llmConnectionError",defaultMessage:"There was an error connecting to Azure OpenAI."}));break;default:j(ce.formatMessage({id:"Apis.Details.ApiChat.components.specEnrichmentError.genericError",defaultMessage:"Error occurred while loading API Chat."}))}},pe=e=>{switch(e){case"LLM":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.llmError",defaultMessage:"Error occurred during query execution. Try again."}));break;case"CACHING":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.cachingError",defaultMessage:"Error occurred during query execution. Try again later."}));break;case"RESPONSE_PARSING":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.responseParsingError",defaultMessage:"Error occurred while attempting to extract the API response."}));break;case"API_COMMUNICATION":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.apiCommunicationError",defaultMessage:"Error occurred while attempting to establish a connection with your API."}));break;case"TOKEN_LIMIT_EXCEEDED":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.tokenLimitExceededError",defaultMessage:"Execution has been terminated due to exceeding the token limit."}));break;case"INVALID_COMMAND":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.invalidCommandError",defaultMessage:"An invalid query is provided."}));break;case"CONTENT_POLICY_VIOLATION":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.contentViolationError",defaultMessage:"Your query seems to contain inappropriate content. Please try again with a different query."}));break;case"LLM_CONNECTION":L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.llmConnectionError",defaultMessage:"There was an error connecting to Azure OpenAI."}));break;default:L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.genericError",defaultMessage:"Error occurred during query execution."}))}};(0,a.useEffect)((()=>{le.current.signal.aborted&&H(!0)}),[le.current.signal.aborted]),(0,a.useEffect)((()=>{_&&setTimeout((()=>{H(!1),s(!1)}),2e3)}),[_]);const ue=()=>ce.formatMessage({id:"Apis.Details.ApiChat.components.onPremKeyInvalid.error",defaultMessage:"Provided token is invalid. Please use a valid token to start testing."}),me=()=>ce.formatMessage({id:"Apis.Details.ApiChat.components.throttledOut.error",defaultMessage:"Your request has been throttled out. Please reach out to the administrator for assistance."}),ge=()=>ce.formatMessage({id:"Apis.Details.ApiChat.components.gatewayTimeout.error",defaultMessage:"The request has timed out. Please try again later."});(0,a.useEffect)((()=>{if(ie&&ie.id&&se&&oe&&ne){E(!0),j(""),T("");const e=y.A.generateUUID();ae.enrichOpenApiSpecification(ie.id,e).then((e=>{const{body:t,status:n}=e;201!==n?(E(!1),de(t.code),T("warning")):(w(t.apiSpec),D(t.queries),E(!1))})).catch((e=>{var t;E(!1);const n=null==e||null===(t=e.response)||void 0===t?void 0:t.status;if(401===n)j(ue()),T("error");else if(429===n)j(me()),T("error");else if(504===n)j(ge()),T("error");else{var a,r;de((null==e||null===(a=e.response)||void 0===a||null===(a=a.body)||void 0===a?void 0:a.code)||"GENERIC"),T("WARN"===(null==e||null===(r=e.response)||void 0===r||null===(r=r.body)||void 0===r?void 0:r.level)?"warning":"error")}}))}}),[]);const he=a.createElement(d.A,{id:"Apis.Details.ApiChat.warning.authTokenMissing",defaultMessage:"You must provide a token to start testing. To obtain one, follow the steps provided under {apiChatDocLink} ",values:{apiChatDocLink:a.createElement("a",{id:"api-chat-doc-link",href:"https://apim.docs.wso2.com/en/4.6.0/consume/invoke-apis/invoke-apis-using-tools/test-apis-with-apichat/",target:"_blank",rel:"noopener noreferrer"},"Test APIs with API Chat",a.createElement(p.A,{style:{marginLeft:"2px"},fontSize:"small"}))}}),Ae=a.createElement(d.A,{id:"Apis.Details.ApiChat.warning.apiAccessTokenNotFound",defaultMessage:"You must provide an API access token. Configure one by navigating to {configureKeyLink}",values:{configureKeyLink:a.createElement(u.N_,{onClick:()=>{t(!0)}},"Configure Key",a.createElement(p.A,{style:{marginLeft:"2px"},fontSize:"small"}))}}),ye=async(e,t)=>{const{responseObj:n,curlCommand:a}=await(async e=>{const{method:t,path:n,inputs:a}=e,{parameters:r={},requestBody:i={}}=a||{},s=[],o=Object.entries(r||{}).reduce(((e,t)=>{let[n,a]=t;return e.includes(`{${n}}`)?(s.push(n),e.replace(`{${n}}`,encodeURIComponent(a))):e}),n),l=Object.keys(r||{}).reduce(((e,t)=>(s.includes(t)||(e[t]=r[t]),e)),{}),c=new URLSearchParams(l).toString(),d=c?`${o}?${c}`:o,p=`${((e,t)=>{const n=e.find((e=>e.environmentName===t));return n?n.URLs:{}})(ie.endpointURLs,ee).https}${d}`,u={[Oe]:Te};"OAUTH"===G?u.Authorization=`Bearer ${K}`:"BASIC"===G?u.Authorization=`Basic ${btoa(`${Y}:${J}`)}`:"API-KEY"===G&&(u.ApiKey=K);const m=je({method:t,headers:u},"GET"!==t&&null!==i&&{body:JSON.stringify(i)});try{const e=(0,x.SE)(p,m),t=await fetch(p,m),n=t.headers[Oe]||null;if(n&&n.includes(Te)){const n=await t.json().catch((()=>({})));return{responseObj:{code:t.status,path:d,headers:t.headers,body:n},curlCommand:e}}if(n&&n.includes("application/xml")){const n=await t.text();return{responseObj:{code:t.status,path:d,headers:t.headers,body:n},curlCommand:e}}const a=await t.text().catch((()=>"Unable to render this Content-Type"));return{responseObj:{code:t.status,path:d,headers:t.headers,body:a},curlCommand:e}}catch(e){return{responseObj:{code:500,path:d,headers:{},body:"I seem to be having trouble completing your request. This could be due to CORS restrictions or network connectivity issues."},curlCommand:null}}})(t);W((e=>[...e,je(je({},n),{},{method:t.method,curlCommand:a})])),ae.runAiAgentSubsequentIterations(ie.id,e,n).then((t=>{const{data:n}=t;if(201===t.status){if(le.current.signal.aborted)return;if(n.code)U(!0),pe(n.code),s(!1);else{const{body:n}=t;switch(n.taskStatus){case"IN_PROGRESS":ye(e,n.resource);break;case"COMPLETED":n.result&&""!==n.result?L(n.result):L(ce.formatMessage({id:"Apis.Details.ApiChat.ApiChat.subsequentRequset.finalOutcome.taskCompleted",defaultMessage:"Task completed"})),s(!1);break;default:U(!0),L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.taskExecutionDefault",defaultMessage:"An error occurred during query execution."})),s(!1)}}}else{var a;U(!0),pe(null==t||null===(a=t.data)||void 0===a?void 0:a.code),s(!1)}})).catch((e=>{var t;U(!0);const n=null==e||null===(t=e.response)||void 0===t?void 0:t.status;if(401===n)pe(ue());else if(429===n)pe(me());else if(504===n)pe(ge());else{var a;const t=(null==e||null===(a=e.response)||void 0===a?void 0:a.data)||"An error occurred during query execution.";pe(t)}s(!1)}))},fe=e=>{if(U(!1),W((()=>[])),e.length<1)return void L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.noQuery",defaultMessage:"An invalid query is provided."}));s(!0),L("");const t=y.A.generateUUID();ae.runAiAgentInitialIteration(ie.id,t,e,k).then((e=>{const{data:n}=e;if(201===e.status){if(le.current.signal.aborted)return;if(n.code)U(!0),pe(n.code),s(!1);else{const{body:n}=e;switch(n.taskStatus){case"IN_PROGRESS":ye(t,n.resource);break;case"COMPLETED":n.result&&""!==n.result?L(n.result):L(ce.formatMessage({id:"Apis.Details.ApiChat.ApiChat.initialRequest.finalOutcome.taskCompletedOneItr",defaultMessage:"Task completed in 1 iteration."})),s(!1);break;default:U(!0),L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.taskExecutionDefault",defaultMessage:"An error occurred during query execution."})),s(!1)}}}else{var a;U(!0),pe(null==e||null===(a=e.data)||void 0===a?void 0:a.code),s(!1)}})).catch((e=>{var t;U(!0);const n=null==e||null===(t=e.response)||void 0===t?void 0:t.status;if(401===n)pe(ue());else if(429===n)pe(me());else if(504===n)pe(ge());else{var a;const t=(null==e||null===(a=e.response)||void 0===a?void 0:a.data)||"An error occurred during query execution.";pe(t)}s(!1)}))},xe=e=>{n||$(e),navigator.clipboard.writeText(e)},Ce=async e=>{n||(le.current=new AbortController,$(""),R(e),fe(e))};return a.createElement(we,null,a.createElement(r.A,{className:ke},a.createElement(r.A,{sx:{flexGrow:1}},se&&oe&&a.createElement(C.A,{isDrawerOpen:e,updateDrawerOpen:t,onConfigChange:e=>{let{newAccessToken:t,newSecurityScheme:n,newUsername:a,newPassword:r,newSelectedEnvironment:i}=e;void 0!==t&&Q(t),void 0!==n&&V(n),void 0!==a&&X(a),void 0!==r&&Z(r),void 0!==i&&te(i)}}),a.createElement(O,{openConfigureKey:()=>{t(!0)},goBack:()=>{R(""),W([]),L("")},disableGoBack:n||""===B,disableConfigureKey:!se||!oe||v}),(n||B||N)&&a.createElement(Ee,{lastQuery:B,executionResults:q,finalOutcome:N,isAgentRunning:n,isAgentTerminating:_,isExecutionError:z}),!B&&a.createElement(M,null),!n&&!B&&!N&&I&&I.length>0&&a.createElement(r.A,{display:"flex",ml:3,mt:3},a.createElement(i.Ay,{container:!0,direction:"row",spacing:3},I&&I.map((e=>{const t=2===I.length?6:4;return a.createElement(i.Ay,{key:e.scenario,item:!0,xs:12,md:t},a.createElement(re,{onExecuteClick:Ce,disabled:!(se&&oe&&G&&G&&(K||J)),queryData:e,onCopyClick:xe}))}))))),a.createElement(r.A,null,a.createElement(r.A,{display:"flex",alignItems:"center",flexDirection:"column",marginTop:1},b&&a.createElement(r.A,{display:"flex",justifyContent:"center"},a.createElement(h.A,{size:20}),a.createElement(A.A,{variant:"body1",sx:{paddingLeft:"5px"}},a.createElement(d.A,{id:"Apis.Details.ApiChat.ApiChat.loadingSpecEnrichmentMessage",defaultMessage:"We are in the process of preparing the API specification for API Chat."}))),v&&S&&a.createElement(m.A,{severity:S},a.createElement(A.A,{variant:"body1"},v)),!oe&&a.createElement(m.A,{severity:"warning"},a.createElement(A.A,{variant:"body1"},he)),!ne&&a.createElement(m.A,{severity:"info"},a.createElement(A.A,{variant:"body1"},a.createElement(d.A,{id:"Apis.Details.ApiChat.warning.notSignedIn",defaultMessage:"You must sign in if you wish to interact with API Chat bot."})))),a.createElement(r.A,{display:"flex",alignItems:"center",flexDirection:"column",marginTop:1},(!G||!(G&&(K||J)))&&oe&&ne&&!v&&!b&&a.createElement(m.A,{severity:"warning"},a.createElement(A.A,{variant:"body1"},Ae))),a.createElement(r.A,{sx:{ml:7,mr:7}},a.createElement(F,{isAgentRunning:n,isAgentTerminating:_,lastQuery:B,handleStopAndReExecute:()=>{n?(le.current.abort(),L(ce.formatMessage({id:"Apis.Details.ApiChat.components.finalOutcome.executionTerminated",defaultMessage:"Execution was terminated."})),W([]),s(!1)):(le.current=new AbortController,fe(B))},inputQuery:P,handleQueryChange:e=>{const{value:t}=e.target;$(t)},isEnrichingSpec:b,specEnrichmentError:v,handleExecute:async()=>{if(0!==P.length){le.current=new AbortController;const e=P;$(""),R(P),fe(e)}},isExecuteDisabled:!(se&&oe&&G&&G&&(K||J))})))))}},84782:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var a=n(96540),r=n(5556),i=n(88248),s=n(69067),o=n(99020),l=n(33551),c=n(34339),d=n(84798),p=n(58065),u=n(75897),m=n(32997),g=n(53036),h=n(85877),A=n(78874),y=n(46252),f=n(19455),x=n(17809);const C=e=>{let{isDrawerOpen:t,updateDrawerOpen:n,setTestAccessToken:r,onConfigChange:C}=e;const[b,E]=(0,a.useState)(null),[v,j]=(0,a.useState)("OAUTH"),[S,O]=(0,a.useState)(""),[T,k]=(0,a.useState)(""),[w,I]=(0,a.useState)([]),[M,D]=(0,a.useState)("PRODUCTION"),[P,$]=(0,a.useState)([]),[B,R]=(0,a.useState)(""),[N,L]=(0,a.useState)(""),[q,W]=(0,a.useState)(""),[z,U]=(0,a.useState)([]),[_,H]=(0,a.useState)("Resident Key Manager"),[K,Q]=(0,a.useState)(""),[G,F]=(0,a.useState)(""),[V,Y]=(0,a.useState)("Authorization"),[X,J]=(0,a.useState)(""),[Z,ee]=(0,a.useState)("PRODUCTION"),te=m.A.getUser(),{api:ne}=(0,a.useContext)(g._);return(0,a.useEffect)((()=>{E(ne)}),[ne]),(0,a.useEffect)((()=>{if(b){if(b.endpointURLs&&U(b.endpointURLs.map((e=>({name:e.environmentName,displayName:e.environmentDisplayName})))),b.scopes){const e=b.scopes.map((e=>e.key));I(e)}let e="OAUTH";b.securityScheme.includes("oauth2")||(e=b.securityScheme.includes("api_key")?"API-KEY":"BASIC"),z&&z.length>0&&R(z[0].name),L(N),W(q),j(e)}}),[b]),(0,a.useEffect)((()=>{b&&z&&z.length>0&&R(z[0].name)}),[z,b]),(0,a.useEffect)((()=>{n(t)}),[t]),null==b?a.createElement(h.A,null):a.createElement(a.Fragment,null,a.createElement(i.Ay,{title:"Configure Key",anchor:"right",open:t,onClose:()=>n(!1),id:"api-chat-configure-key-drawer",PaperProps:{sx:{width:"70%",borderRadius:1}}},a.createElement(s.A,{p:2},a.createElement(o.Ay,{container:!0,justifyContent:"space-between",alignItems:"center"},a.createElement(o.Ay,{item:!0,xs:10},a.createElement(l.A,{variant:"h6"},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.title",defaultMessage:"Security Configuration"}))),a.createElement(o.Ay,{item:!0,xs:2,display:"flex",justifyContent:"flex-end"},a.createElement(f.A,{onClick:()=>n(!1),size:"large"},a.createElement(x.A,null)))),a.createElement(o.Ay,{container:!0,padding:2},!te&&(!b.advertiseInfo||!b.advertiseInfo.advertised)&&a.createElement(c.A,{sx:{padding:1}},a.createElement(l.A,{variant:"h5",component:"h3"},a.createElement(u.A,{sx:{verticalAlign:"middle",marginBottom:.5}})," ",a.createElement(p.A,{id:"notice",defaultMessage:"Notice"})),a.createElement(l.A,{component:"p",align:"justify",sx:{padding:1}},a.createElement(p.A,{id:"api.console.require.access.token",defaultMessage:"You need an access token to try the API. Please log in and subscribe to the API to generate an access token. If you already have an access token, please provide it below."})))),a.createElement(o.Ay,{container:!0,justifyContent:"center",spacing:0},a.createElement(A.A,{setSecurityScheme:j,securitySchemeType:v,setSelectedEnvironment:R,selectedEnvironment:B,productionAccessToken:N,setProductionAccessToken:L,sandboxAccessToken:q,setSandboxAccessToken:W,environments:z,scopes:w,setUsername:O,setPassword:k,username:S,password:T,setSelectedKeyType:D,selectedKeyType:M,setSelectedKeyManager:(e,t,n)=>{t?(H(e),(e=>{let t;P.get(_)&&P.get(_).keyType===M?(({accessToken:t}=P.get(_).token),"PRODUCTION"===M?L(t):W(t)):y.A.get(e).then((e=>e.getKeys(M))).then((e=>{e.get(_)&&e.get(_).keyType===M&&({accessToken:t}=e.get(_).token),"PRODUCTION"===e.get(_).keyType?L(t):W(t),$(e)}))})(n)):H(e)},selectedKeyManager:_,setKeys:$,setProductionApiKey:Q,setSandboxApiKey:F,productionApiKey:K,sandboxApiKey:G,setAdvAuthHeader:Y,setAdvAuthHeaderValue:J,advAuthHeader:V,advAuthHeaderValue:X,setSelectedEndpoint:ee,selectedEndpoint:Z,api:b,URLs:null,autoGenerateToken:!0,setTestAccessToken:r,onConfigChange:C})),a.createElement(o.Ay,{container:!0,justifyContent:"right",pr:2},a.createElement(d.A,{variant:"outlined",type:"submit",color:"primary","data-testid":"key-details-cancel",onClick:()=>n(!1),sx:{marginRight:"1em"}},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.btn.cancel",defaultMessage:"Cancel"})),a.createElement(d.A,{variant:"contained",type:"submit",color:"primary","data-testid":"key-details-save",onClick:()=>n(!1)},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.btn.done",defaultMessage:"Done"}))))))};C.propTypes={isDrawerOpen:r.PropTypes.bool.isRequired,updateDrawerOpen:r.PropTypes.func.isRequired,setTestAccessToken:r.PropTypes.func.isRequired,onConfigChange:r.PropTypes.func.isRequired};const b=C}}]);
//# sourceMappingURL=ApiChat.3c5266d52b7060a0c482.bundle.js.map