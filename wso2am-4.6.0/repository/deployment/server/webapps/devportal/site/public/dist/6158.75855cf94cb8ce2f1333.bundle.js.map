{"version":3,"file":"6158.75855cf94cb8ce2f1333.bundle.js","mappings":"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","sources":["webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/ImportExternalApp.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/ViewCurl.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/TokenExchangeKeyConfiguration.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/AppConfiguration.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/KeyConfiguration.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/ViewKeys.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/WaitingForApproval.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/TokenManagerSummary.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/RemoveKeys.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/CleanKeys.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/AppsAndKeys/TokenManager.jsx","webpack://@wso2apim/devportal/./source/src/app/components/Shared/ScopeValidation.jsx","webpack://@wso2apim/devportal/./source/src/app/data/Subscription.jsx"],"sourcesContent":["/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport Typography from '@mui/material/Typography';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport PlayForWorkIcon from '@mui/icons-material/PlayForWork';\nimport { ScopeValidation, resourceMethods, resourcePaths } from 'AppComponents/Shared/ScopeValidation';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport FormControl from '@mui/material/FormControl';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport Settings from 'AppComponents/Shared/SettingsContext';\n\nfunction ImportExternalApp(props) {\n    const {\n        consumerKey, consumerSecret, onChange, isUserOwner, key, provideOAuthKeySecret, importDisabled,\n    } = props;\n    const intl = useIntl();\n\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const [isOrgWideAppUpdateEnabled, setIsOrgWideAppUpdateEnabled] = useState(false);\n    const settingsContext = useContext(Settings);\n\n    /**\n     * Updates isOrgWideAppUpdateEnabled whenever settingsContext changes\n     */\n    useEffect(() => {\n        const orgWideAppUpdateEnabled = settingsContext.settings.orgWideAppUpdateEnabled;\n        setIsOrgWideAppUpdateEnabled(orgWideAppUpdateEnabled);\n    }, [settingsContext]);\n\n    /**\n     * Handle onChange of provided consumer key and secret\n     *\n     * @param event\n     */\n    function handleChange(event) {\n        if (onChange) {\n            onChange(event);\n        }\n    }\n    return (\n        <>\n            <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                startIcon={<PlayForWorkIcon />}\n                onClick={handleClickOpen}\n                disabled={importDisabled}\n            >\n                <FormattedMessage\n                    defaultMessage='Provide Existing OAuth Keys'\n                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth'\n                />\n            </Button>\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\"><FormattedMessage\n                    defaultMessage='Provide Existing OAuth Keys'\n                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth'\n                /></DialogTitle>\n                <DialogContent>\n\n                    <Grid container spacing={3} direction='column'>\n                        <Grid item xs={12}>\n                            <TextField\n                                id='provided-consumer-key'\n                                name='providedConsumerKey'\n                                label={intl.formatMessage({\n                                    defaultMessage: 'Consumer Key',\n                                    id: 'Shared.AppsAndKeys.ImportExternalApp.consumer.key',\n                                })}\n                                value={consumerKey}\n                                onChange={e => handleChange(e)}\n                                margin='normal'\n                                fullWidth\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                                variant='outlined'\n                            />\n                            <FormControl variant=\"standard\">\n                                <FormHelperText id='consumer-key-helper-text'>\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ImportExternalApp.consumer.key.title'\n                                        defaultMessage='Consumer Key of the OAuth application'\n                                    />\n                                </FormHelperText>\n                            </FormControl>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id='provided-consumer-secret'\n                                name='providedConsumerSecret'\n                                label={intl.formatMessage({\n                                    defaultMessage: 'Consumer Secret',\n                                    id: 'Shared.AppsAndKeys.ImportExternalApp.consumer.secret',\n                                })}\n                                value={consumerSecret}\n                                onChange={e => handleChange(e)}\n                                margin='normal'\n                                fullWidth\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                                variant='outlined'\n                            />\n                            <FormControl variant=\"standard\">\n                                <FormHelperText id='consumer-secret-helper-text'>\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ImportExternalApp.consumer.secret.of.application'\n                                        defaultMessage='Consumer Secret of the OAuth application'\n                                    />\n                                </FormHelperText>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        <FormattedMessage\n                            defaultMessage='Cancel'\n                            id='Shared.AppsAndKeys.ImportExternalApp.cancel'\n                        />\n                    </Button>\n                    <ScopeValidation\n                        resourcePath={resourcePaths.APPLICATION_GENERATE_KEYS}\n                        resourceMethod={resourceMethods.POST}\n                    >\n                        {!isOrgWideAppUpdateEnabled && !isUserOwner ? (\n                            <>\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => provideOAuthKeySecret()}\n                                    disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                                >\n                                    {\n                                        key\n                                            ? (\n                                                <FormattedMessage\n                                                    defaultMessage='Update'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.\n                                                    oauth.button.update'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    defaultMessage='Provide'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide'\n                                                />\n                                            )\n                                    }\n                                </Button>\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        defaultMessage='Only owner can provide keys'\n                                        id='Shared.AppsAndKeys.ImportExternalApp.key.provide.user.owner'\n                                    />\n                                </Typography>\n                            </>\n                        ) : (\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => provideOAuthKeySecret()}\n                                >\n                                    {\n                                        key\n                                            ? (\n                                                <FormattedMessage\n                                                    defaultMessage='Update'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.update'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    defaultMessage='Provide'\n                                                    id='Shared.AppsAndKeys.ImportExternalApp.provide.oauth.button.provide'\n                                                />\n                                            )\n                                    }\n                                </Button>\n                            )}\n                    </ScopeValidation>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\nImportExternalApp.propTypes = {\n    intl: PropTypes.shape({}).isRequired,\n    onChange: PropTypes.func.isRequired,\n    consumerKey: PropTypes.string,\n    consumerSecret: PropTypes.string,\n    isUserOwner: PropTypes.string,\n    key: PropTypes.shape({}).isRequired,\n    provideOAuthKeySecret: PropTypes.func.isRequired,\n    importDisabled: PropTypes.bool,\n};\n\nImportExternalApp.defaultProps = {\n    consumerKey: '',\n    consumerSecret: '',\n    isUserOwner: false,\n    importDisabled: false,\n};\n\nexport default ImportExternalApp;\n\n\n\n\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useContext } from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@mui/material';\nimport FileCopy from '@mui/icons-material/FileCopy';\nimport Tooltip from '@mui/material/Tooltip';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport IconButton from \"@mui/material/IconButton\";\n\nconst PREFIX = 'ViewCurl';\n\nconst classes = {\n    code: `${PREFIX}-code`,\n    command: `${PREFIX}-command`,\n    encodeVisible: `${PREFIX}-encodeVisible`,\n    contentWrapper: `${PREFIX}-contentWrapper`\n};\n\n// TODO jss-to-styled codemod: The Fragment root was replaced by div. Change the tag if needed.\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.code}`]: {\n        padding: theme.spacing(1),\n        marginBottom: theme.spacing(2),\n        background: theme.palette.grey[200],\n        color: '#da2316',\n        flex: 1,\n    },\n\n    [`& .${classes.command}`]: {\n        color: '#2b62b0',\n    },\n\n    [`& .${classes.encodeVisible}`]: {\n        cursor: 'pointer',\n        textDecoration: 'underline',\n    },\n\n    [`& .${classes.contentWrapper}`]: {\n        display: 'flex',\n    }\n}));\n\n/**\n *\n * @param {*} props\n */\nfunction ViewCurl(props) {\n\n    const {\n        keys: { consumerKey, consumerSecret },\n        intl,\n        keyManagerConfig,\n        jwtToken,\n        defaultTokenEndpoint,\n    } = props;\n    const bas64Encoded = window.btoa(consumerKey + ':' + consumerSecret);\n    const [showReal, setShowReal] = useState(false);\n    const [tokenCopied, setTokenCopied] = useState(false);\n    const onCopy = () => {\n        setTokenCopied(true);\n        const caller = function () {\n            setTokenCopied(false);\n        };\n        setTimeout(caller, 4000);\n    };\n\n    const applyReal = () => {\n        setShowReal(!showReal);\n    };\n    // Check for additional properties for token endpoint and revoke endpoints.\n    let { tokenEndpoint } = keyManagerConfig;\n    const isAzureAD = keyManagerConfig.type === 'AzureAD';\n    const azureScope = isAzureAD ? ` -d \"scope=api://${consumerKey}/.default\"` : '';\n    if (keyManagerConfig.alias === null ) {\n        return (\n            <Root>\n                <Typography>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewCurl.help'\n                        defaultMessage='The following cURL command shows how to generate an access token using\n                            the Password Grant type.'\n                    />\n                </Typography>\n\n                <div className={classes.contentWrapper}>\n                    <div className={classes.code}>\n                        <div>\n                            <span className={classes.command}>curl -k -X POST </span> {tokenEndpoint}\n                            <span className={classes.command}> -d </span>{' '}\n                            {'\"grant_type=password&username=Username&password=Password\"'}\n                        </div>\n                        <div>\n                            <span className={classes.command}> -H </span>\n                            {'\"Authorization: Basic'}\n                            <a onClick={applyReal} className={classes.encodeVisible}>\n                                {showReal ? ' ' + bas64Encoded : ' Base64(consumer-key:consumer-secret)'}\n                            </a>\n                            {'\"'}\n                        </div>\n                    </div>\n                    <div>\n                        <Tooltip\n                            title={\n                                tokenCopied\n                                    ? intl.formatMessage({\n                                        defaultMessage: 'Copied',\n                                        id: 'Shared.AppsAndKeys.ViewCurl.copied',\n                                    })\n                                    : intl.formatMessage({\n                                        defaultMessage: 'Copy to clipboard',\n                                        id: 'Shared.AppsAndKeys.ViewCurl.copy.to.clipboard',\n                                    })\n                            }\n                            placement='right'\n                        >\n                            <IconButton\n                                id = 'copy-to-clipbord-icon'\n                                aria-label='Copy to clipboard'\n                                size=\"large\"\n                                onClick={() => {navigator.clipboard.writeText(`curl -k -X POST ${tokenEndpoint} -d ` +\n                                    '\"grant_type=password&username=Username&password=Password\" -H ' +\n                                    `\"Authorization: Basic ${bas64Encoded}\"`).then(onCopy())}}\n                            >\n                                <FileCopy color='secondary'/>\n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                </div>\n                <Typography>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewCurl.help.in.a.similar'\n                        defaultMessage={`In a similar manner, you can generate an access token using the\n                    Client Credentials grant type with the following cURL command.`}\n                    />\n                </Typography>\n                <div className={classes.contentWrapper}>\n                    <div className={classes.code}>\n                        <div>\n                            <span className={classes.command}>curl -k -X POST </span> {tokenEndpoint}\n                            <span className={classes.command}> -d </span>{' '}\n                            {'\"grant_type=client_credentials\"'}\n                            {isAzureAD && (\n                              <>\n                                <span className={classes.command}> -d </span>\n                                {' '}\n                                {`\"scope=api://${consumerKey}/.default\"`}\n                              </>\n                            )}\n                        </div>\n                        <div>\n                            <span className={classes.command}> -H </span>\n                            {'\"Authorization: Basic'}\n                            <a onClick={applyReal} className={classes.encodeVisible}>\n                                {showReal ? ' ' + bas64Encoded : ' Base64(consumer-key:consumer-secret)'}\n                            </a>\n                            {'\"'}\n                        </div>\n                    </div>\n                    <div>\n                        <Tooltip\n                            title={\n                                tokenCopied\n                                    ? intl.formatMessage({\n                                        defaultMessage: 'Copied',\n                                        id: 'Shared.AppsAndKeys.ViewCurl.copied',\n                                    })\n                                    : intl.formatMessage({\n                                        defaultMessage: 'Copy to clipboard',\n                                        id: 'Shared.AppsAndKeys.ViewCurl.copy.to.clipboard',\n                                    })\n                            }\n                            placement='right'\n                        >\n                            <IconButton\n                                id = 'copy-to-clipbord-icon'\n                                aria-label='Copy to clipboard'\n                                size=\"large\"\n                                onClick={() => {navigator.clipboard.writeText(`curl -k -X POST ${tokenEndpoint} -d ` +\n                                  '\"grant_type=client_credentials\"' + azureScope + ' -H ' +\n                                    `\"Authorization: Basic ${bas64Encoded}\"`).then(onCopy())}}\n                            >\n                                <FileCopy color='secondary'/>\n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                </div>\n            </Root>\n        );\n    } else {\n        if (consumerKey === false) {\n            return (\n                <Root>\n                    <Typography>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewCurl.error'\n                            defaultMessage='Please generate the Consumer Key and Secret for Residence Key Manager with selecting the urn:ietf:params:oauth:grant-type:token-exchange grant type in\n                                             order to use the token Exchange Approach. '\n                        />\n                    </Typography>\n                </Root>\n                )\n        } else {\n            return (\n                <Root>\n                    <Typography>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.ViewCurl.TokenExchange.help'\n                            defaultMessage='The following cURL command shows how to generate an access token using the\n                        token exchange grant type'\n                        />\n                    </Typography>\n\n                    <div className={classes.contentWrapper}>\n                        <div className={classes.code}>\n                            <div>\n                                <span className={classes.command}>curl -k -X POST </span> {defaultTokenEndpoint}\n                                <span className={classes.command}> -d </span>{' '}\n                                {'\"grant_type=urn:ietf:params:oauth:grant-type:token-exchange\"'}\n                                <span className={classes.command}> -d </span>{' '}\n                                {'\"subject_token_type=urn:ietf:params:oauth:token-type:jwt\"'}\n                                <span className={classes.command}> -d </span>{' '}\n                                {'\"requested_token_type=urn:ietf:params:oauth:token-type:jwt\" '}\n                                <span className={classes.command}> -d </span>{' '}\n                                {'\"subject_token=\"'}\n                                <a onClick={applyReal} className={classes.encodeVisible}>\n                                    {showReal ? ' ' + jwtToken : 'jwtToken'}\n                                </a>\n                            </div>\n                            <div>\n                                <span className={classes.command}> -H </span>\n                                {'\"Authorization: Basic'}\n                                <a onClick={applyReal} className={classes.encodeVisible}>\n                                    {showReal ? ' ' + bas64Encoded : ' Base64(consumer-key:consumer-secret)'}\n                                </a>\n                                {'\"'}\n                            </div>\n                        </div>\n                        <div>\n                            <Tooltip\n                                title={\n                                    tokenCopied\n                                        ? intl.formatMessage({\n                                            defaultMessage: 'Copied',\n                                            id: 'Shared.AppsAndKeys.ViewCurl.copied',\n                                        })\n                                        : intl.formatMessage({\n                                            defaultMessage: 'Copy to clipboard',\n                                            id: 'Shared.AppsAndKeys.ViewCurl.copy.to.clipboard',\n                                        })\n                                }\n                                placement='right'\n                            >\n                                <IconButton\n                                    id = 'copy-to-clipbord-icon'\n                                    aria-label='Copy to clipboard'\n                                    size=\"large\"\n                                    onClick={() => {navigator.clipboard.writeText(`curl -k -X POST ${defaultTokenEndpoint} -d ` +\n                                        '\"grant_type=urn:ietf:params:oauth:grant-type:token-exchange\" -d ' +\n                                        '\"subject_token_type=urn:ietf:params:oauth:token-type:jwt\" -d ' +\n                                        '\"requested_token_type=urn:ietf:params:oauth:token-type:jwt\" -d ' +\n                                        `\"subject_token=${jwtToken}\"  -H ` +\n                                        `\"Authorization: Basic ${bas64Encoded}\"`).then(onCopy())}}\n                                >\n                                    <FileCopy color='secondary'/>\n                                </IconButton>\n                            </Tooltip>\n                        </div>\n                    </div>\n                </Root>\n            );\n        }\n    }\n}\n\nViewCurl.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    keys: PropTypes.shape({}).isRequired,\n    apis: PropTypes.shape({}).isRequired,\n    jwtToken: PropTypes.string,\n    defaultTokenEndpoint: PropTypes.string,\n};\n\nexport default injectIntl(ViewCurl);\n","/*\n * Copyright (c) 2021, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {useReducer, useState} from 'react';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport IconButton from '@mui/material/IconButton';\nimport Icon from '@mui/material/Icon';\nimport {FormattedMessage, useIntl} from 'react-intl';\nimport PropTypes from 'prop-types';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport Typography from \"@mui/material/Typography\";\nimport Grid from \"@mui/material/Grid\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport ViewCurl from \"AppComponents/Shared/AppsAndKeys/ViewCurl\";\nimport ViewToken from \"AppComponents/Shared/AppsAndKeys/ViewToken\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Button from \"@mui/material/Button\";\nimport Application from \"AppData/Application\";\nimport Loading from \"AppComponents/Base/Loading/Loading\";\nimport Alert from \"AppComponents/Shared/Alert\";\nimport Tokens from \"AppComponents/Shared/AppsAndKeys/Tokens\";\nimport {TableBody, TableCell, TableRow} from \"@mui/material\";\nimport Table from \"@mui/material/Table\";\n\nconst PREFIX = 'TokenExchangeKeyConfiguration';\n\nconst classes = {\n    FormControl: `${PREFIX}-FormControl`,\n    FormControlOdd: `${PREFIX}-FormControlOdd`,\n    button: `${PREFIX}-button`,\n    quotaHelp: `${PREFIX}-quotaHelp`,\n    checkboxWrapper: `${PREFIX}-checkboxWrapper`,\n    generateWrapper: `${PREFIX}-generateWrapper`,\n    checkboxWrapperColumn: `${PREFIX}-checkboxWrapperColumn`,\n    group: `${PREFIX}-group`,\n    removeHelperPadding: `${PREFIX}-removeHelperPadding`,\n    iconStyle: `${PREFIX}-iconStyle`,\n    iconButton: `${PREFIX}-iconButton`,\n    titleColumn: `${PREFIX}-titleColumn`,\n    keyInfoTable: `${PREFIX}-keyInfoTable`,\n    leftCol: `${PREFIX}-leftCol`,\n    stepLabel: `${PREFIX}-stepLabel`,\n    stepContent: `${PREFIX}-stepContent`,\n    keyLabel: `${PREFIX}-keyLabel`,\n    idpGrid: `${PREFIX}-idpGrid`,\n    helperTextError: `${PREFIX}-helperTextError`,\n    input: `${PREFIX}-input`,\n    avatar: `${PREFIX}-avatar`,\n    copyIconStyle: `${PREFIX}-copyIconStyle`,\n    hr: `${PREFIX}-hr`,\n    divCenter: `${PREFIX}-divCenter`,\n    tableHeader: `${PREFIX}-tableHeader`,\n    helperText: `${PREFIX}-helperText`,\n    dialogWrapper: `${PREFIX}-dialogWrapper`,\n    margin: `${PREFIX}-margin`,\n    tokenSection: `${PREFIX}-tokenSection`,\n    inputWrapper: `${PREFIX}-inputWrapper`,\n    bottomInfo: `${PREFIX}-bottomInfo`\n};\n\n// TODO jss-to-styled codemod: The Fragment root was replaced by div. Change the tag if needed.\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`& .${classes.FormControl}`]: {\n        paddingTop: 0,\n        paddingBottom: theme.spacing(2),\n        paddingLeft: 0,\n        width: '100%',\n    },\n\n    [`& .${classes.FormControlOdd}`]: {\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n\n    [`& .${classes.button}`]: {\n        marginLeft: theme.spacing(1),\n    },\n\n    [`& .${classes.quotaHelp}`]: {\n        position: 'relative',\n    },\n\n    [`& .${classes.checkboxWrapper}`]: {\n        display: 'flex',\n    },\n\n    [`& .${classes.generateWrapper}`]: {\n        padding: '10px 0px',\n        marginLeft: theme.spacing(1.25),\n    },\n\n    [`& .${classes.checkboxWrapperColumn}`]: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flexDirection: 'row',\n        whiteSpace: 'nowrap',\n    },\n\n    [`& .${classes.group}`]: {\n        flexDirection: 'row',\n    },\n\n    [`& .${classes.removeHelperPadding}`]: {\n        '& p': {\n            margin: '8px 0px',\n        },\n    },\n\n    [`& .${classes.iconStyle}`]: {\n        cursor: 'pointer',\n        padding: '0 0 0 10px',\n    },\n\n    [`& .${classes.iconButton}`]: {\n        padding: '0 0 0 10px',\n        '& .material-icons': {\n            fontSize: 16,\n        },\n    },\n\n    [`& .${classes.titleColumn}`]: {\n        width: 150,\n        fontWeight: 500,\n    },\n\n    [`& .${classes.keyInfoTable}`]: {\n        marginBottom: 20,\n        borderCollapse: 'collapse',\n        '& td': {\n            paddingBottom: 5,\n            borderBottom: 'solid 1px #cccc',\n        },\n    },\n\n    [`& .${classes.leftCol}`]: {\n        width: 180,\n    },\n\n    [`& .${classes.stepLabel}`]: {\n        color: \"#5567d5\",\n        alignSelf: 'center',\n    },\n\n    [`& .${classes.stepContent}`]: {\n        color: '#1D2028',\n        fontSize: '0.75rem',\n    },\n\n    [`& .${classes.keyLabel}`]: {\n        color: '#222228',\n        fontSize: '0.75rem',\n        marginLeft: theme.spacing(1)\n    },\n\n    [`& .${classes.idpGrid}`]: {\n        textAlign: 'left',\n        margin: theme.spacing(0),\n        alignSelf: 'center',\n    },\n\n    [`& .${classes.helperTextError}`]: {\n        display: \"flex\",\n        alignItems: \"center\",\n        fontSize: 10.5\n    },\n\n    [`& .${classes.input}`]: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n\n    [`& .${classes.avatar}`]: {\n        width: 30,\n        height: 30,\n        background: 'transparent',\n        border: `solid 1px ${theme.palette.grey[300]}`\n    },\n\n    [`& .${classes.copyIconStyle}`]: {\n        cursor: 'pointer',\n        margin: '-10px 0',\n        padding: '0 0 0 5px',\n        '& .material-icons': {\n            fontSize: 18,\n            color: '#9c9c9c',\n        },\n    },\n\n    [`& .${classes.hr}`]: {\n        border: 'solid 1px #efefef',\n    },\n\n    [`& .${classes.divCenter}`]: {\n        alignSelf: 'center',\n        width: 180\n    },\n\n    [`& .${classes.tableHeader}`]: {\n        borderBottom: 'none',\n\n    },\n\n    [`& .${classes.helperText}`]: {\n        marginLeft: 0,\n        color: '#8D91A3',\n        lineHeight: 1.6,\n        maxWidth: 410\n    },\n\n    [`& .${classes.dialogWrapper}`]: {\n        '& label,& h5, & label, & td, & li, & input, & h2, & p.MuiTypography-root,& p.MuiFormHelperText-root': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n\n    [`& .${classes.margin}`]: {\n        marginRight: theme.spacing(2),\n    },\n\n    [`& .${classes.tokenSection}`]: {\n        marginTop: 0,\n        marginBottom: theme.spacing(0.5),\n    },\n\n    [`& .${classes.inputWrapper}`]: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        '& span, & h5, & label, & td, & li, & div, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n\n    [`& .${classes.bottomInfo}`]: {\n        fontSize: 12,\n        marginBottom: '10px',\n    }\n}));\n\nfunction reducer(state, newValue) {\n    const {field, value} = newValue;\n    switch (field) {\n        case 'tokenResponse':\n        case 'token':\n        case 'tokenScopes':\n        case 'tokenValidityTime':\n        case 'accessTokenRequest':\n        case 'subscriptionScopes':\n        case 'externalIDPToken':\n        case 'externalIDPTokenError':\n        case 'isKeyJWT':\n        case 'initialExecution':\n            return {...state, [field]: value};\n        case 'all':\n            return value;\n        default:\n            return newValue;\n    }\n}\n\n\n/**\n *\n *\n * @class TokenExchangeKeyConfiguration\n * @extends {React.Component}\n */\nconst TokenExchangeKeyConfiguration = (props) => {\n    const [urlCopied, setUrlCopied] = useState(false);\n    const [showCS, setShowCS] = useState(false);\n    const [open, setOpen] = useState(false);\n    const [showToken, setShowToken] = useState(false);\n    const [showCurl, setShowCurl] = useState(false);\n    const [showSecretGen, setShowSecretGen] = useState(false);\n    const [notFound, setNotFound] = useState(false);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [isResidenceTokenAvailable, setIsResidenceTokenAvailable] = useState(true);\n\n\n    const [initialState] = useState({\n        tokenResponse: '',\n        token: '',\n        tokenScope: '',\n        tokenValidityTime: '',\n        accessTokenRequest: {\n            timeout: 3600,\n            scopesSelected: [],\n            keyType: '',\n        },\n        subscriptionScopes: [],\n        externalIDPToken: '',\n        externalIDPTokenError: '',\n        isKeyJWT: false,\n        initialExecution: true,\n    });\n\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    const {\n        tokenResponse, accessTokenRequest, externalIDPToken, externalIDPTokenError, subscriptionScopes,\n        tokenValidityTime, token, isKeyJWT, initialExecution\n    } = state\n\n    const intl = useIntl();\n\n    const {\n        keyManagerConfig, defaultTokenEndpoint, selectedApp, selectedTab, selectedApp: {hashEnabled}, keys, fullScreen, keyType\n    } = props;\n\n    let appId;\n    if (selectedApp) {\n        appId = selectedApp.appId || selectedApp.value;\n    }\n\n    const applicationPromise = Application.get(appId);\n\n    if (initialExecution) {\n        applicationPromise\n            .then((application) => {\n                application.getKeys().then(() => {\n                    const newRequest = {...accessTokenRequest, keyType};\n                    const subscriptionScopes = application.subscriptionScopes\n                        .map((scope) => {\n                            return scope.key;\n                        });\n                    dispatch({field: 'accessTokenRequest', value: newRequest});\n                    dispatch({field: 'subscriptionScopes', value: subscriptionScopes});\n                    dispatch({field: 'initialExecution', value: false});\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const {status} = error;\n                if (status === 404) {\n                    setNotFound(true)\n                }\n                dispatch({field: 'initialExecution', value: false});\n            });\n    }\n\n    const generateAccessToken = () => {\n        setIsUpdating(true);\n        applicationPromise.then((application) => application.generateToken(\n            selectedTab,\n            accessTokenRequest.keyType,\n            accessTokenRequest.timeout,\n            accessTokenRequest.scopesSelected,\n            true,\n            externalIDPToken,\n        ))\n            .then((response) => {\n                console.log('token generated successfully ' + response);\n                setShowToken(true);\n                dispatch({field: 'tokenResponse', value: response});\n                dispatch({field: 'token', value: response.accessToken});\n                dispatch({field: 'tokenScopes', value: response.tokenScopes})\n                dispatch({field: 'tokenValidityTime', value: response.validityTime})\n                setIsUpdating(false);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const {status} = error;\n                if (status === 404) {\n                    setNotFound(true)\n                } else if (status === 400) {\n                    Alert.error(error.description\n                        || intl.formatMessage({\n                            id: 'Shared.AppsAndKeys.TokenManager.key.generate.bad.request.error',\n                            defaultMessage: 'Error occurred when generating Access Token',\n                        }));\n                }\n                setIsUpdating(false);\n                const {response} = error;\n                if (response && response.body) {\n                    Alert.error(response.body.message);\n                }\n            });\n    };\n\n    const onCopy = () => {\n        setUrlCopied(true);\n        const caller = function () {\n            setUrlCopied(false);\n        };\n        setTimeout(caller, 2000);\n    };\n\n    let dialogHead;\n    if (showCurl) {\n        dialogHead = 'Get CURL to Generate Access Token';\n    } else if (showSecretGen) {\n        dialogHead = 'Generate Consumer Secret';\n    } else {\n        dialogHead = 'Generate Access Token';\n    }\n\n    const validateExternalIDPToken = (token) => {\n        if (token === \"\") {\n            return (\n                <FormattedMessage\n                    id='application.productionKeys.oAuth.externalIdp.tokenGeneration.token.empty.helperText'\n                    defaultMessage={`{selectedIdPType} token cannot be empty`}\n                    values={{selectedIdPType: keyManagerConfig.type}}\n\n                />\n            );\n        }\n        {\n            return \"\";\n        }\n    };\n\n    const onExternalIDPTokenChange = (event) => {\n        const externalIDPToken = event.target.value;\n        dispatch({field: 'externalIDPTokenError', value: validateExternalIDPToken(externalIDPToken)})\n        dispatch({field: 'externalIDPToken', value: externalIDPToken})\n    };\n\n\n    if (notFound) {\n        return <ResourceNotFound/>;\n    }\n    if (!keys) {\n        return <Loading/>;\n    }\n\n\n    /**\n     * Set accesstoken request in state\n     * @param {*} accessTokenRequest access token request object\n     * @memberof ViewKeys\n     */\n    const updateAccessTokenRequest = (accessTokenRequest) => {\n        dispatch({field: 'accessTokenRequest', value: accessTokenRequest})\n    }\n\n    /**\n     * Handle on close of dialog for generating access token and get curl\n     * */\n    const handleClose = () => {\n        setOpen(false);\n        setShowCurl(false);\n        setShowSecretGen(false);\n        dispatch({field: \"isKeyJWT\", value: false})\n\n    };\n\n    /**\n     * Handle on open of dialog for generating access token\n     * */\n    const handleClickOpen = () => {\n            setOpen(true);\n    };\n    /**\n     * Handle on open of dialog for generating access token and get curl\n     * */\n    const handleClickOpenCurl = () => {\n        setOpen(true);\n        setShowCurl(true)\n    };\n\n\n    const csCkKeys = keys.size > 0 && keys.get(\"Resident Key Manager\") && (keys.get(\"Resident Key Manager\").keyType === keyType)\n        && keys.get(\"Resident Key Manager\") || false;\n    const consumerKey = csCkKeys && csCkKeys.consumerKey;\n    const consumerSecret = csCkKeys && csCkKeys.consumerSecret;\n    return (\n        <Root>\n                    <Box display='flex' alignItems='center'>\n                        <Table className={classes.table}>\n                            <TableBody>\n                                <TableRow>\n                                    <TableCell component='th' scope='row'\n                                               className={[classes.leftCol, classes.tableHeader]}>\n                                        <FormattedMessage\n                                            id=\"application.productionKeys.oAuth.externalIdp.tokenGeneration.step1\"\n                                            defaultMessage=\"Step 1:\"\n                                        />\n                                    </TableCell>\n                                    <TableCell className={classes.tableHeader}>\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.externalIdp.tokenGeneration.step1.description'\n                                            defaultMessage={`Obtain an access token from {selectedIdpType}. `}\n                                            values={{selectedIdpType: keyManagerConfig.type}}\n\n                                        />\n\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.externalIdp.tokenGeneration.audience'\n                                            defaultMessage='Use the audience value \"{allowedAudience}\", '\n                                            values={{allowedAudience: <b>{keyManagerConfig.alias}</b>}}\n                                        />\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell className={classes.leftCol}>\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.tokenEndpoint'\n                                            defaultMessage='Token Endpoint'\n                                        />\n                                    </TableCell>\n                                    <TableCell>\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.tokenEndpoint.value'\n                                            defaultMessage={'{tokenEndpoint}'}\n                                            values={{tokenEndpoint: keyManagerConfig.tokenEndpoint}}\n                                        />\n\n                                        <Tooltip\n                                            title={\n                                                urlCopied\n                                                    ? intl.formatMessage({\n                                                        defaultMessage: 'Copied',\n                                                        id: 'Shared.AppsAndKeys.TokenExchangeKeyConfiguration.copied',\n                                                    })\n                                                    : intl.formatMessage({\n                                                        defaultMessage: 'Copy to clipboard',\n                                                        id: 'Shared.AppsAndKeys.TokenExchangeKeyConfiguration.copy.to.clipboard',\n                                                    })\n                                            }\n                                            placement='right'\n                                            className={classes.iconStyle}\n                                        >\n                                            <IconButton\n                                                aria-label='Copy to clipboard'\n                                                classes={{root: classes.iconButton}}\n                                                size=\"large\"\n                                                onClick={() => {navigator.clipboard.writeText(keyManagerConfig.tokenEndpoint).then(onCopy())}}\n                                            >\n                                                <Icon color='secondary'>file_copy</Icon>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell component='th' scope='row'\n                                               className={[classes.leftCol, classes.tableHeader]}>\n                                        <FormattedMessage\n                                            id=\"application.productionKeys.oAuth.tokenGeneration.step2\"\n                                            defaultMessage=\"Step 2:\"\n                                        />\n                                    </TableCell>\n                                    <TableCell className={classes.tableHeader}>\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.tokenGeneration.step2.description'\n                                            defaultMessage='Obtain test token'\n                                        />\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell component='th' scope='row' className={classes.leftCol}>\n                                        <FormattedMessage\n                                            id='application.productionKeys.oAuth.externalIdp.tokenGeneration.token'\n                                            defaultMessage={`{selectedIdpType} Token`}\n                                            values={{selectedIdpType: keyManagerConfig.type}}\n\n                                        />\n                                        <span className={classes.error}> *</span>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Box maxWidth={600}>\n                                            <TextField\n                                                id='external-idp-token'\n                                                onChange={onExternalIDPTokenChange}\n                                                size=\"small\"\n                                                fullWidth\n                                                rows={1}\n                                                value={externalIDPToken}\n                                                variant=\"outlined\"\n                                                error={externalIDPTokenError !== \"\"}\n                                                FormHelperTextProps={{\n                                                    className: classes.helperText\n                                                }}\n                                                helperText={externalIDPTokenError === \"\" ?\n                                                    externalIDPTokenError :\n                                                    <div className={classes.helperTextError}>\n                                                        <p> {externalIDPTokenError} </p>\n                                                    </div>\n                                                }\n                                                className={classes.textField}\n                                                data-testid='external-idp-token'\n                                            />\n                                        </Box>\n                                    </TableCell>\n                                </TableRow>\n                            </TableBody>\n                        </Table>\n                    </Box>\n                    <Box>\n                        <div className={classes.inputWrapper}>\n                            <Grid container spacing={3}>\n                                <Grid item xs={12}>\n                                    <Dialog\n                                        fullScreen={fullScreen}\n                                        open={open}\n                                        onClose={handleClose}\n                                        aria-labelledby='responsive-dialog-title'\n                                        className={classes.dialogWrapper}\n                                    >\n                                        <DialogTitle id='responsive-dialog-title'>\n                                            {dialogHead}\n                                        </DialogTitle>\n                                        <DialogContent>\n                                            {(!showCurl && !isKeyJWT && !showSecretGen) && (\n                                                <DialogContentText>\n                                                    {(!showToken && isResidenceTokenAvailable) && (\n                                                        <Tokens\n                                                            updateAccessTokenRequest={updateAccessTokenRequest}\n                                                            accessTokenRequest={accessTokenRequest}\n                                                            subscriptionScopes={subscriptionScopes}\n                                                        />\n                                                    )}\n                                                    {(!showToken && !isResidenceTokenAvailable) && (\n                                                        <React.Fragment>\n                                                            <Typography>\n                                                                <FormattedMessage\n                                                                    id='Shared.AppsAndKeys.ViewCurl.error'\n                                                                    defaultMessage='Please generate the Consumer Key and Secret for Residence Key Manager with selecting the urn:ietf:params:oauth:grant-type:token-exchange grant type in\n                                                                            order to use the token Exchange Approach. '\n                                                                />\n                                                            </Typography>\n                                                        </React.Fragment>\n                                                    )}\n                                                    {showToken &&\n                                                    <ViewToken token={{...tokenResponse, isOauth: true}} isResidenceTokenAvailable={isResidenceTokenAvailable} isTokenExchange />}\n                                                </DialogContentText>\n                                            )}\n                                            {showCurl && (\n                                                <DialogContentText>\n                                                    <ViewCurl\n                                                        keys={{consumerKey, consumerSecret}}\n                                                        keyType={keyType}\n                                                        jwtToken={externalIDPToken}\n                                                        keyManagerConfig={keyManagerConfig}\n                                                        defaultTokenEndpoint={defaultTokenEndpoint}\n                                                    />\n                                                </DialogContentText>\n                                            )}\n                                        </DialogContent>\n                                        <DialogActions>\n                                            {isUpdating && <CircularProgress size={24}/>}\n                                            {(!showToken && !showCurl && !showSecretGen && isResidenceTokenAvailable) && (\n                                                <Button onClick={generateAccessToken} color='primary'\n                                                        disabled={isUpdating}>\n                                                    <FormattedMessage\n                                                        id='Shared.AppsAndKeys.ViewKeys.consumer.generate.btn'\n                                                        defaultMessage='Generate'\n                                                    />\n                                                </Button>\n                                            )}\n                                            <Button onClick={handleClose} color='primary' autoFocus>\n                                                <FormattedMessage\n                                                    id='Shared.AppsAndKeys.ViewKeys.consumer.close.btn'\n                                                    defaultMessage='Close'\n                                                />\n                                            </Button>\n                                        </DialogActions>\n                                    </Dialog>\n                                    <div className={classes.generateWrapper}>\n                                        <Grid className={classes.bottomInfo}>\n                                            <FormattedMessage\n                                                id='application.productionKeys.oAuth.externalIdp.tokenGeneration.token.description'\n                                                defaultMessage={`In Exchange token flow, A JWT token has to be generated from the {selectedIdpType}\n                                             idp and then exchange for a token with the Resident Key Manager which can used to invoke APIs`}\n                                                values={{selectedIdpType: keyManagerConfig.type}}\n                                            />\n                                        </Grid>\n                                        <Button\n                                            variant='outlined'\n                                            size='small'\n                                            color='primary'\n                                            className={classes.margin}\n                                            onClick={handleClickOpen}\n                                            disabled={externalIDPTokenError || externalIDPToken === ''}\n                                        >\n                                            <FormattedMessage\n                                                id='Shared.AppsAndKeys.ViewKeys.generate.access.token'\n                                                defaultMessage='Generate Access Token'\n                                            />\n                                        </Button>\n                                        <Button\n                                            id='curl-to-generate-access-token-btn'\n                                            variant='outlined'\n                                            size='small'\n                                            color='primary'\n                                            className={classes.margin}\n                                            onClick={handleClickOpenCurl}\n                                            disabled={externalIDPTokenError || externalIDPToken === ''}\n                                        >\n                                            <FormattedMessage\n                                                id='Shared.AppsAndKeys.ViewKeys.curl.to.generate'\n                                                defaultMessage='CURL to Generate Access Token'\n                                            />\n                                        </Button>\n                                    </div>\n                                </Grid>\n                            </Grid>\n                        </div>\n                    </Box>\n        </Root>\n    );\n}\nTokenExchangeKeyConfiguration.defaultProps = {\n    notFound: false,\n    validating: false,\n    fullScreen: false,\n    summary: false,\n};\nTokenExchangeKeyConfiguration.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    keyRequest: PropTypes.shape({\n        callbackUrl: PropTypes.string,\n        selectedGrantTypes: PropTypes.array,\n    }).isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    isKeysAvailable: PropTypes.bool.isRequired,\n    keyManagerConfig: PropTypes.any.isRequired,\n    notFound: PropTypes.bool,\n    setGenerateEnabled: PropTypes.func,\n    updateKeyRequest: PropTypes.func.isRequired,\n    validating: PropTypes.bool,\n    defaultTokenEndpoint: PropTypes.string,\n    selectedApp: PropTypes.shape({\n        tokenType: PropTypes.string.isRequired,\n        appId: PropTypes.string,\n        value: PropTypes.string,\n        owner: PropTypes.string,\n        hashEnabled: PropTypes.bool,\n    }),\n};\n\n\nexport default (TokenExchangeKeyConfiguration);\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport { styled } from '@mui/material/styles';\nimport InputLabel from '@mui/material/InputLabel';\nimport FormControl from '@mui/material/FormControl';\nimport ListItemText from '@mui/material/ListItemText';\nimport Checkbox from '@mui/material/Checkbox';\nimport Chip from '@mui/material/Chip';\nimport MenuItem from '@mui/material/MenuItem';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport PropTypes from 'prop-types';\nimport { injectIntl, defineMessages } from 'react-intl';\nimport Select from '@mui/material/Select';\nimport Input from '@mui/material/Input';\nimport Box from '@mui/material/Box';\nimport ChipInput from 'AppComponents/Shared/ChipInput';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport Settings from 'AppComponents/Shared/SettingsContext';\n\n\nconst PREFIX = 'AppConfiguration';\n\nconst classes = {\n    FormControl: `${PREFIX}-FormControl`,\n    FormControlOdd: `${PREFIX}-FormControlOdd`,\n    button: `${PREFIX}-button`,\n    quotaHelp: `${PREFIX}-quotaHelp`,\n    checkboxWrapper: `${PREFIX}-checkboxWrapper`,\n    checkboxWrapperColumn: `${PREFIX}-checkboxWrapperColumn`,\n    group: `${PREFIX}-group`,\n    removeHelperPadding: `${PREFIX}-removeHelperPadding`\n};\n\n// TODO jss-to-styled codemod: The Fragment root was replaced by div. Change the tag if needed.\nconst Root = styled('div')(\n    ({ theme }) => ({\n        display: 'contents',\n        [`& .${classes.FormControl}`]: {\n            paddingTop: theme.spacing(2),\n            paddingBottom: theme.spacing(2),\n            paddingLeft: 0,\n            width: '100%',\n        },\n\n        [`& .${classes.FormControlOdd}`]: {\n            padding: theme.spacing(2),\n            width: '100%',\n        },\n\n        [`& .${classes.button}`]: {\n            marginLeft: theme.spacing(1),\n        },\n\n        [`& .${classes.quotaHelp}`]: {\n            position: 'relative',\n        },\n\n        [`& .${classes.checkboxWrapper}`]: {\n            display: 'flex',\n        },\n\n        [`& .${classes.checkboxWrapperColumn}`]: {\n            display: 'flex',\n            flexDirection: 'row',\n        },\n\n        [`& .${classes.group}`]: {\n            flexDirection: 'row',\n        },\n\n        [`& .${classes.removeHelperPadding}`]: {\n            '& p': {\n                margin: '8px 0px',\n            },\n        }\n    })\n);\n\n/**\n *\n *\n * @class AppConfiguration\n * @extends {React.Component}\n */\nconst AppConfiguration = (props) => {\n\n    const {\n        config, isUserOwner, previousValue, handleChange, subscriptionScopes,\n    } = props;\n\n    const [selectedValue, setSelectedValue] = useState(previousValue);\n    const [isOrgWideAppUpdateEnabled, setIsOrgWideAppUpdateEnabled] = useState(false);\n    const settingsContext = useContext(Settings);\n\n    /**\n     * This method is used to handle the updating of key generation\n     * request object.\n     * @param {*} field field that should be updated in key request\n     * @param {*} event event fired\n     */\n    const handleAppRequestChange = (event) => {\n        const { target: currentTarget } = event;\n        setSelectedValue(currentTarget.value);\n        handleChange('additionalProperties', event);\n    }\n\n    const AppConfigLabels = defineMessages({\n        application_access_token_expiry_time: {\n          id: 'Shared.AppsAndKeys.AppConfiguration.application.access.token.expiry.time',\n          defaultMessage: 'Application Access Token Expiry Time',\n        },\n        user_access_token_expiry_time: {\n          id: 'Shared.AppsAndKeys.AppConfiguration.user.access.token.expiry.time',\n          defaultMessage: 'User Access Token Expiry Time',\n        },\n        refresh_token_expiry_time: {\n           id: 'Shared.AppsAndKeys.AppConfiguration.refresh.token.expiry.time',\n           defaultMessage: 'Refresh Token Expiry Time',\n        },\n        id_token_expiry_time: {\n           id: 'Shared.AppsAndKeys.AppConfiguration.id.token.expiry.time',\n           defaultMessage: 'Id Token Expiry Time',\n        },\n        pkceMandatory: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.pkce.mandatory',\n            defaultMessage: 'Enable PKCE',\n          },\n        pkceSupportPlain: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.pkce.support.plain',\n            defaultMessage: 'Support PKCE Plain text',\n        },\n        bypassClientCredentials: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.bypass.client.credentials',\n            defaultMessage: 'Public client',\n        }\n    });\n\n    const AppConfigToolTips = defineMessages({\n        application_access_token_expiry_time: {\n          id: 'Shared.AppsAndKeys.AppConfiguration.application.access.token.expiry.time.tooltip',\n          defaultMessage: 'Type Application Access Token Expiry Time',\n        },\n        user_access_token_expiry_time: {\n          id: 'Shared.AppsAndKeys.AppConfiguration.user.access.token.expiry.time.tooltip',\n          defaultMessage: 'Type User Access Token Expiry Time',\n        },\n        refresh_token_expiry_time: {\n           id: 'Shared.AppsAndKeys.AppConfiguration.refresh.token.expiry.time.tooltip',\n           defaultMessage: 'Type Refresh Token Expiry Time',\n        },\n        id_token_expiry_time: {\n           id: 'Shared.AppsAndKeys.AppConfiguration.id.token.expiry.time.tooltip',\n           defaultMessage: 'Type ID Token Expiry Time',\n        },\n        pkceMandatory: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.pkce.mandatory.tooltip',\n            defaultMessage: 'Enable PKCE',\n          },\n        pkceSupportPlain: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.pkce.support.plain.tooltip',\n            defaultMessage: 'S256 is recommended, plain text too can be used.',\n        },\n        bypassClientCredentials: {\n            id: 'Shared.AppsAndKeys.AppConfiguration.bypass.client.credentials.tooltip',\n            defaultMessage: 'Allow authentication without the client secret.',\n        }\n    });\n\n    const getAppConfigLabel = () => {\n        return AppConfigLabels[config.name]\n            ? props.intl.formatMessage(AppConfigLabels[config.name])\n            : config.label\n    }\n\n    const getAppConfigToolTip = () => {\n        return AppConfigToolTips[config.name]\n            ? props.intl.formatMessage(AppConfigToolTips[config.name])\n            : config.tooltip\n    }\n\n    /**\n     * Update the state when new props are available\n     */\n    useEffect(() => {\n        setSelectedValue(previousValue);\n        const orgWideAppUpdateEnabled = settingsContext.settings.orgWideAppUpdateEnabled;\n        setIsOrgWideAppUpdateEnabled(orgWideAppUpdateEnabled);\n    }, [previousValue, settingsContext]);\n\n    const setCheckboxValue = () => {\n        return ( typeof selectedValue === 'string' && selectedValue === 'true' )\n            || ( typeof selectedValue !== 'string' && selectedValue === true );\n    }\n\n    return (\n        <Root>\n            <TableRow>\n                <TableCell component='th' scope='row' className={classes.leftCol}>\n                    {getAppConfigLabel()}\n                </TableCell>\n                <TableCell>\n                    <Box maxWidth={600}>\n\n                        {config.type === 'select' && config.multiple === false ? (\n                            <TextField\n                                classes={{\n                                    root: classes.removeHelperPadding,\n                                }}\n                                fullWidth\n                                id={config.name}\n                                select\n                                label={getAppConfigLabel()}\n                                value={selectedValue}\n                                name={config.name}\n                                onChange={e => handleAppRequestChange(e)}\n                                helperText={\n                                    <Typography variant='caption'>\n                                        {getAppConfigToolTip()}\n                                    </Typography>\n                                }\n                                margin='dense'\n                                variant='outlined'\n                                size='small'\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                            >\n                                {config.values.map(key => (\n                                    <MenuItem key={key} value={key}>\n                                        {key}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                    ) : (config.type === 'select' && config.multiple === true && Array.isArray(selectedValue)) ? \n                        (config.name === 'application_scopes') ? (\n                            <>\n                                <Autocomplete\n                                    multiple\n                                    disabled={subscriptionScopes.length === 0}\n                                    options={subscriptionScopes} // Available subscription scopes\n                                    value={selectedValue} // Selected values\n                                    onChange={(event, newValue) => {\n                                        const e = { target: { name: config.name, value: newValue } };\n                                        handleAppRequestChange(e); // Update the selected values\n                                    }}\n                                    renderInput={(params) => (\n                                        <TextField\n                                            {...params}\n                                            classes={{\n                                                root: classes.removeHelperPadding,\n                                            }}\n                                            fullWidth\n                                            disabled={subscriptionScopes.length === 0}\n                                            margin='dense'\n                                            size='small'\n                                            variant='outlined'\n                                            label={config.label}\n                                            placeholder=\"Select scopes\"\n                                            error={config.required && hasMandatoryError(selectedValue)}\n                                            helperText={(config.required && hasMandatoryError(selectedValue)) || getAppConfigToolTip()}\n                                        />\n                                    )}\n                                    renderTags={(tagValue, getTagProps) =>\n                                        tagValue.map((option, index) => (\n                                            <Chip\n                                                key={option}\n                                                label={option}\n                                                {...getTagProps({ index })}\n                                                size=\"small\"\n                                            />\n                                        ))\n                                    }\n                                />\n                            </>\n                        ) : (\n                            <>\n                                <FormControl variant=\"outlined\" className={classes.formControl} fullWidth>\n                                    <InputLabel id=\"multi-select-label\">{config.label}</InputLabel>\n                                    <Select\n                                        variant=\"standard\"\n                                        labelId=\"multi-select-label\"\n                                        id=\"multi-select-outlined\"\n                                        margin='dense'\n                                        displayEmpty\n                                        name={config.name}\n                                        multiple\n                                        value={selectedValue}\n                                        onChange={e => handleAppRequestChange(e)}\n                                        input={<Input id='multi-select-outlined'/>}\n                                        renderValue={selected => (\n                                            <div className={classes.chips}>\n                                                {selected.map(value => (\n                                                    <Chip key={value} label={value} className={classes.chip}/>\n                                                ))}\n                                            </div>\n                                        )}\n                                        helperText={\n                                            <Typography variant='caption'>\n                                                {getAppConfigToolTip()}\n                                            </Typography>\n                                        }\n                                        label={getAppConfigLabel()}\n                                    >\n                                        {config.values.map(key => (\n                                            <MenuItem key={key} value={key}>\n                                                <Checkbox checked={selectedValue.indexOf(key) > -1}/>\n                                                <ListItemText primary={key}/>\n                                            </MenuItem>\n                                        ))}\n                                    </Select>\n\n                                    <Typography variant='caption'>\n                                        {getAppConfigToolTip()}\n                                    </Typography>\n                                </FormControl>\n                            </>\n                        ) : (config.type === 'input' && config.multiple === true) ? (\n                            <>\n                            <ChipInput\n                                value={selectedValue}\n                                fullWidth\n                                variant='outlined'\n                                id=\"multi-input-outlined\"\n                                label={config.label}\n                                onAdd={(tag) => {\n                                    const e = { target: { name:config.name, value: [...selectedValue, tag] } }\n                                    handleAppRequestChange(e)\n                                }\n                                }\n                                chipRenderer={({ value }, key) => (\n                                    <Chip\n                                        key={key}\n                                        size='small'\n                                        label={value}\n                                        onDelete={() => {\n                                            const e = { target: { name:config.name, value:selectedValue.filter (\n                                            (oldScope)=> oldScope !== value) } }\n                                            handleAppRequestChange(e);\n                                        }}\n                                        style={{\n                                            marginRight: '8px',\n                                            float: 'left',\n                                        }}\n                                    />\n                                )}\n                                style={{ display: 'flex' }}\n                            />\n                            <Typography variant='caption'>\n                                    {config.tooltip}\n                                </Typography>\n                            </>\n                        ) : (config.type === 'input') ? (\n                            <TextField\n                                classes={{\n                                    root: classes.removeHelperPadding,\n                                }}\n                                fullWidth\n                                id={config.name}\n                                label={getAppConfigLabel()}\n                                value={selectedValue}\n                                name={config.name}\n                                onChange={e => handleAppRequestChange(e)}\n                                helperText={\n                                    <Typography variant='caption'>\n                                        {getAppConfigToolTip()}\n                                    </Typography>\n                                }\n                                margin='dense'\n                                size='small'\n                                variant='outlined'\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                            />\n                        ) : (config.type === 'checkbox') ? (\n                            <Checkbox\n                                classes={{\n                                    root: classes.removeHelperPadding,\n                                }}\n                                fullWidth\n                                id={config.name}\n                                label={getAppConfigLabel()}\n                                checked={setCheckboxValue()}\n                                name={config.name}\n                                onChange={e => handleAppRequestChange(e)}\n                                helperText={\n                                    <Typography variant='caption'>\n                                        {getAppConfigToolTip()}\n                                    </Typography>\n                                }\n                                margin='dense'\n                                variant='outlined'\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                            />\n                        ) : (\n                            <TextField\n                                classes={{\n                                    root: classes.removeHelperPadding,\n                                }}\n                                fullWidth\n                                id={config.name}\n                                label={getAppConfigLabel()}\n                                value={selectedValue}\n                                name={config.name}\n                                onChange={e => handleAppRequestChange(e)}\n                                helperText={\n                                    <Typography variant='caption'>\n                                        {getAppConfigToolTip()}\n                                    </Typography>\n                                }\n                                margin='dense'\n                                variant='outlined'\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                            />\n                        )}\n                    </Box>\n                </TableCell>\n            </TableRow>\n        </Root>\n    );\n};\n\nAppConfiguration.contextType = Settings;\n\nAppConfiguration.defaultProps = {\n    notFound: false,\n    subscriptionScopes: [],\n};\n\nAppConfiguration.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    previousValue: PropTypes.any.isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    handleChange: PropTypes.func.isRequired,\n    config: PropTypes.any.isRequired,\n    subscriptionScopes: PropTypes.arrayOf(PropTypes.string),\n    notFound: PropTypes.bool,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nexport default injectIntl((AppConfiguration));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {useEffect, useState, useContext} from 'react';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport cloneDeep from 'lodash.clonedeep';\nimport TextField from '@mui/material/TextField';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport Checkbox from '@mui/material/Checkbox';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Tooltip from '@mui/material/Tooltip';\nimport IconButton from '@mui/material/IconButton';\nimport Icon from '@mui/material/Icon';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Settings from 'Settings';\nimport PropTypes from 'prop-types';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport AppConfiguration from './AppConfiguration';\nimport ContextSettings from 'AppComponents/Shared/SettingsContext';\nimport Application from 'AppData/Application';\n\nconst PREFIX = 'KeyConfiguration';\n\nconst classes = {\n    FormControl: `${PREFIX}-FormControl`,\n    FormControlOdd: `${PREFIX}-FormControlOdd`,\n    button: `${PREFIX}-button`,\n    quotaHelp: `${PREFIX}-quotaHelp`,\n    checkboxWrapper: `${PREFIX}-checkboxWrapper`,\n    checkboxWrapperColumn: `${PREFIX}-checkboxWrapperColumn`,\n    group: `${PREFIX}-group`,\n    removeHelperPadding: `${PREFIX}-removeHelperPadding`,\n    iconStyle: `${PREFIX}-iconStyle`,\n    iconButton: `${PREFIX}-iconButton`,\n    titleColumn: `${PREFIX}-titleColumn`,\n    keyInfoTable: `${PREFIX}-keyInfoTable`,\n    leftCol: `${PREFIX}-leftCol`,\n};\n\n// TODO jss-to-styled codemod: The Fragment root was replaced by div. Change the tag if needed.\nconst Root = styled('div')((\n    {\n        theme,\n    },\n) => ({\n    [`& .${classes.FormControl}`]: {\n        paddingTop: 0,\n        paddingBottom: theme.spacing(2),\n        paddingLeft: 0,\n        width: '100%',\n    },\n\n    [`& .${classes.FormControlOdd}`]: {\n        padding: theme.spacing(2),\n        width: '100%',\n    },\n\n    [`& .${classes.button}`]: {\n        marginLeft: theme.spacing(1),\n    },\n\n    [`& .${classes.quotaHelp}`]: {\n        position: 'relative',\n    },\n\n    [`& .${classes.checkboxWrapper}`]: {\n        display: 'flex',\n    },\n\n    [`& .${classes.checkboxWrapperColumn}`]: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flexDirection: 'row',\n        whiteSpace: 'nowrap',\n    },\n\n    [`& .${classes.group}`]: {\n        flexDirection: 'row',\n    },\n\n    [`& .${classes.removeHelperPadding}`]: {\n        '& p': {\n            margin: '8px 0px',\n        },\n    },\n\n    [`& .${classes.iconStyle}`]: {\n        cursor: 'pointer',\n        padding: '0 0 0 10px',\n    },\n\n    [`& .${classes.iconButton}`]: {\n        padding: '0 0 0 10px',\n        '& .material-icons': {\n            fontSize: 16,\n        },\n    },\n\n    [`& .${classes.titleColumn}`]: {\n        width: 150,\n        fontWeight: 500,\n    },\n\n    [`& .${classes.keyInfoTable}`]: {\n        marginBottom: 20,\n        borderCollapse: 'collapse',\n        '& td': {\n            paddingBottom: 5,\n            borderBottom: 'solid 1px #cccc',\n        },\n    },\n\n    [`& .${classes.leftCol}`]: {\n        width: 180,\n    }\n}));\n\n/**\n *\n *\n * @class KeyConfiguration\n * @extends {React.Component}\n */\nconst KeyConfiguration = (props) => {\n    const [urlCopied, setUrlCopied] = useState(false);\n    const [callbackHelper, setCallbackHelper] = useState(false);\n    const intl = useIntl();\n    const {\n        notFound, isUserOwner, keyManagerConfig, updateKeyRequest, keyRequest, updateHasError, callbackError, mode,\n        selectedApp\n    } = props;\n    const {\n        selectedGrantTypes, callbackUrl,\n    } = keyRequest;\n    const {\n        applicationConfiguration, availableGrantTypes, description, additionalProperties,\n        enableMapOAuthConsumerApps, enableOAuthAppCreation, enableTokenEncryption, enableTokenGeneration,\n        id, name, revokeEndpoint, tokenEndpoint, type, userInfoEndpoint,\n    } = keyManagerConfig;\n    const [isOrgWideAppUpdateEnabled, setIsOrgWideAppUpdateEnabled] = useState(false);\n    const settingsContext = useContext(ContextSettings);\n    const [subscriptionScopes, setSubscriptionScopes] = useState([]);\n\n    useEffect(() => {\n        if (selectedApp) {\n            const appId = selectedApp.appId || selectedApp.value;\n            Application.get(appId)\n                .then((app) => {\n                    const scopes = app.subscriptionScopes\n                        .map((scope) => { return scope.key; });\n                    setSubscriptionScopes(scopes);\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.error(error);\n                    }\n                });\n        }\n    }, [selectedApp]);\n\n    /**\n     * Updates isOrgWideAppUpdateEnabled whenever settingsContext changes\n     */\n    useEffect(() => {\n        const orgWideAppUpdateEnabled = settingsContext.settings.orgWideAppUpdateEnabled;\n        setIsOrgWideAppUpdateEnabled(orgWideAppUpdateEnabled);\n    }, [settingsContext]);\n\n    /**\n     * Get the display names for the supported grant types\n     * @param grantTypes\n     * @param grantTypeDisplayNameMap\n     */\n    const getGrantTypeDisplayList = (grantTypes, grantTypeDisplayNameMap) => {\n        const modifiedGrantTypes = {};\n        grantTypes.forEach((grantType) => {\n            modifiedGrantTypes[grantType] = grantTypeDisplayNameMap[grantType];\n            if (!grantTypeDisplayNameMap[grantType]) {\n                modifiedGrantTypes[grantType] = grantType;\n            }\n        });\n        return modifiedGrantTypes;\n    };\n    const callBackHasErrors = (callbackUrlLocal) => {\n        if (callbackUrlLocal === '') {\n            updateHasError(true);\n            setCallbackHelper(intl.formatMessage({\n                defaultMessage: 'Call back URL can not be empty when Implicit or Authorization Code grants are selected.',\n                id: 'Shared.AppsAndKeys.KeyConfCiguration.Invalid.callback.empty.error.text',\n            }));\n        } else {\n            setCallbackHelper(false);\n            updateHasError(false);\n        }\n    };\n    /**\n     * This method is used to handle the updating of key generation\n     * request object.\n     * @param {*} field field that should be updated in key request\n     * @param {*} event event fired\n     */\n    const handleChange = (field, event) => {\n        const newRequest = cloneDeep(keyRequest);\n        const { target: currentTarget } = event;\n        let newGrantTypes = [...newRequest.selectedGrantTypes];\n        newRequest.keyManager = name;\n\n        switch (field) {\n            case 'callbackUrl':\n                if (newGrantTypes.includes('implicit') || newGrantTypes.includes('authorization_code')) {\n                    callBackHasErrors(currentTarget.value);\n                }\n                newRequest.callbackUrl = currentTarget.value;\n                break;\n            case 'grantType':\n                if (currentTarget.checked) {\n                    newGrantTypes = [...newGrantTypes, currentTarget.id];\n                } else {\n                    newGrantTypes = newRequest.selectedGrantTypes.filter((item) => item !== currentTarget.id);\n                    if (currentTarget.id === 'implicit' || currentTarget.id === 'authorization_code') {\n                        newRequest.callbackUrl = '';\n                        setCallbackHelper(false);\n                        updateHasError(false);\n                    }\n                }\n                newRequest.selectedGrantTypes = newGrantTypes;\n                break;\n            case 'additionalProperties':\n                const clonedAdditionalProperties = newRequest.additionalProperties;\n                if (currentTarget.type === 'checkbox') {\n                    clonedAdditionalProperties[currentTarget.name] = currentTarget.checked + '';\n                } else {\n                    clonedAdditionalProperties[currentTarget.name] = currentTarget.value;\n                }\n                newRequest.additionalProperties = clonedAdditionalProperties;\n                break;\n            default:\n                break;\n        }\n        updateKeyRequest(newRequest);\n    };\n\n    const onCopy = () => {\n        setUrlCopied(true);\n\n        const caller = function () {\n            setUrlCopied(false);\n        };\n        setTimeout(caller, 2000);\n    };\n\n    const getPreviousValue = (config) => {\n        const { additionalProperties } = keyRequest;\n        let isPreviousValueSet;\n        if (config.type == 'input' && !config.multiple) {\n            isPreviousValueSet = !!(additionalProperties && (additionalProperties[config.name]\n                || additionalProperties[config.name] === ''));\n        } else {\n            isPreviousValueSet = !!(additionalProperties && (additionalProperties[config.name]));\n        }\n        let defaultValue = config.default;\n        if (config.multiple && typeof defaultValue === 'string' && defaultValue === '') {\n            defaultValue = [];\n        }\n        return isPreviousValueSet ? additionalProperties[config.name] : defaultValue;\n    };\n    /**\n     *\n     *\n     * @returns {Component}\n     * @memberof KeyConfiguration\n     */\n\n    if (notFound) {\n        return <ResourceNotFound />;\n    }\n    const grantTypeDisplayListMap = getGrantTypeDisplayList(\n        availableGrantTypes,\n        Settings.grantTypes,\n    );\n\n    // Check for additional properties for token endpoint and revoke endpoints.\n    return (\n        <Root>\n            <Box display='flex' alignItems='center'>\n                <Table className={classes.table}>\n                    <TableBody>\n                        {(tokenEndpoint && tokenEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='Token Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.token.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {tokenEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <IconButton\n                                            aria-label='Copy to clipboard'\n                                            classes={{ root: classes.iconButton }}\n                                            size=\"large\"\n                                            onClick={() => {navigator.clipboard.writeText(tokenEndpoint).then(onCopy())}}\n                                        >\n                                            <Icon color='secondary'>file_copy</Icon>\n                                        </IconButton>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        {(revokeEndpoint && revokeEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='Revoke Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.revoke.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {revokeEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <IconButton\n                                            aria-label='Copy to clipboard'\n                                            classes={{ root: classes.iconButton }}\n                                            size=\"large\"\n                                            onClick={() => {navigator.clipboard.writeText(revokeEndpoint).then(onCopy())}}\n                                        >\n                                            <Icon color='secondary'>file_copy</Icon>\n                                        </IconButton>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        {(userInfoEndpoint && userInfoEndpoint !== '') && (\n                            <TableRow>\n                                <TableCell component='th' scope='row' className={classes.leftCol}>\n                                    <FormattedMessage\n                                        defaultMessage='User Info Endpoint'\n                                        id='Shared.AppsAndKeys.KeyConfiguration.userinfo.endpoint.label'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    {userInfoEndpoint}\n                                    <Tooltip\n                                        title={\n                                            urlCopied\n                                                ? intl.formatMessage({\n                                                    defaultMessage: 'Copied',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copied',\n                                                })\n                                                : intl.formatMessage({\n                                                    defaultMessage: 'Copy to clipboard',\n                                                    id: 'Shared.AppsAndKeys.KeyConfiguration.copy.to.clipboard',\n                                                })\n                                        }\n                                        placement='right'\n                                        className={classes.iconStyle}\n                                    >\n                                        <IconButton\n                                            aria-label='Copy to clipboard'\n                                            classes={{ root: classes.iconButton }}\n                                            size=\"large\"\n                                            onClick={() => {navigator.clipboard.writeText(userInfoEndpoint).then(onCopy())}}\n                                        >\n                                            <Icon color='secondary'>file_copy</Icon>\n                                        </IconButton>\n                                    </Tooltip>\n                                </TableCell>\n                            </TableRow>\n                        )}\n                        {mode !== 'MAPPED' && (<><TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.KeyConfiguration.grant.types'\n                                    defaultMessage='Grant Types'\n                                />\n\n                            </TableCell>\n                            <TableCell>\n                                <div className={classes.checkboxWrapperColumn} id='grant-types'>\n                                    {Object.keys(grantTypeDisplayListMap).map((key) => {\n                                        const value = grantTypeDisplayListMap[key];\n                                        return (\n                                            <FormControlLabel\n                                                control={(\n                                                    <Checkbox\n                                                        id={key}\n                                                        checked={!!(selectedGrantTypes\n                                                                && selectedGrantTypes.includes(key))}\n                                                        onChange={(e) => handleChange('grantType', e)}\n                                                        value={value}\n                                                        disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                                                        color='grey'\n                                                        data-testid={key}\n                                                    />\n                                                )}\n                                                label={value}\n                                                key={key}\n                                            />\n                                        );\n                                    })}\n                                </div>\n                                <FormHelperText>\n                                    <FormattedMessage\n                                        defaultMessage={`The application can use the following grant types to generate \n                            Access Tokens. Based on the application requirement,you can enable or disable \n                            grant types for this application.`}\n                                        id='Shared.AppsAndKeys.KeyConfiguration.the.application.can'\n                                    />\n                                </FormHelperText>\n\n                            </TableCell>\n                        </TableRow>\n                        <TableRow>\n                            <TableCell component='th' scope='row' className={classes.leftCol}>\n                                <FormattedMessage\n                                    defaultMessage='Callback URL'\n                                    id='Shared.AppsAndKeys.KeyConfiguration.callback.url.label'\n                                />\n\n                            </TableCell>\n                            <TableCell>\n                                <Box maxWidth={600}>\n                                    <TextField\n                                        margin='dense'\n                                        id='callbackURL'\n                                        size='small'\n                                        label={(\n                                            <FormattedMessage\n                                                defaultMessage='Callback URL'\n                                                id='Shared.AppsAndKeys.KeyConfiguration.callback.url.label'\n                                            />\n                                        )}\n                                        value={callbackUrl}\n                                        name='callbackURL'\n                                        onChange={(e) => handleChange('callbackUrl', e)}\n                                        helperText={callbackHelper || (\n                                            <FormattedMessage\n                                                defaultMessage={`Callback URL is a redirection URI in the client\n                            application which is used by the authorization server to send the\n                            client's user-agent (usually web browser) back after granting access.`}\n                                                id='Shared.AppsAndKeys.KeyConfCiguration.callback.url.helper.text'\n                                            />\n                                        )}\n                                        variant='outlined'\n                                        disabled={(!isOrgWideAppUpdateEnabled && !isUserOwner)\n                                            || (selectedGrantTypes && !selectedGrantTypes.includes('authorization_code')\n                                                && !selectedGrantTypes.includes('implicit'))}\n                                        error={callbackError}\n                                        placeholder={intl.formatMessage({\n                                            defaultMessage: 'http://url-to-webapp',\n                                            id: 'Shared.AppsAndKeys.KeyConfiguration.url.to.webapp',\n                                        })}\n                                        fullWidth\n                                    />\n                                </Box>\n                            </TableCell>\n                        </TableRow>\n                        {applicationConfiguration.length > 0 && applicationConfiguration.map((config) => (\n                            <AppConfiguration\n                                config={config}\n                                previousValue={getPreviousValue(config)}\n                                isUserOwner={isUserOwner}\n                                handleChange={handleChange}\n                                subscriptionScopes={subscriptionScopes}\n                            />\n                        ))}\n                        </>)}\n                    </TableBody>\n                </Table>\n            </Box>\n        </Root>\n    );\n};\nKeyConfiguration.defaultProps = {\n    notFound: false,\n    validating: false,\n    mode: null,\n};\nKeyConfiguration.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    keyRequest: PropTypes.shape({\n        callbackUrl: PropTypes.string,\n        selectedGrantTypes: PropTypes.array,\n    }).isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    isKeysAvailable: PropTypes.bool.isRequired,\n    keyManagerConfig: PropTypes.any.isRequired,\n    notFound: PropTypes.bool,\n    setGenerateEnabled: PropTypes.func.isRequired,\n    updateKeyRequest: PropTypes.func.isRequired,\n    validating: PropTypes.bool,\n    mode: PropTypes.string,\n    selectedApp: PropTypes.shape({\n        tokenType: PropTypes.string.isRequired,\n        appId: PropTypes.string,\n        value: PropTypes.string,\n        owner: PropTypes.string,\n        hashEnabled: PropTypes.bool,\n    }),\n};\n\n\nexport default (KeyConfiguration);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport FormControl from '@mui/material/FormControl';\nimport Icon from '@mui/material/Icon';\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Tooltip from '@mui/material/Tooltip';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { enableTokenGenForMappedApps } from 'Settings';\nimport ResourceNotFound from '../../Base/Errors/ResourceNotFound';\nimport Loading from '../../Base/Loading/Loading';\nimport Application from '../../../data/Application';\nimport Tokens from './Tokens';\nimport ViewToken from './ViewToken';\nimport ViewSecret from './ViewSecret';\nimport ViewCurl from './ViewCurl';\nimport Settings from 'AppComponents/Shared/SettingsContext';\n\nconst PREFIX = 'ViewKeys';\n\nconst classes = {\n    button: `${PREFIX}-button`,\n    inputWrapper: `${PREFIX}-inputWrapper`,\n    copyWrapper: `${PREFIX}-copyWrapper`,\n    tokenSection: `${PREFIX}-tokenSection`,\n    margin: `${PREFIX}-margin`,\n    dialogWrapper: `${PREFIX}-dialogWrapper`,\n    iconButton: `${PREFIX}-iconButton`\n};\n\nconst Root = styled('div')(({ theme }) => ({\n    [`& .${classes.inputWrapper}`]: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        '& span, & h5, & label, & td, & li, & div, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n\n    [`&.${classes.copyWrapper}`]: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n\n    [`& .${classes.tokenSection}`]: {\n        marginTop: 0,\n        marginBottom: theme.spacing(0.5),\n    },\n\n    [`& .${classes.margin}`]: {\n        marginRight: theme.spacing(2),\n    },\n\n    [`& .${classes.dialogWrapper}`]: {\n        '& label,& h5, & label, & td, & li, & input, & h2, & p.MuiTypography-root,& p.MuiFormHelperText-root': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n\n    [`& .${classes.iconButton}`]: {\n        padding: '0 0 0 10px',\n        '& .material-icons': {\n            fontSize: 16,\n        },\n    }\n}));\n\n/**\n * Class used to displays in key generation UI\n */\nclass ViewKeys extends React.Component {\n    /**\n     * @param {*} props properties\n     */\n    constructor(props) {\n        super(props);\n        const { selectedApp } = this.props;\n        let appId;\n        if (selectedApp) {\n            appId = selectedApp.appId || selectedApp.value;\n        }\n        this.applicationPromise = Application.get(appId);\n        this.state = {\n            showCS: false,\n            open: false,\n            showToken: false,\n            showCurl: false,\n            showSecretGen: false,\n            accessTokenRequest: {\n                timeout: 3600,\n                scopesSelected: [],\n                keyType: '',\n            },\n            subscriptionScopes: [],\n            isUpdating: false,\n            isOrgWideAppUpdateEnabled: false,\n        };\n    }\n\n    /**\n     * Fetch Application object by ID coming from URL path params and fetch related keys to display\n     */\n    componentDidMount() {\n        this.getGeneratedKeys();\n        this.isOrgWideAppUpdateEnabled();\n    }\n\n    /**\n     * retrieve Settings from the context and check the org-wide application update enabled\n     */\n    isOrgWideAppUpdateEnabled = () => {\n        const settingsContext = this.context;\n        const orgWideAppUpdateEnabled = settingsContext.settings.orgWideAppUpdateEnabled;\n        this.setState({ isOrgWideAppUpdateEnabled: orgWideAppUpdateEnabled });\n    }\n\n    /**\n     * Adding this here becasue it is not possible to add in the render method becasue isKeyJWT in state is used\n     * to close the dialog box and render method will casue this to be always true and cannot close the box.\n     * Rule is ignored becasue according to react docs its ok to setstate as long as we are checking a condition\n     * This is an ani pattern to be fixed later.\n     *  wso2/product-apim#5293\n     * https://reactjs.org/docs/react-component.html#componentdidupdate\n     * @param {*} prevProps previous props\n     * @memberof ViewKeys\n     */\n    componentDidUpdate(prevProps) {\n        const { isKeyJWT } = this.props;\n        if (isKeyJWT && !prevProps.isKeyJWT) {\n            // eslint-disable-next-line react/no-did-update-set-state\n            this.setState({ isKeyJWT: true });\n        }\n    }\n\n    getGeneratedKeys = () => {\n        const { accessTokenRequest } = this.state;\n        const { keyType } = this.props;\n        this.applicationPromise\n            .then((application) => {\n                application.getKeys().then(() => {\n                    const newRequest = { ...accessTokenRequest, keyType };\n                    const subscriptionScopes = application.subscriptionScopes\n                        .map((scope) => { return scope.key; });\n                    this.setState({ accessTokenRequest: newRequest, subscriptionScopes });\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    }\n\n    /**\n     * Adding this here becasue it is not possible to add in the render method becasue isKeyJWT in state is used\n     * to close the dialog box and render method will casue this to be always true and cannot close the box.\n     * Rule is ignored becasue according to react docs its ok to setstate as long as we are checking a condition\n     * This is an ani pattern to be fixed later.\n     *  wso2/product-apim#5293\n     * https://reactjs.org/docs/react-component.html#componentdidupdate\n     * @param {*} prevProps previous props\n     * @memberof ViewKeys\n     */\n    componentDidUpdate(prevProps) {\n        const { isKeyJWT } = this.props;\n        if (isKeyJWT && !prevProps.isKeyJWT) {\n            this.setState({ isKeyJWT: true });\n        }\n    }\n\n    /**\n     * Set accesstoken request in state\n     * @param {*} accessTokenRequest access token request object\n     * @memberof ViewKeys\n     */\n    updateAccessTokenRequest = (accessTokenRequest) => {\n        this.setState({ accessTokenRequest });\n    }\n\n    /**\n     * Handle onClick of the copy icon\n     * @param {*} name name of what is copied\n     * */\n    onCopy = (name) => {\n        this.setState({\n            [name]: true,\n        });\n        const that = this;\n        const elementName = name;\n        const caller = () => {\n            that.setState({\n                [elementName]: false,\n            });\n        };\n        setTimeout(caller, 4000);\n    };\n\n    /**\n     * Handle onClick of the show consumer secret icon\n     * @param data\n     * */\n    handleShowHidden = (data) => {\n        this.setState({ [data]: !this.state[data] });\n    };\n\n    /**\n     * Avoid conflict with `onClick`\n     * @param event\n     */\n    handleMouseDownGeneric = (event) => {\n        event.preventDefault();\n    };\n\n    /**\n     * Handle onCLick of generate access token\n     * */\n    handleClickOpen = () => {\n        this.setState({ open: true, showToken: false });\n    };\n\n    /**\n     * Handle onCLick of remove keys\n     * */\n    handleClickRemove = (keyMappingId) => {\n        const {\n            selectedTab, keyType, intl, loadApplication,\n        } = this.props;\n        this.applicationPromise\n            .then((application) => {\n                return application.removeKeys(keyType, selectedTab, keyMappingId);\n            })\n            .then((result) => {\n                if (result) {\n                    loadApplication();\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.cleanupall.success',\n                        defaultMessage: 'Application keys removed successfully',\n                    }));\n                }\n            })\n            .catch((error) => {\n                throw (error);\n            });\n    };\n\n    /**\n     * Handle onCLick of regenerate consumer secret\n     * */\n    handleSecretRegenerate = (consumerKey, keyType, keyMappingId, selectedTab) => {\n        this.applicationPromise\n            .then((application) => application.regenerateSecret(consumerKey, keyType, keyMappingId, selectedTab))\n            .then((response) => {\n                console.log('consumer secret regenerated successfully ' + response);\n                this.setState({\n                    open: true,\n                    showSecretGen: true,\n                    secretGenResponse: response,\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n            });\n    };\n\n    /**\n     * Handle onClick of get curl\n     * */\n    handleClickOpenCurl = () => {\n        this.setState({ open: true, showCurl: true });\n    };\n\n    /**\n     * Handle on close of dialog for generating access token and get curl\n     * */\n    handleClose = () => {\n        this.setState({\n            open: false, showCurl: false, isKeyJWT: false, showSecretGen: false,\n        });\n    };\n\n    /**\n     * Generate access token\n     * */\n    generateAccessToken = () => {\n        const { accessTokenRequest, isUpdating } = this.state;\n        const { selectedTab, intl } = this.props;\n        this.setState({ isUpdating: true });\n        this.applicationPromise\n            .then((application) => application.generateToken(\n                selectedTab,\n                accessTokenRequest.keyType,\n                accessTokenRequest.timeout,\n                accessTokenRequest.scopesSelected,\n            ))\n            .then((response) => {\n                console.log('token generated successfully ' + response);\n                this.setState({\n                    showToken: true,\n                    tokenResponse: response,\n                    token: response.accessToken,\n                    tokenScopes: response.tokenScopes,\n                    tokenValidityTime: response.validityTime,\n                });\n                this.setState({ isUpdating: false });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (error.response.body.code === 900905) {\n                    Alert.error(error.response.body.description);\n                } else if (status === 400) {\n                    Alert.error(error.description\n                        || intl.formatMessage({\n                            id: 'Shared.AppsAndKeys.TokenManager.key.generate.bad.request.error',\n                            defaultMessage: 'Error occurred when generating Access Token',\n                        }));\n                } \n                this.setState({ isUpdating: false });\n                const { response } = error;\n                if (response && response.body && response.body.code !== 900905) {\n                    Alert.error(response.body.message);\n                }\n            });\n    };\n\n    viewKeyAndSecret = (consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner, isOrgWideAppUpdateEnabled) => {\n        const {\n            intl, selectedApp: { hashEnabled }, keyType,\n        } = this.props;\n        const { keyCopied, secretCopied, showCS } = this.state;\n        return (\n            <>\n                <Grid item xs={6}>\n                    <Root className={classes.copyWrapper}>\n                        <TextField\n                            id='consumer-key'\n                            value={consumerKey}\n                            margin='dense'\n                            size='small'\n                            label={(\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.key'\n                                    defaultMessage='Consumer Key'\n                                />\n                            )}\n                            fullWidth\n                            variant='outlined'\n                            InputProps={{\n                                readOnly: true,\n                                endAdornment: (\n                                    <InputAdornment position='end'>\n                                        <Tooltip\n                                            title={\n                                                keyCopied\n                                                    ? intl.formatMessage({\n                                                        defaultMessage: 'Copied',\n                                                        id: 'Shared.AppsAndKeys.ViewKeys.copied',\n                                                    })\n                                                    : intl.formatMessage({\n                                                        defaultMessage: 'Copy to clipboard',\n                                                        id: 'Shared.AppsAndKeys.ViewKeys.copy.to',\n                                                    })\n                                            }\n                                            placement='right'\n                                        >\n                                            <IconButton\n                                                aria-label='Copy to clipboard'\n                                                classes={{ root: classes.iconButton }}\n                                                size='large'\n                                                onClick={() => {\n                                                    navigator.clipboard.writeText(consumerKey)\n                                                        .then(() => this.onCopy('keyCopied'));\n                                                }}\n                                            >\n                                                <Icon color='secondary'>\n                                                    file_copy\n                                                </Icon>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </Root>\n                    <FormControl variant='standard'>\n                        <FormHelperText id='consumer-key-helper-text'>\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.ViewKeys.consumer.key.title'\n                                defaultMessage='Consumer Key of the application'\n                            />\n                        </FormHelperText>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={6}>\n                    <Root className={classes.copyWrapper}>\n                        {!hashEnabled ? (\n                            <TextField\n                                id='consumer-secret'\n                                label={(\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.consumer.secret'\n                                        defaultMessage='Consumer Secret'\n                                    />\n                                )}\n                                type={showCS || !consumerSecret ? 'text' : 'password'}\n                                value={consumerSecret}\n                                margin='dense'\n                                fullWidth\n                                variant='outlined'\n                                size='small'\n                                InputProps={{\n                                    readOnly: true,\n                                    endAdornment: (\n                                        <InputAdornment position='end'>\n                                            <IconButton\n                                                classes={{ root: classes.iconButton }}\n                                                onClick={() => this.handleShowHidden('showCS')}\n                                                onMouseDown={this.handleMouseDownGeneric}\n                                                id='visibility-toggle-btn'\n                                                size='large'\n                                            >\n                                                {showCS ? <Icon>visibility_off</Icon> : <Icon>visibility</Icon>}\n                                            </IconButton>\n                                            <Tooltip\n                                                title={\n                                                    secretCopied\n                                                        ? intl.formatMessage({\n                                                            defaultMessage: 'Copied',\n                                                            id: 'Shared.AppsAndKeys.ViewKeys.copied',\n                                                        })\n                                                        : intl.formatMessage({\n                                                            defaultMessage: 'Copy to clipboard',\n                                                            id: 'Shared.AppsAndKeys.ViewKeys.copy.to.clipboard',\n                                                        })\n                                                }\n                                                placement='right'\n                                            >\n                                                <IconButton\n                                                    aria-label='Copy to clipboard'\n                                                    classes={{ root: classes.iconButton }}\n                                                    size='large'\n                                                    onClick={() => {\n                                                        navigator.clipboard\n                                                            .writeText(consumerSecret).then(() => this.onCopy('secretCopied'));\n                                                    }}\n                                                >\n                                                    <Icon color='secondary'>file_copy</Icon>\n                                                </IconButton>\n                                            </Tooltip>\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                        ) : (\n                            <Button\n                                variant='contained'\n                                color='primary'\n                                sx={{ mt: 1 }}\n                                onClick={() => this.handleSecretRegenerate(consumerKey, keyType, keyMappingId, selectedTab)}\n                                disabled={!isOrgWideAppUpdateEnabled && !isUserOwner}\n                            >\n                                <FormattedMessage\n                                    defaultMessage='Regenerate Consumer Secret'\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.secret.button.regenerate'\n                                />\n                            </Button>\n                        )}\n                    </Root>\n                    {!hashEnabled && (\n                        <FormControl variant='standard'>\n                            <FormHelperText id='consumer-secret-helper-text'>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.consumer.secret.of.application'\n                                    defaultMessage='Consumer Secret of the application'\n                                />\n                            </FormHelperText>\n                        </FormControl>\n                    )}\n                </Grid>\n            </>\n        );\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            notFound, showToken, showCurl, showSecretGen, tokenCopied, open,\n            token, tokenScopes, tokenValidityTime, accessTokenRequest, subscriptionScopes,\n            isKeyJWT, tokenResponse, secretGenResponse, isUpdating, isOrgWideAppUpdateEnabled,\n        } = this.state;\n        const {\n            intl, keyType, fullScreen, keys, selectedApp: { tokenType }, selectedGrantTypes, isUserOwner, summary,\n            selectedTab, hashEnabled, keyManagerConfig, initialToken, initialValidityTime, initialScopes, mode,\n        } = this.props;\n\n        if (notFound) {\n            return <ResourceNotFound />;\n        }\n        if (!keys) {\n            return <Loading />;\n        }\n\n        const csCkKeys = keys.size > 0 && keys.get(selectedTab) && (keys.get(selectedTab).keyType === keyType) && keys.get(selectedTab);\n        const consumerKey = csCkKeys && csCkKeys.consumerKey;\n        const consumerSecret = csCkKeys && csCkKeys.consumerSecret;\n        const keyMappingId = csCkKeys && csCkKeys.keyMappingId;\n\n        let accessToken;\n        let accessTokenScopes;\n        let validityPeriod;\n        let tokenDetails;\n\n        if (token) {\n            accessToken = token;\n            accessTokenScopes = tokenScopes;\n            validityPeriod = tokenValidityTime;\n        } else if (keys.get(selectedTab) && keys.get(selectedTab).keyType === keyType && keys.get(selectedTab).token) {\n            ({ accessToken } = keys.get(selectedTab).token);\n            accessTokenScopes = keys.get(selectedTab).token.tokenScopes;\n            validityPeriod = keys.get(selectedTab).token.validityTime;\n            tokenDetails = keys.get(selectedTab).token;\n            if (tokenDetails && !tokenDetails.accessToken) {\n                tokenDetails.accessToken = initialToken;\n                tokenDetails.validityTime = initialValidityTime;\n                tokenDetails.tokenScopes = initialScopes;\n            }\n        }\n\n        let dialogHead;\n        if (showCurl) {\n            dialogHead = 'Get CURL to Generate Access Token';\n        } else if (showSecretGen) {\n            dialogHead = 'Generate Consumer Secret';\n        } else {\n            dialogHead = 'Generate Access Token';\n        }\n        if (!consumerKey) {\n            return (\n                <Typography variant='caption' gutterBottom>\n                    {keyType === 'PRODUCTION' ? 'Production ' : 'Sandbox '}\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.ViewKeys.key.secret.title'\n                        defaultMessage='Key and Secret is not generated for this application'\n                    />\n                </Typography>\n            );\n        }\n        if (summary) {\n            return (\n                <Grid container spacing={3}>\n                    {this.viewKeyAndSecret(consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner, isOrgWideAppUpdateEnabled)}\n                </Grid>\n            );\n        }\n\n        // Get the grant types for the generated keys\n        const { supportedGrantTypes: supportedGrantTypesUnchanged } = keys.get(selectedTab);\n        return consumerKey && (\n            <Root className={classes.inputWrapper}>\n                <Grid container spacing={3}>\n                    {this.viewKeyAndSecret(consumerKey, consumerSecret, keyMappingId, selectedTab, isUserOwner, isOrgWideAppUpdateEnabled)}\n                    <Grid item xs={12}>\n                        <Dialog\n                            fullScreen={fullScreen}\n                            open={(open || (isKeyJWT && tokenDetails))}\n                            onClose={this.handleClose}\n                            aria-labelledby='responsive-dialog-title'\n                            className={classes.dialogWrapper}\n                        >\n                            <DialogTitle id='responsive-dialog-title'>\n                                {dialogHead}\n                            </DialogTitle>\n                            <DialogContent>\n                                {!showCurl && !isKeyJWT && !showSecretGen && (\n                                    <DialogContentText>\n                                        {!showToken && (\n                                            <Tokens\n                                                updateAccessTokenRequest={this.updateAccessTokenRequest}\n                                                accessTokenRequest={accessTokenRequest}\n                                                subscriptionScopes={subscriptionScopes}\n                                            />\n                                        )}\n                                        {showToken && <ViewToken token={{ ...tokenResponse, isOauth: true }} />}\n                                    </DialogContentText>\n                                )}\n                                {showCurl && (\n                                    <DialogContentText>\n                                        <ViewCurl\n                                            keys={{ consumerKey, consumerSecret }}\n                                            keyType={keyType}\n                                            keyManagerConfig={keyManagerConfig}\n                                        />\n                                    </DialogContentText>\n                                )}\n                                {showSecretGen && (\n                                    <DialogContentText>\n                                        <ViewSecret secret={{ ...secretGenResponse }} />\n                                    </DialogContentText>\n                                )}\n                                {(isKeyJWT && tokenDetails && hashEnabled) && (\n                                    <DialogContentText>\n                                        <ViewToken token={{ ...tokenDetails, isOauth: true }} consumerSecret={consumerSecret} />\n                                    </DialogContentText>\n                                )}\n                                {(isKeyJWT && tokenDetails && !hashEnabled) && (\n                                    <DialogContentText>\n                                        <ViewToken token={{ ...tokenDetails, isOauth: true }} />\n                                    </DialogContentText>\n                                )}\n                            </DialogContent>\n                            <DialogActions>\n                                {isUpdating && <CircularProgress size={24} />}\n                                {!showToken && !showCurl && !isKeyJWT && !showSecretGen && (\n                                    <Button\n                                        onClick={this.generateAccessToken}\n                                        color='primary'\n                                        id='generate-access-token-generate-btn'\n                                        disabled={isUpdating}\n                                    >\n                                        <FormattedMessage\n                                            id='Shared.AppsAndKeys.ViewKeys.consumer.generate.btn'\n                                            defaultMessage='Generate'\n                                        />\n                                    </Button>\n                                )}\n                                <Button\n                                    onClick={this.handleClose}\n                                    id='generate-access-token-close-btn'\n                                    color='primary'\n                                    autoFocus\n                                >\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.consumer.close.btn'\n                                        defaultMessage='Close'\n                                    />\n                                </Button>\n                            </DialogActions>\n                        </Dialog>\n                        {!hashEnabled && (\n                            <div className={classes.tokenSection}>\n                                {(keyManagerConfig.enableTokenGeneration && supportedGrantTypesUnchanged\n                                    && supportedGrantTypesUnchanged.find((a) => a.includes('client_credentials')))\n                                    && (mode !== 'MAPPED' || enableTokenGenForMappedApps === true)\n                                    && (\n                                        <Button\n                                            id='generate-access-token-oauth2'\n                                            variant='outlined'\n                                            size='small'\n                                            color='grey'\n                                            className={classes.margin}\n                                            onClick={this.handleClickOpen}\n                                            disabled={!supportedGrantTypesUnchanged.includes('client_credentials')}\n                                        >\n                                            <FormattedMessage\n                                                id='Shared.AppsAndKeys.ViewKeys.generate.access.token'\n                                                defaultMessage='Generate Access Token'\n                                            />\n                                        </Button>\n                                    )}\n                                <Button\n                                    id='curl-to-generate-access-token-btn'\n                                    variant='outlined'\n                                    size='small'\n                                    color='grey'\n                                    className={classes.margin}\n                                    onClick={this.handleClickOpenCurl}\n                                >\n                                    <FormattedMessage\n                                        id='Shared.AppsAndKeys.ViewKeys.curl.to.generate'\n                                        defaultMessage='CURL to Generate Access Token'\n                                    />\n                                </Button>\n                            </div>\n                        )}\n                        {supportedGrantTypesUnchanged && !supportedGrantTypesUnchanged.includes('client_credentials') && !hashEnabled && (\n                            <Typography variant='caption' gutterBottom>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.ViewKeys.client.enable.client.credentials'\n                                    defaultMessage={'Enable Client Credentials grant '\n                                        + 'type to generate test access tokens'}\n                                />\n                            </Typography>\n                        )}\n                    </Grid>\n                </Grid>\n            </Root>\n        );\n    }\n}\n\nViewKeys.contextType = Settings;\n\nViewKeys.defaultProps = {\n    fullScreen: false,\n    summary: false,\n    mode: null,\n};\nViewKeys.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    fullScreen: PropTypes.bool,\n    isKeyJWT: PropTypes.bool.isRequired,\n    isUserOwner: PropTypes.bool.isRequired,\n    summary: PropTypes.bool,\n    mode: PropTypes.string,\n};\n\nexport default injectIntl(withRouter(ViewKeys));\n","import React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { injectIntl } from 'react-intl';\n\nconst PREFIX = 'WaitingForApproval';\n\nconst classes = {\n    root: `${PREFIX}-root`\n};\n\nconst Root = styled('div')((\n    {\n        theme\n    }\n) => ({\n    [`&.${classes.root}`]: {\n        padding: theme.spacing(3),\n    }\n}));\n\nconst waitingForApproval = (props) => {\n    const {\n        keyState, states, intl,\n    } = props;\n    let message = intl.formatMessage({\n        defaultMessage: 'A request to register this application has been sent and is pending approval.',\n        id: 'Shared.AppsAndKeys.WaitingForApproval.msg.ok',\n    });\n    if (keyState === states.REJECTED) {\n        message = intl.formatMessage({\n            defaultMessage: 'This application has been rejected from generating keys',\n            id: 'Shared.AppsAndKeys.WaitingForApproval.msg.reject',\n        });\n    }\n    return <Root className={classes.root}>{message}</Root>;\n};\n\nexport default injectIntl((waitingForApproval));\n","\nimport React from 'react';\nimport Typography from '@mui/material/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport WaitingForApproval from './WaitingForApproval';\nimport ViewKeys from './ViewKeys';\n\n/**\n * Render a compressed view of the key gneration view.\n * @param {JSON} props Input params.\n * @returns {JSX} Rendered output.\n */\nexport default function TokenManagerSummary(props) {\n    const { keys, keyStates, key, selectedApp, keyType, isKeyJWT, isUserOwner, selectedTab } = props;\n    if (keys.size > 0 && key && key.keyState === 'APPROVED' && !key.consumerKey) {\n        return (\n            <div className={{\n                background: '#ffffff55',\n                color: theme.palette.getContrastText(theme.palette.background.paper),\n                border: 'solid 1px #fff',\n                padding: theme.spacing(2),\n                width: '100%',\n            }}>\n                <Typography variant=\"h5\" component=\"h3\">\n                    Error\n                </Typography>\n                <Typography variant='body2'>\n                    <FormattedMessage\n                        id='Shared.AppsAndKeys.TokenManagerSummary'\n                        defaultMessage='Error! You have partially-created keys. Use `Clean Up` option.'\n                    />\n                </Typography>\n            </div>\n        );\n    }\n    if (key && (key.keyState === keyStates.CREATED || key.keyState === keyStates.REJECTED)) {\n        return (\n            <div className={{\n                background: '#ffffff55',\n                color: theme.palette.getContrastText(theme.palette.background.paper),\n                border: 'solid 1px #fff',\n                padding: theme.spacing(2),\n                width: '100%',\n            }}>\n                <Typography variant='body2'>\n                    <WaitingForApproval keyState={key.keyState} states={keyStates} />\n                </Typography>\n            </div>\n        );\n    }\n    const keyGrantTypes = key ? key.supportedGrantTypes : [];\n\n    return (\n        <ViewKeys\n            selectedApp={selectedApp}\n            selectedTab={selectedTab}\n            keyType={keyType}\n            keys={keys}\n            isKeyJWT={isKeyJWT}\n            selectedGrantTypes={keyGrantTypes}\n            isUserOwner={isUserOwner}\n            summary\n        />\n    );\n}\n","/*\n * Copyright (c) 2024, WSO2 LLC. (http://www.wso2.com) All Rights Reserved.\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Button from '@mui/material/Button';\nimport { FormattedMessage } from 'react-intl';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nfunction RemoveKeys(props) {\n    const [open, setOpen] = React.useState(false);\n    const {\n        keyMappingId, handleClickRemove,\n    } = props;\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleRemove = () => {\n        handleClickRemove(keyMappingId);\n    };\n\n    return (\n        <div>\n            <Button\n                id='remove-generated-keys'\n                variant='outlined'\n                color='secondary'\n                startIcon={<DeleteIcon />}\n                onClick={handleClickOpen}\n            >\n                <FormattedMessage\n                    id='Shared.AppsAndKeys.ViewKeys.remove.keys'\n                    defaultMessage='Remove Keys'\n                />\n            </Button>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogTitle id='alert-dialog-title'>\n                    <FormattedMessage\n                        id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.title'\n                        defaultMessage='Do you really want to remove keys?'\n                    />\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id='alert-dialog-description'>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.content'\n                            defaultMessage='This will remove the key entries stored in devportal,\n                            gateway as well as in the service provider.'\n                        />\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color='primary'>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.Cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button onClick={handleRemove} color='primary' autoFocus>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.Delete'\n                            defaultMessage='Delete'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default RemoveKeys;\n","/*\n * Copyright (c) 2024, WSO2 LLC. (http://www.wso2.com) All Rights Reserved.\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Button from '@mui/material/Button';\nimport { FormattedMessage } from 'react-intl';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nfunction CleanKeys(props) {\n    const [open, setOpen] = React.useState(false);\n    const {\n        keyMappingId, handleClickRemove,\n    } = props;\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleClean = () => {\n        handleClickRemove(keyMappingId);\n    };\n\n    return (\n        <div>\n            <Button\n                id='remove-generated-keys'\n                variant='outlined'\n                color='secondary'\n                startIcon={<DeleteIcon />}\n                onClick={handleClickOpen}\n            >\n                <FormattedMessage\n                    id='Shared.AppsAndKeys.ViewKeys.remove.keys'\n                    defaultMessage='Remove Keys'\n                />\n            </Button>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogTitle id='alert-dialog-title'>\n                    <FormattedMessage\n                        id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.title'\n                        defaultMessage='Do you really want to remove keys?'\n                    />\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id='alert-dialog-description'>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.clean.keys.dialog.content'\n                            defaultMessage='This will remove only the key entries stored in devportal,\n                            gateway and will not remove the service proveder keys.'\n                        />\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color='primary'>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.Cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button onClick={handleClean} color='primary' autoFocus>\n                        <FormattedMessage\n                            id='Applications.Listing.DeleteConfirmation.remove.keys.dialog.Delete'\n                            defaultMessage='Delete'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default CleanKeys;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { styled } from '@mui/material/styles';\nimport PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Loading from 'AppComponents/Base/Loading/Loading';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport AppBar from '@mui/material/AppBar';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ImportExternalApp from 'AppComponents/Shared/AppsAndKeys/ImportExternalApp';\nimport Application from 'AppData/Application';\nimport AuthManager from 'AppData/AuthManager';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport API from 'AppData/api';\nimport Table from '@mui/material/Table';\nimport TokenExchangeKeyConfiguration from 'AppComponents/Shared/AppsAndKeys/TokenExchangeKeyConfiguration';\nimport TableRow from '@mui/material/TableRow';\nimport {\n    Dialog,\n    DialogActions, DialogContent,\n    DialogContentText,\n    FormControlLabel,\n    Radio,\n    RadioGroup,\n    TableCell,\n} from '@mui/material';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Grid from '@mui/material/Grid';\nimport KeyConfiguration from './KeyConfiguration';\nimport ViewKeys from './ViewKeys';\nimport WaitingForApproval from './WaitingForApproval';\nimport { ScopeValidation, resourceMethods, resourcePaths } from '../ScopeValidation';\nimport TokenMangerSummary from './TokenManagerSummary';\nimport Progress from '../Progress';\nimport RemoveKeys from './RemoveKeys';\nimport CleanKeys from './CleanKeys';\nimport Settings from 'AppComponents/Shared/SettingsContext';\n\nconst PREFIX = 'TokenManager';\n\nconst classes = {\n    root: `${PREFIX}-root`,\n    button: `${PREFIX}-button`,\n    cleanUpButton: `${PREFIX}-cleanUpButton`,\n    cleanUpInfoText: `${PREFIX}-cleanUpInfoText`,\n    tokenSection: `${PREFIX}-tokenSection`,\n    margin: `${PREFIX}-margin`,\n    keyConfigWrapper: `${PREFIX}-keyConfigWrapper`,\n    generateWrapper: `${PREFIX}-generateWrapper`,\n    paper: `${PREFIX}-paper`,\n    muiFormGroupRoot: `${PREFIX}-muiFormGroupRoot`,\n    formControl: `${PREFIX}-formControl`,\n    subTitle: `${PREFIX}-subTitle`,\n    tabPanel: `${PREFIX}-tabPanel`,\n    warningIcon: `${PREFIX}-warningIcon`,\n    leftCol: `${PREFIX}-leftCol`,\n};\n\n// TODO jss-to-styled codemod: The Fragment root was replaced by div. Change the tag if needed.\nconst Root = styled('div')((\n    {\n        theme,\n    },\n) => ({\n    [`& .${classes.root}`]: {\n        padding: theme.spacing(3),\n        '& span, & h6, & label, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n        '& .Mui-disabled span': {\n            color: theme.palette.grey[500],\n        },\n        '& input:disabled': {\n            backgroundColor: theme.palette.grey[100],\n            color: theme.palette.grey[500],\n        },\n        position: 'relative',\n    },\n\n    [`& .${classes.button}`]: {\n        marginLeft: 0,\n        '& span': {\n            color: theme.palette.getContrastText(theme.palette.primary.main),\n        },\n        marginRight: theme.spacing(2),\n    },\n\n    [`& .${classes.cleanUpButton}`]: {\n        marginLeft: 15,\n    },\n\n    [`& .${classes.cleanUpInfoText}`]: {\n        padding: '10px 0px 10px 15px',\n    },\n\n    [`& .${classes.tokenSection}`]: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n\n    [`& .${classes.margin}`]: {\n        marginRight: theme.spacing(2),\n    },\n\n    [`& .${classes.keyConfigWrapper}`]: {\n        flexDirection: 'column',\n        marginBottom: 0,\n    },\n\n    [`& .${classes.generateWrapper}`]: {\n        padding: '10px 0px',\n        marginLeft: theme.spacing(1.25),\n    },\n\n    [`& .${classes.paper}`]: {\n        background: 'none',\n        marginBottom: theme.spacing(2),\n        marginTop: theme.spacing(2),\n    },\n\n    [`& .${classes.muiFormGroupRoot}`]: {\n        flexDirection: 'row',\n    },\n\n    [`& .${classes.formControl}`]: {\n    },\n\n    [`& .${classes.subTitle}`]: {\n        fontWeight: 400,\n    },\n\n    [`& .${classes.tabPanel}`]: {\n        paddingLeft: theme.spacing(2),\n        '& .MuiBox-root': {\n            padding: 0,\n        },\n    },\n\n    [`& .${classes.warningIcon}`]: {\n        color: '#ff9a00',\n        fontSize: 20,\n        marginRight: 10,\n    },\n\n    [`& .${classes.leftCol}`]: {\n        width: 180,\n    },\n}));\n\nfunction TabPanel(props) {\n    const {\n        children, value, index, ...other\n    } = props;\n\n    return (\n        <div\n            role='tabpanel'\n            hidden={value !== index}\n            id={`nav-tabpanel-${index}`}\n            aria-labelledby={`nav-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    {children}\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\n/**\n *  @param {event} event event\n *  @param {String} value description\n */\nclass TokenManager extends React.Component {\n    static contextType = Settings;\n\n    /**\n     *\n     * @param {*} props props\n     */\n    constructor(props) {\n        super(props);\n        const { selectedApp, keyType } = this.props;\n        this.state = {\n            isLoading: false,\n            keys: null,\n            isKeyJWT: false,\n            hasError: false,\n            initialToken: '',\n            initialValidityTime: 0,\n            initialScopes: [],\n            keyRequest: {\n                keyType,\n                selectedGrantTypes: null,\n                callbackUrl: '',\n                additionalProperties: {},\n                keyManager: '',\n                validityTime: 3600,\n                scopes: ['default'],\n            },\n            keyManagers: null,\n            selectedTab: null,\n            providedConsumerKey: '',\n            providedConsumerSecret: '',\n            validating: false,\n            importDisabled: false,\n            mode: null,\n            tokenType: 'DIRECT',\n            isOrgWideAppUpdateEnabled: false,\n        };\n        this.keyStates = {\n            COMPLETED: 'COMPLETED',\n            APPROVED: 'APPROVED',\n            CREATED: 'CREATED',\n            REJECTED: 'REJECTED',\n        };\n        if (selectedApp) {\n            this.appId = selectedApp.appId || selectedApp.value;\n            this.application = Application.get(this.appId);\n        }\n        this.updateKeyRequest = this.updateKeyRequest.bind(this);\n        this.generateKeys = this.generateKeys.bind(this);\n        this.updateKeys = this.updateKeys.bind(this);\n        this.cleanUpKeys = this.cleanUpKeys.bind(this);\n        this.handleOnChangeProvidedOAuth = this.handleOnChangeProvidedOAuth.bind(this);\n        this.provideOAuthKeySecret = this.provideOAuthKeySecret.bind(this);\n    }\n\n    /**\n     *\n     *\n     * @memberof TokenManager\n     */\n    componentDidMount() {\n        this.loadApplication();\n        this.isOrgWideAppUpdateEnabled();\n    }\n\n    componentDidUpdate(nextProps) {\n        const { keyType: nextKeyType } = nextProps;\n        const { keyType: prevKeyType } = this.props;\n        if (nextKeyType !== prevKeyType) {\n            this.loadApplication();\n        }\n    }\n\n    /**\n     * retrieve Settings from the context and check the org-wide application update enabled\n     */\n    isOrgWideAppUpdateEnabled = () => {\n        const settingsContext = this.context;\n        const orgWideAppUpdateEnabled = settingsContext.settings.orgWideAppUpdateEnabled;\n        this.setState({ isOrgWideAppUpdateEnabled: orgWideAppUpdateEnabled });\n    }\n\n    /**\n     * Handle onCLick of remove keys\n     * */\n    handleClickRemove = (keyMappingId) => {\n        const {\n            selectedTab, keyType, intl,\n        } = this.props;\n        this.application\n            .then((application) => {\n                return application.removeKeys(keyType, selectedTab, keyMappingId);\n            })\n            .then((result) => {\n                if (result) {\n                    this.loadApplication();\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.cleanupall.success',\n                        defaultMessage: 'Application keys removed successfully',\n                    }));\n                }\n            })\n            .catch((error) => {\n                throw (error);\n            });\n    };\n\n    getDefaultAdditionalProperties(selectedKM) {\n        const { availableGrantTypes, applicationConfiguration } = selectedKM;\n        // Fill the keyRequest.additionalProperties from the selectedKM.applicationConfiguration defaultValues.\n        const additionalProperties = {};\n\n        applicationConfiguration.forEach((confItem) => {\n            additionalProperties[confItem.name] = confItem.default || '';\n        });\n        return additionalProperties;\n    }\n\n    isTokenExchangeEnabled() {\n        const { keyManagers } = this.state;\n        let isEnabled = false;\n        if (keyManagers && keyManagers.length > 1) {\n            keyManagers.map((keymanager) => {\n                if (keymanager.tokenType === 'EXCHANGED' || keymanager.tokenType === 'BOTH') {\n                    isEnabled = true;\n                }\n            });\n        }\n        return isEnabled;\n    }\n\n    handleTabChange = (event, newSelectedTab) => {\n        const { keys, keyManagers, keyRequest } = this.state;\n        const { keyType } = this.props;\n        const selectedKM = keyManagers.find((x) => x.name === newSelectedTab);\n        const { availableGrantTypes } = selectedKM;\n        const selectedGrantsByDefault = [];\n        if (availableGrantTypes.find((gt) => gt === 'password')) {\n            selectedGrantsByDefault.push('password');\n        }\n        if (availableGrantTypes.find((gt) => gt === 'client_credentials')) {\n            selectedGrantsByDefault.push('client_credentials');\n        }\n\n        if (keys.size > 0 && keys.get(newSelectedTab) && keys.get(newSelectedTab).keyType === keyType) {\n            const {\n                callbackUrl, supportedGrantTypes, additionalProperties, mode,\n            } = keys.get(newSelectedTab);\n            const newRequest = {\n                ...keyRequest,\n                callbackUrl,\n                selectedGrantTypes: supportedGrantTypes\n                    || selectedGrantsByDefault,\n                additionalProperties: additionalProperties || this.getDefaultAdditionalProperties(selectedKM),\n            };\n            this.setState({\n                keyRequest: newRequest,\n                selectedTab: newSelectedTab,\n                mode,\n                importDisabled: (mode === 'MAPPED' || mode === 'CREATED'),\n            });\n        } else {\n            // Fill the keyRequest.additionalProperties from the selectedKM.applicationConfiguration defaultValues.\n            this.setState({\n                keyRequest: {\n                    ...keyRequest,\n                    selectedGrantTypes: selectedGrantsByDefault,\n                    additionalProperties: this.getDefaultAdditionalProperties(selectedKM),\n                },\n                selectedTab: newSelectedTab,\n                mode: null,\n                importDisabled: false,\n            });\n        }\n    };\n\n    /**\n     * load application key generation ui\n     */\n    loadApplication = () => {\n        const { keyType, intl } = this.props;\n        if (this.appId) {\n            const api = new API();\n            const promisedKeyManagers = api.getKeyManagers();\n            const promisedGetKeys = this.application\n                .then((application) => application.getKeys(keyType));\n            Promise.all([promisedKeyManagers, promisedGetKeys])\n                .then((response) => {\n                    // processing promisedKeyManagers response\n                    const responseKeyManagerList = [];\n                    response[0].body.list.map((item) => {\n                        if (item.enabled) responseKeyManagerList.push(item);\n                    });\n\n                    if (responseKeyManagerList.length === 0) {\n                        this.setState({ keyManagers: [] });\n                        return;\n                    }\n                    // Selecting a key manager from the list of key managers.\n                    let { selectedTab } = this.state;\n                    if (!selectedTab && responseKeyManagerList.length > 0) {\n                        selectedTab = responseKeyManagerList.find((x) => x.name === 'Resident Key Manager') ? 'Resident Key Manager'\n                            : responseKeyManagerList[0].name;\n                    }\n                    const selectdKM = responseKeyManagerList.find((x) => x.name === selectedTab);\n                    // processing promisedGetKeys response\n                    const keys = response[1];\n                    const { keyRequest } = this.state;\n\n                    if (keys.size > 0 && keys.get(selectedTab) && keys.get(selectedTab).keyType === keyType) {\n                        const {\n                            callbackUrl, supportedGrantTypes, additionalProperties, mode,\n                        } = keys.get(selectedTab);\n                        const newRequest = {\n                            ...keyRequest,\n                            callbackUrl: callbackUrl || '',\n                            selectedGrantTypes: supportedGrantTypes || [],\n                            additionalProperties: additionalProperties || this.getDefaultAdditionalProperties(selectdKM),\n                        };\n                        this.setState({\n                            keys,\n                            keyRequest: newRequest,\n                            keyManagers: responseKeyManagerList,\n                            selectedTab,\n                            importDisabled: (mode === 'MAPPED' || mode === 'CREATED'),\n                            mode,\n                        });\n                    } else {\n                        const selectedGrantTypes = [];\n                        if (selectdKM.availableGrantTypes.find((gt) => gt === 'password')) {\n                            selectedGrantTypes.push('password');\n                        }\n                        if (selectdKM.availableGrantTypes.find((gt) => gt === 'client_credentials')) {\n                            selectedGrantTypes.push('client_credentials');\n                        }\n\n                        this.setState({\n                            keys,\n                            keyRequest: {\n                                ...keyRequest,\n                                selectedGrantTypes,\n                                additionalProperties: this.getDefaultAdditionalProperties(selectdKM),\n                            },\n                            keyManagers: responseKeyManagerList,\n                            selectedTab,\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.error(error);\n                    if (error.status === 404) {\n                        this.setState({ notFound: true });\n                    } else {\n                        Alert.error(error.description\n                            || intl.formatMessage({\n                                id: 'Shared.AppsAndKeys.TokenManager.get.keys.request.error',\n                                defaultMessage: 'Error while retrieving the keys',\n                            }));\n                    }\n                });\n        }\n    }\n\n    /**\n     * Update keyRequest state\n     * @param {Object} keyRequest parameters requried for key generation request\n     */\n    updateKeyRequest(keyRequest) {\n        this.setState({ keyRequest });\n    }\n\n    /**\n     * Generate keys for application,\n     *\n     * @memberof KeyConfiguration\n     */\n    generateKeys() {\n        const { keyRequest, keys, selectedTab } = this.state;\n        const {\n            keyType, updateSubscriptionData, selectedApp: { tokenType, hashEnabled }, intl,\n        } = this.props;\n\n        if ((keyRequest.selectedGrantTypes.includes('implicit')\n            || keyRequest.selectedGrantTypes.includes('authorization_code'))) {\n            if (keyRequest.callbackUrl === '') {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty',\n                    defaultMessage: 'Callback URL can not be empty when the Implicit or Application Code grant types selected',\n                }));\n                return;\n            }\n        }\n        this.setState({ isLoading: true });\n\n        this.application\n            .then((application) => {\n                return application.generateKeys(\n                    keyType, keyRequest.selectedGrantTypes,\n                    keyRequest.callbackUrl,\n                    keyRequest.additionalProperties, this.getKeyManagerIdentifier(),\n                );\n            })\n            .then((response) => {\n                if (updateSubscriptionData) {\n                    updateSubscriptionData();\n                }\n                const newKeys = new Map([...keys]);\n                // in case token hashing is enabled, isKeyJWT is set to true even if the token type is JWT.\n                // This is to mimic the behavior of JWT tokens (by showing the token in a dialog)\n                const isKeyJWT = (tokenType === 'JWT') || hashEnabled;\n                newKeys.set(selectedTab, response);\n                const initialToken = response.token ? response.token.accessToken : '';\n                const initialValidityTime = response.token ? response.token.validityTime : 0;\n                const initialScopes = response.token ? response.token.tokenScopes : [];\n                this.setState({\n                    keys: newKeys, isKeyJWT, initialToken, initialValidityTime, initialScopes,\n                });\n                if (response.keyState === this.keyStates.CREATED || response.keyState === this.keyStates.REJECTED) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.generate.success.blocked',\n                        defaultMessage: 'Application keys generate request is currently pending approval by the site administrator.',\n                    }));\n                } else {\n                    Alert.info(intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.generate.success',\n                        defaultMessage: 'Application keys generated successfully',\n                    }));\n                    this.loadApplication();\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 500) {\n                    this.loadApplication();\n                }\n                Alert.error(error.description\n                    || `${intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.generate.error',\n                        defaultMessage: 'Error occurred when generating application keys',\n                    })}, ${error.response.body.message}`);\n            }).finally(() => this.setState({ isLoading: false }));\n    }\n\n    /**\n     *\n     * @memberof KeyConfiguration\n     */\n    updateKeys() {\n        const { keys, keyRequest, selectedTab } = this.state;\n        const { keyType, intl } = this.props;\n        const applicationKey = (keys.get(selectedTab).keyType === keyType) && keys.get(selectedTab);\n        if ((keyRequest.selectedGrantTypes.includes('implicit')\n            || keyRequest.selectedGrantTypes.includes('authorization_code'))) {\n            if (keyRequest.callbackUrl === '') {\n                Alert.error(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.generate.error.callbackempty',\n                    defaultMessage: 'Callback URL can not be empty when the Implicit or Application Code grant types selected',\n                }));\n                return;\n            }\n        }\n        this.setState({ isLoading: true });\n        this.application\n            .then((application) => {\n                return application.updateKeys(\n                    applicationKey.tokenType,\n                    keyType,\n                    keyRequest.selectedGrantTypes,\n                    keyRequest.callbackUrl,\n                    applicationKey.consumerKey,\n                    applicationKey.consumerSecret,\n                    keyRequest.additionalProperties,\n                    selectedTab,\n                    applicationKey.keyMappingId,\n                );\n            })\n            .then((response) => {\n                const newKeys = new Map([...keys]);\n                newKeys.set(selectedTab, response);\n                this.setState({ keys: newKeys });\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.update.success',\n                    defaultMessage: 'Application keys updated successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 500) {\n                    this.loadApplication();\n                }\n                const { response } = error;\n                if (response && response.body && response.body.message && response.body.description) {\n                    Alert.error(`${response.body.message}: ${response.body.description}`);\n                }\n            }).finally(() => this.setState({ isLoading: false }));\n    }\n\n    /**\n     * Cleanup application keys\n     */\n    cleanUpKeys(selectedTab, keyMappingId) {\n        const { keyType, intl } = this.props;\n        this.application\n            .then((application) => {\n                return application.cleanUpKeys(keyType, selectedTab, keyMappingId);\n            })\n            .then(() => {\n                this.loadApplication();\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.cleanup.success',\n                    defaultMessage: 'Application keys cleaned successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n                Alert.error(error.description || intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.cleanup.error',\n                    defaultMessage: 'Error occurred while cleaning up application keys',\n                }));\n            });\n    }\n\n    /**\n     * Handle on change of provided consumer key and consumer secret\n     *\n     * @param event onChange event\n     */\n    handleOnChangeProvidedOAuth(event) {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    /**\n     * Provide consumer key and secret of an existing OAuth app to an application\n     */\n    provideOAuthKeySecret() {\n        const { keyType, intl } = this.props;\n        const { providedConsumerKey, providedConsumerSecret, selectedTab } = this.state;\n\n        this.application\n            .then((application) => {\n                return application.provideKeys(keyType, providedConsumerKey, providedConsumerSecret, selectedTab);\n            })\n            .then(() => {\n                this.setState({ providedConsumerKey: '', providedConsumerSecret: '' });\n                this.loadApplication();\n                Alert.info(intl.formatMessage({\n                    id: 'Shared.AppsAndKeys.TokenManager.key.provide.success',\n                    defaultMessage: 'Application keys provided successfully',\n                }));\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status, response } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                }\n                if (response) {\n                    Alert.error(error.response.body.description);\n                } else {\n                    Alert.error(error.description || intl.formatMessage({\n                        id: 'Shared.AppsAndKeys.TokenManager.key.provide.error',\n                        defaultMessage: 'Error occurred when providing application keys',\n                    }));\n                }\n            });\n    }\n\n    getKeyManagerDescription() {\n        const { keyManagers, selectedTab } = this.state;\n        const selectedKMObject = keyManagers.filter((item) => item.name === selectedTab);\n        if (selectedKMObject && selectedKMObject.length === 1) {\n            return selectedKMObject[0].description;\n        }\n        return '';\n    }\n\n    getKeyManagerIdentifier() {\n        const { keyManagers, selectedTab } = this.state;\n        const selectedKMObject = keyManagers.filter((item) => item.name === selectedTab);\n        if (selectedKMObject && selectedKMObject.length === 1) {\n            return selectedKMObject[0].id;\n        }\n        return selectedTab;\n    }\n\n    setValidating = (validatingState) => {\n        this.setState({ validating: validatingState });\n    }\n\n    updateHasError = (state) => {\n        this.setState({ hasError: state });\n    }\n\n    toTitleCase = (str) => {\n        return str.replace(\n            /\\w\\S*/g,\n            (txt) => {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            },\n        );\n    };\n\n    handleChange = (e) => {\n        this.setState({ tokenType: e.target.defaultValue });\n    }\n\n    handleClose=() => {\n        this.setState({ tokenType: 'DIRECT' });\n    }\n\n    /**\n     *  @returns {Component}\n     * @memberof Tokenemanager\n     */\n    render() {\n        const {\n            selectedApp, keyType, summary, selectedApp: { hashEnabled }, isKeyManagerAllowed,\n        } = this.props;\n        const {\n            keys, keyRequest, isLoading, isKeyJWT, providedConsumerKey,\n            providedConsumerSecret, selectedTab, keyManagers, validating, hasError, initialToken,\n            initialValidityTime, initialScopes, importDisabled, mode, tokenType, isOrgWideAppUpdateEnabled,\n        } = this.state;\n\n        if (keyManagers && keyManagers.length === 0) {\n            return (\n                <Root>\n                    <div className={classes.root}>\n                        <Box mb={1}>\n                            <Typography variant='h5' className={classes.keyTitle}>\n                                {this.toTitleCase(keyType)}\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeyhandleCloses.TokenManager.oauth2.keys.main.title'\n                                    defaultMessage=' OAuth2 Keys'\n                                />\n                            </Typography>\n                        </Box>\n                        <InlineMessage type='info' className={classes.dialogContainer}>\n                            <Typography variant='h5' component='h3'>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.TokenManager.no.km'\n                                    defaultMessage='No Key Managers'\n                                />\n                            </Typography>\n                            <Typography component='p'>\n                                <FormattedMessage\n                                    id='Shared.AppsAndKeys.TokenManager.no.km.content'\n                                    defaultMessage='No Key Managers active to generate keys.'\n                                />\n                            </Typography>\n                        </InlineMessage>\n                    </div>\n                </Root>\n            );\n        }\n        if (!keys || !selectedTab || !keyRequest.selectedGrantTypes) {\n            return <Root><Loading /></Root>;\n        }\n        const csCkKeys = keys.size > 0 && keys.get(selectedTab)\n            && (keys.get(selectedTab).keyType === keyType) && keys.get(selectedTab);\n        const keyMappingId = csCkKeys && csCkKeys.keyMappingId;\n\n        const username = AuthManager.getUser().name;\n        let isUserOwner = false;\n\n        if (selectedApp.owner && username.toLowerCase() === selectedApp.owner.toLowerCase()) {\n            isUserOwner = true;\n        }\n        const key = keys.size > 0 && keys.get(selectedTab) && (keys.get(selectedTab).keyType === keyType) ? keys.get(selectedTab) : null;\n\n        if (summary) {\n            if (keys) {\n                return (\n                    <Root>\n                        <TokenMangerSummary\n                            keys={keys}\n                            key={key}\n                            keyStates={this.keyStates}\n                            selectedApp={selectedApp}\n                            selectedTab={selectedTab}\n                            keyType={keyType}\n                            isKeyJWT={isKeyJWT}\n                            isUserOwner={isUserOwner}\n                        />\n                    </Root>\n                );\n            } else {\n                return (<Root><Progress /></Root>);\n            }\n        }\n\n        let isResidentKeyManagerTokensAvailable = false;\n        if (keys.has('Resident Key Manager')\n            && keys.get('Resident Key Manager').supportedGrantTypes\n            && keys.get('Resident Key Manager').supportedGrantTypes\n                .includes('urn:ietf:params:oauth:grant-type:token-exchange')) {\n            isResidentKeyManagerTokensAvailable = true;\n        }\n\n        let defaultTokenEndpoint;\n\n        if (keyManagers.length > 0) {\n            const residentKMs = keyManagers.filter((item) => item.name === 'Resident Key Manager');\n            defaultTokenEndpoint = residentKMs.length > 0 ? (residentKMs)[0].tokenEndpoint : null;\n        }\n\n        if (key && key.keyState === 'APPROVED' && !key.consumerKey) {\n            return (\n                <Root>\n                    <Typography className={classes.cleanUpInfoText} variant='subtitle1'>\n                        <FormattedMessage\n                            id='Shared.AppsAndKeys.TokenManager.cleanup.text'\n                            defaultMessage='Error! You have partially-created keys.\n                            Please click `Clean Up` button and try again.'\n                        />\n                    </Typography>\n                    <Button\n                        variant='contained'\n                        color='primary'\n                        className={classes.cleanUpButton}\n                        onClick={() => this.cleanUpKeys(selectedTab, keys.get(selectedTab).keyMappingId)}\n                    >\n                        <FormattedMessage\n                            defaultMessage='Clean up'\n                            id='Shared.AppsAndKeys.TokenManager.cleanup'\n                        />\n                    </Button>\n                </Root>\n            );\n        }\n        if (key && (key.keyState === this.keyStates.CREATED || key.keyState === this.keyStates.REJECTED)) {\n            return <Root><WaitingForApproval keyState={key.keyState} states={this.keyStates} /></Root>;\n        }\n        return (\n            <Root>\n                {(keyManagers && keyManagers.length > 1) && (\n                    <AppBar position='static' color='default'>\n                        <Tabs\n                            value={selectedTab}\n                            onChange={this.handleTabChange}\n                            indicatorColor='primary'\n                            textColor='primary'\n                            variant='scrollable'\n                            scrollButtons='auto'\n                            aria-label='scrollable auto tabs example'\n                        >\n                            {keyManagers.map((keymanager) => (\n                                <Tab\n                                    label={keymanager.displayName || keymanager.name}\n                                    value={keymanager.name}\n                                    disabled={!keymanager.enabled || (isKeyManagerAllowed\n                                    && !isKeyManagerAllowed(keymanager.name)\n                                    && ((keymanager.name !== 'Resident Key Manager')\n                                    || (!this.isTokenExchangeEnabled() && keymanager.name === 'Resident Key Manager')))}\n                                    id={keymanager.name.replace(/\\s/g, '')}\n                                />\n                            ))}\n                        </Tabs>\n                    </AppBar>\n                )}\n                <div className={classes.root}>\n                    <Box mb={1}>\n                        <Typography variant='h5' className={classes.keyTitle}>\n                            {this.toTitleCase(keyType)}\n                            <FormattedMessage\n                                id='Shared.AppsAndKeys.TokenManager.oauth2.keys.main.title'\n                                defaultMessage=' OAuth2 Keys'\n                            />\n                        </Typography>\n                    </Box>\n                    {(keyManagers && keyManagers.length > 0) && keyManagers.map((keymanager) => (\n                        <div>\n                            {keymanager.tokenType === 'DIRECT' && (\n                                <TabPanel value={selectedTab} index={keymanager.name} className={classes.tabPanel}>\n                                    <Box display='flex' flexDirection='row'>\n                                        <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                            <FormattedMessage\n                                                defaultMessage='Key and Secret'\n                                                id='Shared.AppsAndKeys.TokenManager.key.and.secret'\n                                            />\n                                        </Typography>\n                                        {keymanager.enableMapOAuthConsumerApps && (\n                                            <Box ml={2}>\n                                                <ImportExternalApp\n                                                    onChange={this.handleOnChangeProvidedOAuth}\n                                                    consumerKey={providedConsumerKey}\n                                                    consumerSecret={providedConsumerSecret}\n                                                    isUserOwner={isUserOwner}\n                                                    key={key}\n                                                    provideOAuthKeySecret={this.provideOAuthKeySecret}\n                                                    importDisabled={importDisabled}\n                                                />\n                                            </Box>\n                                        )}\n                                        {(keymanager.enableTokenGeneration && keys.get(selectedTab)) && isUserOwner\n                                            && (\n                                                mode !== 'MAPPED'\n                                                    ? (\n                                                        <Box ml={2}>\n                                                            <RemoveKeys\n                                                                keys={keys}\n                                                                selectedTab={selectedTab}\n                                                                keyMappingId={keyMappingId}\n                                                                handleClickRemove={this.handleClickRemove}\n                                                            />\n                                                        </Box>\n                                                    ) : (\n                                                        <Box ml={2}>\n                                                            <CleanKeys\n                                                                keys={keys}\n                                                                selectedTab={selectedTab}\n                                                                keyMappingId={keyMappingId}\n                                                                handleClickRemove={this.handleClickRemove}\n                                                            />\n                                                        </Box>\n                                                    ))}\n                                    </Box>\n                                    <Box m={2}>\n                                        <ViewKeys\n                                            initialToken={initialToken}\n                                            initialValidityTime={initialValidityTime}\n                                            initialScopes={initialScopes}\n                                            selectedApp={selectedApp}\n                                            selectedTab={selectedTab}\n                                            keyType={keyType}\n                                            keys={keys}\n                                            selectedGrantTypes={keyRequest.selectedGrantTypes}\n                                            isUserOwner={isUserOwner}\n                                            hashEnabled={keymanager.enableTokenHashing || hashEnabled}\n                                            keyManagerConfig={keymanager}\n                                            mode={mode}\n                                            loadApplication={this.loadApplication}\n                                        />\n                                    </Box>\n                                    <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                        {\n                                            key\n                                                ? (\n                                                    <FormattedMessage\n                                                        defaultMessage='Key Configurations'\n                                                        id='Shared.AppsAndKeys.TokenManager.update.configuration'\n                                                    />\n                                                )\n                                                : (\n                                                    <FormattedMessage\n                                                        defaultMessage='Key Configuration'\n                                                        id='Shared.AppsAndKeys.TokenManager.key.configuration'\n                                                    />\n                                                )\n                                        }\n                                    </Typography>\n                                    <Box m={2}>\n                                        <KeyConfiguration\n                                            keys={keys}\n                                            key={key}\n                                            selectedApp={selectedApp}\n                                            selectedTab={selectedTab}\n                                            keyType={keyType}\n                                            updateKeyRequest={this.updateKeyRequest}\n                                            keyRequest={keyRequest}\n                                            isUserOwner={isUserOwner}\n                                            isKeysAvailable={!!key}\n                                            keyManagerConfig={keymanager}\n                                            validating={validating}\n                                            updateHasError={this.updateHasError}\n                                            callbackError={hasError}\n                                            setValidating={this.setValidating}\n                                            defaultTokenEndpoint={defaultTokenEndpoint}\n                                            mode={mode}\n                                        />\n                                        <div className={classes.generateWrapper}>\n                                            <ScopeValidation\n                                                resourcePath={resourcePaths.APPLICATION_GENERATE_KEYS}\n                                                resourceMethod={resourceMethods.POST}\n                                            >\n                                                {!isOrgWideAppUpdateEnabled && !isUserOwner ? (\n                                                    <>\n                                                        <Button\n                                                            id='generate-keys'\n                                                            variant='contained'\n                                                            color='primary'\n                                                            className={classes.button}\n                                                            onClick={\n                                                                key ? this.updateKeys : this.generateKeys\n                                                            }\n                                                            disabled={(!isOrgWideAppUpdateEnabled && !isUserOwner) || isLoading || !keymanager.enableOAuthAppCreation\n                                                                || (isKeyManagerAllowed\n                                                                    && !isKeyManagerAllowed(keymanager.name)\n                                                                    && ((keymanager.name !== 'Resident Key Manager')\n                                                                    || (!this.isTokenExchangeEnabled()\n                                                                    && keymanager.name === 'Resident Key Manager')))}\n                                                        >\n                                                            {key\n                                                                ? this.props.intl.formatMessage({\n                                                                    id: 'Shared.AppsAndKeys.TokenManager.update.keys',\n                                                                    defaultMessage: 'Update Keys',\n                                                                })\n                                                                : this.props.intl.formatMessage({\n                                                                    id: 'Shared.AppsAndKeys.TokenManager.generate.keys',\n                                                                    defaultMessage: 'Generate Keys',\n                                                                })}\n                                                            {isLoading && <CircularProgress size={20} />}\n                                                        </Button>\n                                                        <Typography variant='caption'>\n                                                            <FormattedMessage\n                                                                defaultMessage='Only owner can generate or update keys'\n                                                                id='Shared.AppsAndKeys.TokenManager.key.and.user.owner'\n                                                            />\n                                                        </Typography>\n                                                    </>\n                                                ) : (\n                                                    <Box display='flex'>\n                                                        <Button\n                                                            id='generate-keys'\n                                                            variant='contained'\n                                                            color='primary'\n                                                            className={classes.button}\n                                                            onClick={key ? this.updateKeys : this.generateKeys}\n                                                            disabled={hasError || (isLoading || !keymanager.enableOAuthAppCreation)\n                                                                || (mode && mode === 'MAPPED')\n                                                            || (isKeyManagerAllowed\n                                                                && !isKeyManagerAllowed(keymanager.name)\n                                                                && ((keymanager.name !== 'Resident Key Manager')\n                                                                || (!this.isTokenExchangeEnabled()\n                                                                && keymanager.name === 'Resident Key Manager')))}\n                                                        >\n                                                            {key\n                                                                ? this.props.intl.formatMessage({\n                                                                    id: 'Shared.AppsAndKeys.TokenManager.update',\n                                                                    defaultMessage: 'Update',\n                                                                })\n                                                                : this.props.intl.formatMessage({\n                                                                    id: 'Shared.AppsAndKeys.TokenManager.generate.keys',\n                                                                    defaultMessage: 'Generate Keys',\n                                                                })}\n                                                            {isLoading && <CircularProgress size={20} />}\n                                                        </Button>\n                                                        {!keymanager.enableOAuthAppCreation && (\n                                                            <Box m={2} display='flex'>\n                                                                <WarningIcon className={classes.warningIcon} />\n                                                                <Typography variant='body1'>\n                                                                    <FormattedMessage\n                                                                        defaultMessage='Oauth app creation\n                                                                         disabled for {kmName} key manager'\n                                                                        id='Shared.AppsAndKeys.TokenManager.app.creation.disable.warn'\n                                                                        values={{ kmName: keymanager.displayName || keymanager.name }}\n                                                                    />\n                                                                </Typography>\n                                                            </Box>\n                                                        )}\n                                                    </Box>\n                                                )}\n                                            </ScopeValidation>\n                                        </div>\n\n                                    </Box>\n                                </TabPanel>\n                            )}\n                            {keymanager.tokenType === 'EXCHANGED' && (\n                                <TabPanel value={selectedTab} index={keymanager.name} className={classes.tabPanel}>\n                                    <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                        <FormattedMessage\n                                            defaultMessage='Token Generation'\n                                            id='Shared.AppsAndKeys.TokenManager.ExchangeToken.key.configuration'\n                                        />\n                                    </Typography>\n                                    <Box m={2}>\n                                        {/*\n                                        Token exchange grant flow enable/disable logic\n                                        Given that in the key manager selected has the tokenType='EXCHANGE'\n                                            If 'Resident Key Manager' disabled we can't proceed with token exchange.\n                                             So need to show a banner\n                                            If 'Resident Key Manager' enabled,\n                                             we need to check if the resident key manager 'exchange grant' is selected.\n                                            So we need to ask the user to select 'exchange grant' for the 'Resident Key Manager'.\n                                            If 'Resident Key Manager' enabled and 'exchange grant' is enabled the token exchange is possible\n                                        */}\n                                        <TokenExchangeKeyConfiguration\n                                            keys={keys}\n                                            key={key}\n                                            selectedApp={selectedApp}\n                                            selectedTab={selectedTab}\n                                            keyType={keyType}\n                                            updateKeyRequest={this.updateKeyRequest}\n                                            keyRequest={keyRequest}\n                                            isUserOwner={isUserOwner}\n                                            isKeysAvailable={!!key}\n                                            keyManagerConfig={keymanager}\n                                            validating={validating}\n                                            updateHasError={this.updateHasError}\n                                            callbackError={hasError}\n                                            setValidating={this.setValidating}\n                                            defaultTokenEndpoint={defaultTokenEndpoint}\n                                        />\n                                    </Box>\n                                </TabPanel>\n                            )}\n                            {keymanager.tokenType === 'BOTH' && (\n                                <TabPanel value={selectedTab} index={keymanager.name} className={classes.tabPanel}>\n                                    <Box m={2}>\n                                        <Box m={2}>\n                                            <Box display='flex' alignItems='center'>\n                                                <Table className={classes.table}>\n                                                    <TableRow>\n                                                        <TableCell component='th' scope='row' className={classes.leftCol}>\n                                                            <FormattedMessage\n                                                                defaultMessage='API Invocation Method'\n                                                                id='Shared.AppsAndKeys.KeyConfiguration.API Invocation.Method.label'\n                                                            />\n                                                        </TableCell>\n                                                        <TableCell>\n                                                            <RadioGroup\n                                                                style={{ flexDirection: 'row' }}\n                                                                aria-label='tokenType'\n                                                                name='tokenType'\n                                                                value={tokenType}\n                                                                onChange={this.handleChange}\n                                                            >\n                                                                <FormControlLabel\n                                                                    value='DIRECT'\n                                                                    control={<Radio />}\n                                                                    label='Direct Token'\n                                                                    id='direct-token'\n                                                                />\n                                                                <FormControlLabel\n                                                                    value='EXCHANGED'\n                                                                    control={<Radio />}\n                                                                    label='Exchange Token'\n                                                                    id='exchange-token'\n                                                                />\n                                                            </RadioGroup>\n                                                        </TableCell>\n                                                    </TableRow>\n                                                </Table>\n                                            </Box>\n                                        </Box>\n\n                                        {tokenType === 'DIRECT' && (\n                                            <>\n                                                <Box display='flex' flexDirection='row'>\n                                                    <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                                        <FormattedMessage\n                                                            defaultMessage='Key and Secret'\n                                                            id='Shared.AppsAndKeys.TokenManager.key.and.secret'\n                                                        />\n                                                    </Typography>\n                                                    {\n                                                        keymanager.enableMapOAuthConsumerApps && (\n                                                            <Box ml={2}>\n                                                                <ImportExternalApp\n                                                                    onChange={this.handleOnChangeProvidedOAuth}\n                                                                    consumerKey={providedConsumerKey}\n                                                                    consumerSecret={providedConsumerSecret}\n                                                                    isUserOwner={isUserOwner}\n                                                                    key={key}\n                                                                    provideOAuthKeySecret={this.provideOAuthKeySecret}\n                                                                    importDisabled={importDisabled}\n                                                                />\n                                                            </Box>\n                                                        )\n                                                    }\n                                                </Box>\n                                                <Box m={2}>\n                                                    <ViewKeys\n                                                        initialToken={initialToken}\n                                                        initialValidityTime={initialValidityTime}\n                                                        initialScopes={initialScopes}\n                                                        selectedApp={selectedApp}\n                                                        selectedTab={selectedTab}\n                                                        keyType={keyType}\n                                                        keys={keys}\n                                                        selectedGrantTypes={keyRequest.selectedGrantTypes}\n                                                        isUserOwner={isUserOwner}\n                                                        hashEnabled={keymanager.enableTokenHashing || hashEnabled}\n                                                        keyManagerConfig={keymanager}\n                                                        mode={mode}\n                                                        loadApplication={this.loadApplication}\n                                                    />\n                                                </Box>\n                                                <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                                    {\n                                                        key\n                                                            ? (\n                                                                <FormattedMessage\n                                                                    defaultMessage='Key Configurations'\n                                                                    id='Shared.AppsAndKeys.TokenManager.update.configuration'\n                                                                />\n                                                            )\n                                                            : (\n                                                                <FormattedMessage\n                                                                    defaultMessage='Key Configuration'\n                                                                    id='Shared.AppsAndKeys.TokenManager.key.configuration'\n                                                                />\n                                                            )\n                                                    }\n                                                </Typography>\n                                                <Box m={2}>\n                                                    <KeyConfiguration\n                                                        keys={keys}\n                                                        key={key}\n                                                        selectedApp={selectedApp}\n                                                        selectedTab={selectedTab}\n                                                        keyType={keyType}\n                                                        updateKeyRequest={this.updateKeyRequest}\n                                                        keyRequest={keyRequest}\n                                                        isUserOwner={isUserOwner}\n                                                        isKeysAvailable={!!key}\n                                                        keyManagerConfig={keymanager}\n                                                        validating={validating}\n                                                        updateHasError={this.updateHasError}\n                                                        callbackError={hasError}\n                                                        setValidating={this.setValidating}\n                                                        defaultTokenEndpoint={defaultTokenEndpoint}\n                                                    />\n                                                    <div className={classes.generateWrapper}>\n                                                        <ScopeValidation\n                                                            resourcePath={resourcePaths.APPLICATION_GENERATE_KEYS}\n                                                            resourceMethod={resourceMethods.POST}\n                                                        >\n                                                            {!isOrgWideAppUpdateEnabled && !isUserOwner ? (\n                                                                <>\n                                                                    <Button\n                                                                        id='generate-keys'\n                                                                        variant='contained'\n                                                                        color='primary'\n                                                                        className={classes.button}\n                                                                        onClick={\n                                                                            key ? this.updateKeys : this.generateKeys\n                                                                        }\n\n                                                                    >\n                                                                        {key ? 'Update keys' : 'Generate Keys'}\n                                                                        {isLoading && <CircularProgress size={20} />}\n                                                                    </Button>\n                                                                    <Typography variant='caption'>\n                                                                        <FormattedMessage\n                                                                            defaultMessage='Only owner can generate or update keys'\n                                                                            id='Shared.AppsAndKeys.TokenManager.key.and.user.owner'\n                                                                        />\n                                                                    </Typography>\n                                                                </>\n                                                            ) : (\n                                                                <Box display='flex'>\n                                                                    <Button\n                                                                        id='generate-keys'\n                                                                        variant='contained'\n                                                                        color='primary'\n                                                                        className={classes.button}\n                                                                        onClick={key ? this.updateKeys : this.generateKeys}\n\n                                                                    >\n                                                                        {key ? 'Update' : 'Generate Keys'}\n                                                                        {isLoading && <CircularProgress size={20} />}\n                                                                    </Button>\n                                                                    {!keymanager.enableOAuthAppCreation && (\n                                                                        <Box m={2} display='flex'>\n                                                                            <WarningIcon className={classes.warningIcon} />\n                                                                            <Typography variant='body1'>\n                                                                                <FormattedMessage\n                                                                                    defaultMessage='Oauth app creation disabled for\n                                                                                     {kmName} key manager'\n                                                                                    id='Shared.AppsAndKeys.TokenManager.app.creation.disable\n                                                                                    .warn'\n                                                                                    values={{\n                                                                                        kmName: keymanager.displayName || keymanager.name,\n                                                                                    }}\n                                                                                />\n                                                                            </Typography>\n                                                                        </Box>\n                                                                    )}\n                                                                </Box>\n                                                            )}\n                                                        </ScopeValidation>\n                                                    </div>\n                                                </Box>\n                                            </>\n                                        )}\n                                        {(tokenType === 'EXCHANGED' && isResidentKeyManagerTokensAvailable) && (\n                                            <TabPanel value={selectedTab} index={keymanager.name} className={classes.tabPanel}>\n                                                <Typography className={classes.subTitle} variant='h6' component='h6'>\n                                                    <FormattedMessage\n                                                        defaultMessage='Token Generation'\n                                                        id='Shared.AppsAndKeys.TokenManager.ExchangeToken.key.configuration'\n                                                    />\n                                                </Typography>\n                                                <Box m={2}>\n                                                    <TokenExchangeKeyConfiguration\n                                                        keys={keys}\n                                                        key={key}\n                                                        selectedApp={selectedApp}\n                                                        selectedTab={selectedTab}\n                                                        keyType={keyType}\n                                                        updateKeyRequest={this.updateKeyRequest}\n                                                        keyRequest={keyRequest}\n                                                        isUserOwner={isUserOwner}\n                                                        isKeysAvailable={!!key}\n                                                        keyManagerConfig={keymanager}\n                                                        validating={validating}\n                                                        updateHasError={this.updateHasError}\n                                                        callbackError={hasError}\n                                                        setValidating={this.setValidating}\n                                                        defaultTokenEndpoint={defaultTokenEndpoint}\n                                                    />\n                                                </Box>\n                                            </TabPanel>\n                                        )}\n                                    </Box>\n                                </TabPanel>\n                            )}\n                        </div>\n                    ))}\n\n                </div>\n                {(tokenType === 'EXCHANGED' && !isResidentKeyManagerTokensAvailable) && (\n                    <div className={classes.inputWrapper}>\n                        <Grid container spacing={3}>\n                            <Grid item xs={12}>\n                                <Dialog\n                                    fullScreen={false}\n                                    open\n                                    onClose={this.handleClose}\n                                    aria-labelledby='responsive-dialog-title'\n                                    className={classes.dialogWrapper}\n                                >\n                                    <DialogTitle id='responsive-dialog-title'>\n                                        {'Resident Key Manager Consumer Key and Secret Not Available '}\n                                    </DialogTitle>\n                                    <DialogContent>\n                                        <DialogContentText>\n                                            <>\n                                                <Typography>\n                                                    <FormattedMessage\n                                                        id='Shared.AppsAndKeys.ViewCurl.error'\n                                                        defaultMessage='Please generate the Consumer Key and Secret for\n                                                         Residence Key Manager with selecting the\n                                                          urn:ietf:params:oauth:grant-type:token-exchange grant type in\n                                                           order to use the token Exchange Approach. '\n                                                    />\n                                                </Typography>\n                                            </>\n                                        </DialogContentText>\n                                    </DialogContent>\n                                    <DialogActions>\n\n                                        <Button onClick={this.handleClose} color='primary' autoFocus id='close-btn'>\n                                            <FormattedMessage\n                                                id='Shared.AppsAndKeys.ViewKeys.consumer.close.btn'\n                                                defaultMessage='Close'\n                                            />\n                                        </Button>\n                                    </DialogActions>\n                                </Dialog>\n                            </Grid>\n                        </Grid>\n                    </div>\n                )}\n            </Root>\n        );\n    }\n}\n\nTokenManager.contextType = Settings;\n\nTokenManager.defaultProps = {\n    updateSubscriptionData: () => { },\n    summary: false,\n};\nTokenManager.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    selectedApp: PropTypes.shape({\n        tokenType: PropTypes.string.isRequired,\n        appId: PropTypes.string,\n        value: PropTypes.string,\n        owner: PropTypes.string,\n        hashEnabled: PropTypes.bool,\n    }).isRequired,\n    keyType: PropTypes.string.isRequired,\n    updateSubscriptionData: PropTypes.func,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    summary: PropTypes.bool,\n};\n\nexport default injectIntl((TokenManager));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport AuthManager from '../../data/AuthManager';\n\nconst resourcePaths = {\n    APIS: '/apis',\n    SINGLE_API: '/apis/{apiId}',\n    API_SWAGGER: '/apis/{apiId}/swagger',\n    API_WSDL: '/apis/{apiId}/wsdl',\n    API_GW_CONFIG: '/apis/{apiId}/gateway-config',\n    API_THUMBNAIL: '/apis/{apiId}/thumbnail',\n    API_COPY: '/apis/copy-api',\n    API_LC_HISTORY: '/apis/{apiId}/lifecycle-history',\n    API_CHANGE_LC: '/apis/change-lifecycle',\n    API_LC: '/apis/{apiId}/lifecycle',\n    API_LC_PENDING_TASK: '/apis/{apiId}/lifecycle/lifecycle-pending-task',\n    API_DEF: '/apis/import-definition',\n    API_VALIDATE_DEF: '/apis/validate-definition',\n    API_DOCS: '/apis/{apiId}/documents',\n    API_DOC: \"'/apis/{apiId}/documents/{documentId}'\",\n    API_DOC_CONTENT: \"'/apis/{apiId}/documents/{documentId}/content'\",\n    APPLICATIONS: '/applications',\n    SINGLE_APPLICATION: '/applications/{applicationId}',\n    APPLICATION_GENERATE_KEYS: '/applications/{applicationId}/generate-keys',\n    APPLICATION_GENERATE_KEY_TYPE: '/applications/{applicationId}/keys/{keyType}',\n    EXPORT_APIS: '/export/apis',\n    IMPORT_APIS: '/import/apis',\n    SUBSCRIPTION: '/subscriptions',\n    SINGLE_SUBSCRIPTION: '/subscriptions/{subscriptionId}',\n    SUBSCRIPTIONS: '/subscriptions',\n    BLOCK_SUBSCRIPTION: '/subscriptions/block-subscription:',\n    UNBLOCK_SUBSCRIPTION: '/subscriptions/unblock-subscription',\n    POLICIES: \"'/policies/{tierLevel}'\",\n    POLICY: \"'/policies/{tierLevel}/{tierName}'\",\n    ENDPOINTS: '/endpoints',\n    ENDPOINT: '/endpoints/{endpointId}',\n    LABLES: '/labels',\n    WORKFLOW: '/workflows/{workflowReferenceId}',\n    SERVICE_DISCOVERY: '/external-resources/services',\n};\n\nconst resourceMethods = {\n    POST: 'post',\n    PUT: 'put',\n    GET: 'get',\n    DELETE: 'delete',\n};\n\n/**\n * Show element iff user has proper scope for the view/action\n * @class ScopeValidation\n * @extends {React.Component}\n */\nclass ScopeValidation extends React.Component {\n    /**\n     * Creates an instance of ScopeValidation.\n     * @param {any} props @inheritDoc\n     * @memberof ScopeValidation\n     */\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    /**\n     * @inheritDoc\n     * @memberof ScopeValidation\n     */\n    componentDidMount() {\n        const { resourcePath, resourceMethod } = this.props;\n        const hasScope = AuthManager.hasScopes(resourcePath, resourceMethod);\n        if (hasScope) {\n            hasScope.then((haveScope) => {\n                this.setState({ haveScope });\n            });\n        }\n    }\n\n    /**\n     * @inheritDoc\n     * @returns {React.Component} Return react component\n     * @memberof ScopeValidation\n     */\n    render() {\n        const { children } = this.props;\n        if (this.state.haveScope) {\n            return children || null;\n        }\n        return null;\n    }\n}\n\nScopeValidation.propTypes = {\n    children: PropTypes.node.isRequired,\n    resourcePath: PropTypes.string.isRequired,\n    resourceMethod: PropTypes.string.isRequired,\n};\n\nexport {\n    ScopeValidation,\n    resourceMethods,\n    resourcePaths,\n};\n","/**\n * Copyright (c) 2018, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\nimport APIClientFactory from \"./APIClientFactory\";\nimport Resource from \"./Resource\";\nimport Utils from \"./Utils\";\n\n/***\n * Class to expose Subscription {Resource} related operations\n */\n\nexport default class Subscription extends Resource {\n\n    constructor() {\n        super();\n        this.client = new APIClientFactory().getAPIClient(Utils.getEnvironment().label).client;\n    }\n\n    /**\n     * Get all Subscriptions\n     * @param apiId id of the API\n     * @param applicationId id of the application \n     * @param limit subscription count to return\n     * @returns {promise} With all subscription for given applicationId or apiId.\n     */\n    getSubscriptions(apiId, applicationId, limit = 25) {\n        var promise_get = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].get_subscriptions(\n                { apiId: apiId, applicationId: applicationId, limit });\n        }\n        );\n        return promise_get;\n    }\n\n    /**\n     * Get a single subscription\n     * @param subscriptionUUID subscription UUID\n     */\n    getSubscription(subscriptionUUID) {\n        var promised_subscription = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].get_subscriptions__subscriptionId_(\n                { subscriptionId: subscriptionUUID });\n        }\n        );\n        return promised_subscription;\n    }\n\n    /**\n    * Get pending invoice if available * @param {*} subscriptionUUID\n    */\n    getMonetizationInvoice(subscriptionUUID) {\n        const promiseInvoice = this.client.then(client => {\n            return client.apis['API Monetization'].get_subscriptions__subscriptionId__usage( \n                {\n                    subscriptionId: subscriptionUUID \n                }\n            );\n        });\n        return promiseInvoice;\n    }\n\n    /**\n    * Delete subscription\n    * @param subscriptionId id of the subscription\n    * @returns {promise} With 200 OK.\n    */\n    deleteSubscription(subscriptionId) {\n        const promised_delete_subscription = this.client.then((client) => {\n            return client.apis[\"Subscriptions\"].delete_subscriptions__subscriptionId_(\n                {\n                    subscriptionId: subscriptionId,\n                }\n            );\n        });\n        return promised_delete_subscription;\n    }\n\n   /**\n    * Update subscription\n    * @param subscriptionId id of the subscription\n    * @param throttlingPolicy throttling tier\n    * @returns {promise} With 200 OK.\n    */\n    updateSubscription(applicationId, apiId, subscriptionId, throttlingPolicy, status, requestedThrottlingPolicy) {\n        const promised_update_subscription = this.client.then((client) => {\n        let subscriptionData = null;\n\n            subscriptionData = {\n                applicationId, apiId, subscriptionId, throttlingPolicy: throttlingPolicy, status, requestedThrottlingPolicy\n            };\n\n            const payload = { \n                subscriptionId: subscriptionId,\n            };\n            return client.apis.Subscriptions.put_subscriptions__subscriptionId_(\n                payload,\n                { requestBody: subscriptionData },\n                { 'Content-Type': 'application/json' });\n        });\n        return promised_update_subscription;\n    }\n}\n\n"],"names":["ImportExternalApp","props","consumerKey","consumerSecret","onChange","isUserOwner","key","provideOAuthKeySecret","importDisabled","intl","useIntl","open","setOpen","React","handleClose","isOrgWideAppUpdateEnabled","setIsOrgWideAppUpdateEnabled","useState","settingsContext","useContext","Settings","handleChange","event","useEffect","orgWideAppUpdateEnabled","settings","Button","variant","color","startIcon","PlayForWorkIcon","onClick","handleClickOpen","disabled","FormattedMessage","defaultMessage","id","Dialog","onClose","DialogTitle","DialogContent","Grid","container","spacing","direction","item","xs","TextField","name","label","formatMessage","value","e","margin","fullWidth","FormControl","FormHelperText","DialogActions","ScopeValidation","resourcePath","resourcePaths","APPLICATION_GENERATE_KEYS","resourceMethod","resourceMethods","POST","Typography","propTypes","PropTypes","isRequired","defaultProps","PREFIX","classes","code","command","encodeVisible","contentWrapper","Root","styled","_ref","theme","padding","marginBottom","background","palette","grey","flex","cursor","textDecoration","display","ViewCurl","keys","keyManagerConfig","jwtToken","defaultTokenEndpoint","bas64Encoded","window","btoa","showReal","setShowReal","tokenCopied","setTokenCopied","onCopy","setTimeout","applyReal","tokenEndpoint","isAzureAD","type","azureScope","alias","className","Tooltip","title","placement","IconButton","size","navigator","clipboard","writeText","then","FileCopy","apis","injectIntl","FormControlOdd","button","quotaHelp","checkboxWrapper","generateWrapper","checkboxWrapperColumn","group","removeHelperPadding","iconStyle","iconButton","titleColumn","keyInfoTable","leftCol","stepLabel","stepContent","keyLabel","idpGrid","helperTextError","input","avatar","copyIconStyle","hr","divCenter","tableHeader","helperText","dialogWrapper","tokenSection","inputWrapper","bottomInfo","paddingTop","paddingBottom","paddingLeft","width","marginLeft","position","flexWrap","flexDirection","whiteSpace","fontSize","fontWeight","borderCollapse","borderBottom","alignSelf","textAlign","alignItems","height","border","lineHeight","maxWidth","getContrastText","paper","marginRight","marginTop","reducer","state","newValue","field","_objectSpread","TokenExchangeKeyConfiguration","urlCopied","setUrlCopied","showCS","setShowCS","showToken","setShowToken","showCurl","setShowCurl","showSecretGen","setShowSecretGen","notFound","setNotFound","isUpdating","setIsUpdating","isResidenceTokenAvailable","setIsResidenceTokenAvailable","initialState","tokenResponse","token","tokenScope","tokenValidityTime","accessTokenRequest","timeout","scopesSelected","keyType","subscriptionScopes","externalIDPToken","externalIDPTokenError","isKeyJWT","initialExecution","dispatch","useReducer","selectedApp","selectedTab","hashEnabled","fullScreen","appId","applicationPromise","Application","get","dialogHead","application","getKeys","newRequest","map","scope","catch","error","status","validateExternalIDPToken","values","selectedIdPType","ResourceNotFound","Loading","csCkKeys","Box","Table","table","TableBody","TableRow","TableCell","component","selectedIdpType","allowedAudience","root","Icon","target","rows","FormHelperTextProps","textField","DialogContentText","Tokens","updateAccessTokenRequest","ViewToken","isOauth","isTokenExchange","CircularProgress","generateAccessToken","generateToken","response","console","log","accessToken","tokenScopes","validityTime","Alert","description","body","message","autoFocus","handleClickOpenCurl","validating","summary","Object","keyRequest","callbackUrl","selectedGrantTypes","isKeysAvailable","setGenerateEnabled","updateKeyRequest","tokenType","owner","AppConfiguration","config","previousValue","selectedValue","setSelectedValue","handleAppRequestChange","currentTarget","AppConfigLabels","defineMessages","application_access_token_expiry_time","user_access_token_expiry_time","refresh_token_expiry_time","id_token_expiry_time","pkceMandatory","pkceSupportPlain","bypassClientCredentials","AppConfigToolTips","getAppConfigLabel","getAppConfigToolTip","tooltip","multiple","select","MenuItem","Array","isArray","Autocomplete","length","options","renderInput","params","_extends","placeholder","required","hasMandatoryError","renderTags","tagValue","getTagProps","option","index","Chip","formControl","InputLabel","Select","labelId","displayEmpty","Input","renderValue","selected","chips","chip","Checkbox","checked","indexOf","ListItemText","primary","ChipInput","onAdd","tag","chipRenderer","_ref2","onDelete","filter","oldScope","style","float","contextType","KeyConfiguration","callbackHelper","setCallbackHelper","updateHasError","callbackError","mode","applicationConfiguration","availableGrantTypes","additionalProperties","enableMapOAuthConsumerApps","enableOAuthAppCreation","enableTokenEncryption","enableTokenGeneration","revokeEndpoint","userInfoEndpoint","ContextSettings","setSubscriptionScopes","app","scopes","cloneDeep","newGrantTypes","keyManager","includes","clonedAdditionalProperties","getPreviousValue","isPreviousValueSet","defaultValue","default","grantTypeDisplayListMap","getGrantTypeDisplayList","grantTypes","grantTypeDisplayNameMap","modifiedGrantTypes","forEach","grantType","FormControlLabel","control","copyWrapper","ViewKeys","constructor","super","_defineProperty","this","context","setState","that","elementName","caller","data","preventDefault","keyMappingId","loadApplication","removeKeys","result","info","regenerateSecret","secretGenResponse","keyCopied","secretCopied","InputProps","readOnly","endAdornment","InputAdornment","sx","mt","handleSecretRegenerate","handleShowHidden","onMouseDown","handleMouseDownGeneric","componentDidMount","getGeneratedKeys","componentDidUpdate","prevProps","render","initialToken","initialValidityTime","initialScopes","accessTokenScopes","validityPeriod","tokenDetails","gutterBottom","viewKeyAndSecret","supportedGrantTypes","supportedGrantTypesUnchanged","ViewSecret","secret","find","a","enableTokenGenForMappedApps","withRouter","keyState","states","REJECTED","TokenManagerSummary","keyStates","CREATED","WaitingForApproval","keyGrantTypes","handleClickRemove","DeleteIcon","handleRemove","handleClean","cleanUpButton","cleanUpInfoText","keyConfigWrapper","muiFormGroupRoot","subTitle","tabPanel","warningIcon","backgroundColor","main","TabPanel","children","other","_objectWithoutProperties","_excluded","role","hidden","p","TokenManager","newSelectedTab","keyManagers","selectedKM","x","selectedGrantsByDefault","gt","push","getDefaultAdditionalProperties","promisedKeyManagers","API","getKeyManagers","promisedGetKeys","Promise","all","responseKeyManagerList","list","enabled","selectdKM","validatingState","hasError","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","isLoading","providedConsumerKey","providedConsumerSecret","COMPLETED","APPROVED","bind","generateKeys","updateKeys","cleanUpKeys","handleOnChangeProvidedOAuth","nextProps","nextKeyType","prevKeyType","confItem","isTokenExchangeEnabled","isEnabled","keymanager","updateSubscriptionData","getKeyManagerIdentifier","newKeys","Map","set","finally","applicationKey","provideKeys","getKeyManagerDescription","selectedKMObject","isKeyManagerAllowed","mb","keyTitle","toTitleCase","InlineMessage","dialogContainer","username","AuthManager","getUser","TokenMangerSummary","Progress","isResidentKeyManagerTokensAvailable","has","residentKMs","AppBar","Tabs","handleTabChange","indicatorColor","textColor","scrollButtons","Tab","displayName","ml","RemoveKeys","CleanKeys","m","enableTokenHashing","setValidating","WarningIcon","kmName","RadioGroup","Radio","APIS","SINGLE_API","API_SWAGGER","API_WSDL","API_GW_CONFIG","API_THUMBNAIL","API_COPY","API_LC_HISTORY","API_CHANGE_LC","API_LC","API_LC_PENDING_TASK","API_DEF","API_VALIDATE_DEF","API_DOCS","API_DOC","API_DOC_CONTENT","APPLICATIONS","SINGLE_APPLICATION","APPLICATION_GENERATE_KEY_TYPE","EXPORT_APIS","IMPORT_APIS","SUBSCRIPTION","SINGLE_SUBSCRIPTION","SUBSCRIPTIONS","BLOCK_SUBSCRIPTION","UNBLOCK_SUBSCRIPTION","POLICIES","POLICY","ENDPOINTS","ENDPOINT","LABLES","WORKFLOW","SERVICE_DISCOVERY","PUT","GET","DELETE","hasScope","hasScopes","haveScope","Subscription","Resource","client","APIClientFactory","getAPIClient","Utils","getEnvironment","getSubscriptions","apiId","applicationId","limit","arguments","undefined","get_subscriptions","getSubscription","subscriptionUUID","get_subscriptions__subscriptionId_","subscriptionId","getMonetizationInvoice","get_subscriptions__subscriptionId__usage","deleteSubscription","delete_subscriptions__subscriptionId_","updateSubscription","throttlingPolicy","requestedThrottlingPolicy","subscriptionData","payload","Subscriptions","put_subscriptions__subscriptionId_","requestBody"],"sourceRoot":""}