"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[7012],{13778:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(96540),r=a(44675),o=a(11848),i=a(33551),s=a(58065),l=a(51989),c=a(91854),p=a(12058);const d="TagCloudListing",m={appBar:`${d}-appBar`,mainIconWrapper:`${d}-mainIconWrapper`,mainTitle:`${d}-mainTitle`,mainTitleWrapper:`${d}-mainTitleWrapper`,content:`${d}-content`,listContentWrapper:`${d}-listContentWrapper`,iconDefault:`${d}-iconDefault`},u=(0,o.Ay)("main")((e=>{let{theme:t}=e;return{[`& .${m.appBar}`]:{height:70,background:t.custom.infoBar.background,color:t.palette.getContrastText(t.custom.infoBar.background),borderBottom:"solid 1px "+t.palette.grey.A200,display:"flex",alignItems:"center",justifyContent:"center"},[`& .${m.mainIconWrapper}`]:{paddingTop:13,paddingLeft:20,paddingRight:20},[`& .${m.mainTitle}`]:{paddingTop:10},[`& .${m.mainTitleWrapper}`]:{flexGrow:1},[`&.${m.content}`]:{flexGrow:1},[`& .${m.listContentWrapper}`]:{padding:`0 ${t.spacing(3)}`},[`& .${m.iconDefault}`]:{color:t.palette.getContrastText(t.custom.infoBar.background)}}}));function g(){const e=(0,r.A)(),[t,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(new l.A).getAllTags(-1).then((e=>{a(e.body.list)})).catch((e=>{console.log(e)}))}),[]);const o=e.palette.getContrastText(e.palette.background.paper);return n.createElement(u,{className:m.content},n.createElement("div",{className:m.appBar},n.createElement("div",{className:m.mainIconWrapper},n.createElement(p.A,{strokeColor:o,width:42,height:42,icon:"api"})),n.createElement("div",{className:m.mainTitleWrapper},n.createElement(i.A,{variant:"h4",className:m.mainTitle},n.createElement(s.A,{defaultMessage:"API Groups",id:"Apis.Listing.TagCloudListing.apigroups.main"})))),n.createElement("div",{className:m.listContentWrapper},t&&n.createElement(c.A,{allTags:t,mainPage:!0})))}},16371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>pe});var n=a(96540),r=a(56347),o=a(26150),i=a(13778),s=a(82810),l=a(65323),c=a(69067),p=a(68738),d=a(51989),m=a(94877),u=a(5556),g=a.n(u),f=a(87992),h=a(92287),y=a(39781),A=a(56655),b=a(6442);function w(e){const{toggleChatbot:t,handleDisableChatbot:a,chatbotDisabled:r}=e,[o,i]=(0,n.useState)(!1),s=(0,b.A)();return n.createElement(n.Fragment,null,n.createElement("div",{style:{position:"fixed",bottom:20,right:30},onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)}},r?null:n.createElement(A.A,{title:s.formatMessage({id:"Apis.Chat.ChatIcon.tooltip.label",defaultMessage:"Open Chat"}),placement:"left"},n.createElement(f.A,{color:"primary","aria-label":"chat",onClick:t,style:{boxShadow:"none"}},n.createElement(h.A,null))),o&&n.createElement(A.A,{title:s.formatMessage({id:"Apis.Chat.ChatIcon.disable.chat.label",defaultMessage:"Disable chat"}),placement:"left"},n.createElement(f.A,{color:"secondary",variant:"round","aria-label":"close",onClick:()=>{i(!1),a()},style:{position:"absolute",top:-18,right:-18,width:34,height:16,backgroundColor:"transparent",boxShadow:"none"}},n.createElement(y.default,{fontSize:"medium",style:{fill:"#000",stroke:"#000"}})))))}w.propTypes={toggleChatbot:g().func.isRequired,handleDisableChatbot:g().func.isRequired,chatbotDisabled:g().bool.isRequired};const x=w;var E=a(97834),v=a(36632),I=a(66036),C=(a(9964),a(33551)),k=a(58065),S=a(56434),P=a(1043),R=a(95557),M=a(19455),D=a(40443),H=a(25239);function T(e){const{onSend:t,loading:a,user:r}=e,[o,i]=(0,n.useState)(""),[s,l]=(0,n.useState)(!1),d=(0,b.A)(),{settings:{marketplaceAssistantEnabled:m,aiAuthTokenProvided:u}}=(0,p.Mp)(),g=()=>{o&&(t({role:r,content:o}),i(""))};return n.createElement("div",null,n.createElement(P.A,{placeholder:d.formatMessage({id:"Apis.Chat.ChatInput.placeholder",defaultMessage:"Type a message..."}),value:o,onChange:e=>{let{value:t}=e.target;t.length>500&&(t=t.slice(0,500)),i(t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),a||g()),13===e.keyCode&&e.shiftKey&&(e.preventDefault(),i(`${o}\n`))},fullWidth:!0,multiline:!0,size:"small",maxRows:12,disabled:m&&!u||!m,InputProps:{style:{borderRadius:10,padding:18,paddingRight:4},endAdornment:n.createElement(H.A,{position:"end"},n.createElement(M.A,{"aria-label":"marketplace-chat-message",onClick:g,disabled:a},n.createElement(D.A,{color:"primary"})))}}),n.createElement(c.A,{display:"flex",justifyContent:"flex-end",mt:1,mr:1},n.createElement(C.A,{variant:"caption"},o.length,"/",500)),n.createElement(R.A,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:s,autoHideDuration:500,onClose:()=>{l(!1)},message:"Please enter a message",sx:{position:"absolute",bottom:0,right:0,transform:"translate(50%, 50%)",marginBottom:"300px"}}))}T.propTypes={onSend:g().func.isRequired,loading:g().bool.isRequired,user:g().string.isRequired};const O=T;var W=a(44675),N=a(14977),q=a(37636),j=a(71432);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){$(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e){const{message:t}=e,a=(0,n.useRef)(null),r=(0,W.A)(),{colorMap:o,offset:i}=r.custom.thumbnail,s={width:"26px",height:"26px",backgroundColor:"assistant"===t.role?"#10597f":"#6d6d6d",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:(t.role,"50% 50% 50% 0")},l={textAlign:"left",justifyContent:"flex-start",background:"assistant"===t.role?r.palette.grey[100]:"#fff",color:"black",borderRadius:"8px",overflow:"auto",overflowX:"auto",wordWrap:"break-word",whiteSpace:"pre-wrap",marginLeft:"20px",maxWidth:"84%"};return n.createElement(c.A,{display:"flex",flexDirection:"column",alignItems:"flex-start"},"assistant"===t.role&&n.createElement(c.A,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},n.createElement(c.A,{display:"flex",alignItems:"center",width:"100%"},n.createElement("div",{style:s},n.createElement(h.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(C.A,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant"))),"assistant"!==t.role&&n.createElement(c.A,{display:"flex",alignItems:"center"},n.createElement("div",{style:s},n.createElement(j.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"large"}})),n.createElement(C.A,{variant:"body1",fontWeight:"500",fontSize:"12pt"},t.role.charAt(0).toUpperCase()+t.role.slice(1))),n.createElement(c.A,{style:B(B({},l),{},{maxWidth:"84%"}),ref:a,px:2,py:"assistant"===t.role?2:0},n.createElement(C.A,null,t.content)),n.createElement(c.A,{display:"flex-start",alignItems:"center",flexDirection:"column",width:"90%"},t.apis&&n.createElement(c.A,{display:"flex",flexDirection:"row",flexWrap:"wrap",marginLeft:"20px",marginRight:"16px",width:"100%"},t.apis.map((e=>{const[t,a]=((e,t,a)=>{let n=t[e.toLowerCase()];if(!n){const a=parseInt(e,10);if(!a)return[null,null];n=t[String.fromCharCode(111+a)]}const{r,g:o,b:i}=m.A.hexToRGBHash(n);return[n,m.A.rgbToHex(r-Math.ceil(r*a),o-Math.ceil(a*o),i-Math.ceil(a*i))]})(e.name.substring(0,1),o,i),r=t&&`linear-gradient(to right, ${t}, ${a})`;return n.createElement("a",{key:e.id,href:e.apiPath,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit",width:"33%"}},n.createElement(N.A,{style:{margin:"10px 10px 0 0",width:"97%",height:"70px",background:r}},n.createElement(q.A,{style:{wordWrap:"break-word",alignItems:"center",cursor:"pointer"}},n.createElement(C.A,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",margin:0,color:"#fff",fontWeight:"bold"}},e.name),n.createElement(C.A,{variant:"subtitle1",gutterBottom:!0,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"10px",color:"#fff"}},"Version:",e.version))))})))))}L.propTypes={message:u.PropTypes.shape({role:u.PropTypes.string.isRequired,content:u.PropTypes.string.isRequired,apis:u.PropTypes.arrayOf(u.PropTypes.string)}).isRequired};const G=L,Y=()=>n.createElement("div",{className:"loader"});function Z(e){const{messages:t,loading:a,onSend:r,user:o}=e,i=(0,b.A)(),{settings:{aiAuthTokenProvided:s}}=(0,p.Mp)(),l=(0,n.useRef)(null),d=i.formatMessage({id:"Apis.Chat.Chat.Messages.subject.line",defaultMessage:"API Marketplace Assistant is an early feature and can make mistakes. Verify its outputs."});(0,n.useEffect)((()=>{var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]);const m=n.createElement(k.A,{id:"Apis.Details.ChatMessages.warning.authTokenMissing",defaultMessage:"You must provide a token to start using the API Marketplace Assistant. To obtain one, follow the steps provided under {marketplaceAssistantDocLink} ",values:{marketplaceAssistantDocLink:n.createElement("a",{id:"marketplace-assistant-doc-link",href:"https://apim.docs.wso2.com/en/4.6.0/consume/discover-apis/marketplace-assistant/",target:"_blank",rel:"noopener noreferrer"},"Search APIs with Marketplace Assistant",n.createElement(S.A,{style:{marginLeft:"2px"},fontSize:"small"}))}});return n.createElement(c.A,{maxHeight:"100%",display:"flex",flexDirection:"column",marginLeft:"5%"},n.createElement(c.A,{display:"flex",justifyContent:"center",overflow:"auto"},n.createElement(c.A,{maxWidth:"1320px",width:"100%"},s?t&&t.map((e=>n.createElement(c.A,{my:1},n.createElement(G,{message:e})))):n.createElement(c.A,{display:"flex",justifyContent:"center",alignItems:"center",mr:"5%",mb:1},n.createElement(v.A,{severity:"warning"},m)),a&&n.createElement(c.A,{display:"flex",flexDirection:"column",alignItems:"flex-start"},n.createElement(c.A,{display:"flex",alignItems:"center"},n.createElement("div",{style:{width:"26px",height:"26px",backgroundColor:"#10597f",alignItems:"center",justifyContent:"center",display:"flex",margin:"10px 10px 10px 0px",borderRadius:"50% 50% 50% 0"}},n.createElement(h.A,{style:{fill:"#fff",stroke:"#fff",fontSize:"small"}})),n.createElement(C.A,{variant:"body1",style:{fontWeight:"500",fontSize:"12pt"}},"Assistant")),n.createElement(c.A,{textAlign:"left",bgcolor:"#fff",borderRadius:"10px",justifyContent:"flex-start",px:3,marginLeft:"12px",marginBottom:"10px"},n.createElement(Y,null))),n.createElement("div",{ref:l}))),n.createElement(c.A,{display:"flex",justifyContent:"center"},n.createElement(c.A,{mt:1.5,mb:.5,width:"100%",maxWidth:"1380px",marginRight:"5%"},n.createElement(O,{onSend:r,loading:a,user:o}))),n.createElement(c.A,{mb:1},n.createElement(C.A,{color:"grey",variant:"body2",fontSize:"8pt",textAlign:"center",lineHeight:"1.4",marginRight:"5%"},d)))}Z.propTypes={messages:u.PropTypes.instanceOf(Array).isRequired,loading:u.PropTypes.bool.isRequired,onSend:u.PropTypes.func.isRequired,user:u.PropTypes.string.isRequired};const J=Z;var F=a(99520),_=a(64992),U=a(80684),Q=a(72277),X=a(11848),K=a(24279);const V="marketplace-assistant-chatbot-header",ee={mainHeader:`${V}-mainHeader`,chatbotNameBox:`${V}-chatbotNameBox`,chatbotName:`${V}-chatbotName`},te=(0,X.Ay)("div")((e=>{let{theme:t}=e;return{[`& .${ee.chatbotNameBox}`]:{padding:"2px 18px 1px 10px",margin:"12px 0 12px auto",borderBottom:"2px solid #10597f",borderLeft:"2px solid #10597f",borderRight:"2px solid #10597f",borderRadius:"38px"},[`& .${ee.chatbotName}`]:{marginBottom:-5,fontSize:"12pt",fontWeight:"500",color:"#10597f"},[`& .${ee.mainHeader}`]:{borderColor:(0,K.X4)(t.palette.common.black,.1)}}}));function ae(e){const{toggleChatbot:t,toggleFullScreen:a,isClicked:r,handleReset:o}=e,i=(0,b.A)();return n.createElement(te,null,n.createElement(c.A,{display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:1,className:ee.mainHeader},n.createElement(c.A,null,n.createElement(M.A,{onClick:a,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},r?n.createElement(_.A,{fontSize:"large"}):n.createElement(F.A,{fontSize:"large"})),n.createElement(A.A,{title:i.formatMessage({id:"Apis.Chat.Header.reset.chat.btn.tooltip",defaultMessage:"Reset Chat"}),placement:"right"},n.createElement(M.A,{onClick:o,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 0"}},n.createElement(Q.A,{fontSize:"large"})))),n.createElement(c.A,{display:"flex",flexDirection:"column",className:ee.chatbotNameBox},n.createElement(C.A,{variant:"body1",className:ee.chatbotName},n.createElement(k.A,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.title",defaultMessage:"API Marketplace Assistant"})),n.createElement(C.A,{variant:"caption",sx:{textAlign:"right",marginRight:-1}},n.createElement(k.A,{id:"Apis.Chat.Header.MarketplaceAssistantBanner.experimental",defaultMessage:"Experimental"}))),n.createElement(c.A,null,n.createElement(M.A,{onClick:t,style:{alignSelf:"flex-end",padding:"12px",color:"#10597f",margin:"6px 2px"}},n.createElement(U.A,{fontSize:"large"})))))}ae.propTypes={toggleChatbot:g().func.isRequired,toggleFullScreen:g().func.isRequired,isClicked:g().bool.isRequired,handleReset:g().func.isRequired};const ne=ae,re={hi:"Hello there!, How can I assist you today?",hiii:"Hello there!, How can I assist you today?",hello:"Hi! How can I assist you today?",hey:"Hey! How can I help you?",greetings:"Greetings! What can I assist you with?",thanks:"You're welcome!",bye:"Goodbye! Have a great day!",goodbye:"Goodbye! Have a great day!","thank you":"You're welcome!","thank you for your help":"You're welcome!","good morning":"Good morning! How can I assist you today?","good afternoon":"Good afternoon! What can I do for you?","good evening":"Good evening! How can I help?","hey there":"Hey! What can I assist you with?","hi there":"Hello! How may I assist you?","hello there":"Hello! How can I assist you today?","how are you":"I'm doing well, thank you! How can I help you?","can you help me":"You can ask me anything related to APIs!","what can I ask you":"You can ask me anything related to APIs!","what can you do":"I can help you with finding APIs and providing information related to APIs.","what do you do":"I can help you with finding APIs and providing information related to APIs.","what do you know":"I know a lot about APIs! What are you looking for?","what are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","who are you":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs.","what is your name":"I am the Marketplace Assistant. I can help you with finding APIs and providing information related to APIs."},oe=(e,t)=>{const a=e.toLowerCase(),n=t.toLowerCase();if(a.length<2||n.length<2)return 0;const r=new Map;for(let e=0;e<a.length-1;e++){const t=a.substr(e,2);r.set(t,r.has(t)?r.get(t)+1:1)}let o=0;for(let e=0;e<n.length-1;e++){const t=n.substr(e,2),a=r.has(t)?r.get(t):0;a>0&&(r.set(t,a-1),o++)}return 2*o/(a.length+n.length-2)};function ie(e){const{toggleChatbot:t,toggleClearChatbot:a,messages:r,setMessages:o,introMessage:i,user:s,loading:l,responseRef:m,apiCall:u}=e,[g,f]=(0,n.useState)(!1),[h,y]=(0,n.useState)(!1),[A,b]=(0,n.useState)(null),[w,x]=(0,n.useState)(null),{settings:{marketplaceAssistantEnabled:C,aiAuthTokenProvided:k}}=(0,p.Mp)(),[,S]=(0,n.useState)({width:window.innerWidth,height:window.innerHeight}),P=()=>{m.current=[i],o([i])};return(0,n.useEffect)((()=>{m.current=r,C&&k&&(new d.A).getMarketplaceAssistantApiCount().then((e=>{const t=e.body.count,a=e.body.limit;b(t),x(a),t>=a-50&&y(!0)})).catch((e=>{console.error(e)}))}),[]),(0,n.useEffect)((()=>{const e=()=>{S({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),n.createElement(I.ResizableBox,{width:g?window.innerWidth:500,height:window.innerHeight-64,minConstraints:[500,window.innerHeight],maxConstraints:[window.innerWidth,window.innerHeight-64],resizeHandles:["w"],style:{position:"fixed",bottom:1,right:0,display:"flex",justifyContent:"flex-start",flexDirection:"row-reverse",zIndex:1200},handle:n.createElement("span",{style:{width:"4px",cursor:"ew-resize",minWidth:"4px"}})},n.createElement(E.A,{maxWidth:!1,style:{padding:0,backgroundColor:"#fff",border:"0px solid #808e96",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",borderRadius:"4px",margin:"4px 4px 4px 0"}},n.createElement(c.A,{display:"flex",flexDirection:"column",style:{height:"100%"}},n.createElement(ne,{toggleChatbot:t,toggleFullScreen:e=>{e.preventDefault(),f(!g)},handleClear:()=>{o([i]),a()},handleReset:P,isClicked:g}),C&&k&&h&&(A>=w?n.createElement(v.A,{severity:"error",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are reached your maximum limit (${w} apis) for API usage.`):n.createElement(v.A,{severity:"warning",style:{borderRadius:"0px",zIndex:2999,padding:"0 10px 0 10px"}},`You are approaching your maximum limit for API usage. You can utilize up to ${w} APIs.\n                                    Currently, you have utilized ${A} APIs.`)),n.createElement(c.A,{flexGrow:1,display:"flex",overflow:"auto",flexDirection:"column",justifyContent:"flex-end"},n.createElement(J,{messages:r,loading:l,onSend:async e=>{m.current=[...m.current,{role:s,content:e.content.trim()}],o(m.current);const t=(e=>{let t=null,a=-1;const n=e.toLowerCase();if(n.length<2)return null;for(const[e]of Object.entries(re)){const r=e.toLowerCase(),o=oe(n,r);o>a&&(a=o,t=e)}return a<.8?null:re[t]})(e.content.trim().toLowerCase());t?(m.current=[...m.current,{role:"assistant",content:t.trim()}],o(m.current)):u(e.content)},onReset:P,user:s})))))}ie.propTypes={toggleChatbot:g().func.isRequired,toggleClearChatbot:g().func.isRequired,messages:g().instanceOf(Array).isRequired,setMessages:g().func.isRequired,introMessage:g().shape({role:g().string.isRequired,content:g().string.isRequired}).isRequired,user:g().string.isRequired,loading:g().bool.isRequired,responseRef:g().shape({current:g().arrayOf(g().shape({role:g().string.isRequired,content:g().string.isRequired})).isRequired}).isRequired,apiCall:g().func.isRequired};const se=ie,le=["apis"],ce=function(){const{settings:{marketplaceAssistantEnabled:e,aiAuthTokenProvided:t}}=(0,p.Mp)(),[a,r]=(0,n.useState)(!0),[o,i]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[u,g]=(0,n.useState)(!e),[f,h]=(0,n.useState)("Anonymous User"),y=(0,n.useRef)([]),A={role:"assistant",content:"Hello! I'm here to assist you in discovering and obtaining information about APIs. How can I help you?"},b=window.location.pathname,{search:w,origin:E}=window.location,v=()=>{r(!a)};return(0,n.useEffect)((()=>{if(s){const e=JSON.stringify({messages:s,timestamp:Date.now()});localStorage.setItem("messages",e)}}),[s]),(0,n.useEffect)((()=>{try{const e=m.A.getUser();e&&h(e);const t=localStorage.getItem("messages");if(t){const{messages:e,timestamp:a}=JSON.parse(t);e.length>1?"Anonymous User"!==e[e.length-2].role?Date.now()-a>36e5?(l([A]),localStorage.setItem("messages",JSON.stringify({messages:[A],timestamp:Date.now()}))):l(e):Date.now()-a>9e5?(l([A]),localStorage.setItem("messages",JSON.stringify({messages:[A],timestamp:Date.now()}))):l(e):l(e)}else l([A]),localStorage.setItem("messages",JSON.stringify({messages:[A],timestamp:Date.now()}))}catch(e){console.error("Error loading messages from localStorage:",e)}}),[]),n.createElement(c.A,null,!u&&(a?n.createElement(c.A,{position:"absolute",bottom:24,right:24},n.createElement(x,{toggleChatbot:v,handleDisableChatbot:()=>{g(!0),l([A])},chatbotDisabled:u})):n.createElement(se,{toggleChatbot:v,messages:s,setMessages:l,introMessage:A,user:f,loading:o,responseRef:y,apiCall:a=>{if(i(!0),e&&t){const e=new d.A,t=s.slice(-10).map((e=>{let{apis:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,le);if(!t)return{role:"assistant"===a.role?"assistant":"user",content:a.content};const n=t.map((e=>({apiName:e.name,version:e.version})));return{role:"assistant"===a.role?"assistant":"user",content:JSON.stringify({response:a.content,apis:n})}}));e.marketplaceAssistantExecute(a,t).then((e=>{const{apis:t}=e.body,a=t.map((e=>({apiPath:`${E}${b}/${e.apiId}/overview${w}`,name:e.apiName,version:e.version})));return y.current=[...y.current,{role:"assistant",content:e.body.response,apis:a}],l(y.current),e.body})).catch((e=>{let t;try{switch(e.response.status){case 401:t="Apologies for the inconvenience. It appears that your token is invalid or expired. Please provide a valid token or upgrade your subscription plan.";break;case 429:t="Apologies for the inconvenience. It appears that the token limit has been exceeded.";break;default:t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}}catch(e){t="Apologies for the inconvenience. It seems that something went wrong with the Marketplace Assistant. Please try again later."}const a={role:"assistant",content:t};throw y.current=[...y.current,a],l(y.current),e})).finally((()=>{i(!1)}))}}})))},pe=function(){return n.createElement(r.dO,null,n.createElement(r.qh,{exact:!0,path:"/api-groups",render:e=>n.createElement(i.default,e)}),n.createElement(r.qh,{exact:!0,path:"/apis",render:e=>n.createElement(n.Fragment,null,n.createElement(o.A,e),n.createElement(ce,null))}),n.createElement(r.qh,{path:"/search",render:e=>n.createElement(o.A,e)}),n.createElement(r.qh,{path:"/apis/:apiUuid/",render:e=>n.createElement(s.A,e)}),n.createElement(r.qh,{component:l.MI}))}},59224:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+"}}]);
//# sourceMappingURL=Apis.7f186a2f97cddeaf01be.bundle.js.map