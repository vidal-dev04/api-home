"use strict";(this.webpackChunk_wso2apim_devportal=this.webpackChunk_wso2apim_devportal||[]).push([[6792],{84782:(e,t,n)=>{n.d(t,{A:()=>T});var a=n(96540),s=n(5556),r=n(88248),i=n(69067),o=n(99020),c=n(33551),l=n(34339),u=n(84798),p=n(58065),d=n(75897),m=n(32997),y=n(53036),g=n(85877),A=n(78874),h=n(46252),f=n(19455),S=n(17809);const E=e=>{let{isDrawerOpen:t,updateDrawerOpen:n,setTestAccessToken:s,onConfigChange:E}=e;const[T,C]=(0,a.useState)(null),[k,v]=(0,a.useState)("OAUTH"),[P,b]=(0,a.useState)(""),[O,w]=(0,a.useState)(""),[x,R]=(0,a.useState)([]),[D,U]=(0,a.useState)("PRODUCTION"),[K,M]=(0,a.useState)([]),[N,I]=(0,a.useState)(""),[H,q]=(0,a.useState)(""),[F,_]=(0,a.useState)(""),[$,j]=(0,a.useState)([]),[z,B]=(0,a.useState)("Resident Key Manager"),[L,W]=(0,a.useState)(""),[V,Y]=(0,a.useState)(""),[G,J]=(0,a.useState)("Authorization"),[Q,X]=(0,a.useState)(""),[Z,ee]=(0,a.useState)("PRODUCTION"),te=m.A.getUser(),{api:ne}=(0,a.useContext)(y._);return(0,a.useEffect)((()=>{C(ne)}),[ne]),(0,a.useEffect)((()=>{if(T){if(T.endpointURLs&&j(T.endpointURLs.map((e=>({name:e.environmentName,displayName:e.environmentDisplayName})))),T.scopes){const e=T.scopes.map((e=>e.key));R(e)}let e="OAUTH";T.securityScheme.includes("oauth2")||(e=T.securityScheme.includes("api_key")?"API-KEY":"BASIC"),$&&$.length>0&&I($[0].name),q(H),_(F),v(e)}}),[T]),(0,a.useEffect)((()=>{T&&$&&$.length>0&&I($[0].name)}),[$,T]),(0,a.useEffect)((()=>{n(t)}),[t]),null==T?a.createElement(g.A,null):a.createElement(a.Fragment,null,a.createElement(r.Ay,{title:"Configure Key",anchor:"right",open:t,onClose:()=>n(!1),id:"api-chat-configure-key-drawer",PaperProps:{sx:{width:"70%",borderRadius:1}}},a.createElement(i.A,{p:2},a.createElement(o.Ay,{container:!0,justifyContent:"space-between",alignItems:"center"},a.createElement(o.Ay,{item:!0,xs:10},a.createElement(c.A,{variant:"h6"},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.title",defaultMessage:"Security Configuration"}))),a.createElement(o.Ay,{item:!0,xs:2,display:"flex",justifyContent:"flex-end"},a.createElement(f.A,{onClick:()=>n(!1),size:"large"},a.createElement(S.A,null)))),a.createElement(o.Ay,{container:!0,padding:2},!te&&(!T.advertiseInfo||!T.advertiseInfo.advertised)&&a.createElement(l.A,{sx:{padding:1}},a.createElement(c.A,{variant:"h5",component:"h3"},a.createElement(d.A,{sx:{verticalAlign:"middle",marginBottom:.5}})," ",a.createElement(p.A,{id:"notice",defaultMessage:"Notice"})),a.createElement(c.A,{component:"p",align:"justify",sx:{padding:1}},a.createElement(p.A,{id:"api.console.require.access.token",defaultMessage:"You need an access token to try the API. Please log in and subscribe to the API to generate an access token. If you already have an access token, please provide it below."})))),a.createElement(o.Ay,{container:!0,justifyContent:"center",spacing:0},a.createElement(A.A,{setSecurityScheme:v,securitySchemeType:k,setSelectedEnvironment:I,selectedEnvironment:N,productionAccessToken:H,setProductionAccessToken:q,sandboxAccessToken:F,setSandboxAccessToken:_,environments:$,scopes:x,setUsername:b,setPassword:w,username:P,password:O,setSelectedKeyType:U,selectedKeyType:D,setSelectedKeyManager:(e,t,n)=>{t?(B(e),(e=>{let t;K.get(z)&&K.get(z).keyType===D?(({accessToken:t}=K.get(z).token),"PRODUCTION"===D?q(t):_(t)):h.A.get(e).then((e=>e.getKeys(D))).then((e=>{e.get(z)&&e.get(z).keyType===D&&({accessToken:t}=e.get(z).token),"PRODUCTION"===e.get(z).keyType?q(t):_(t),M(e)}))})(n)):B(e)},selectedKeyManager:z,setKeys:M,setProductionApiKey:W,setSandboxApiKey:Y,productionApiKey:L,sandboxApiKey:V,setAdvAuthHeader:J,setAdvAuthHeaderValue:X,advAuthHeader:G,advAuthHeaderValue:Q,setSelectedEndpoint:ee,selectedEndpoint:Z,api:T,URLs:null,autoGenerateToken:!0,setTestAccessToken:s,onConfigChange:E})),a.createElement(o.Ay,{container:!0,justifyContent:"right",pr:2},a.createElement(u.A,{variant:"outlined",type:"submit",color:"primary","data-testid":"key-details-cancel",onClick:()=>n(!1),sx:{marginRight:"1em"}},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.btn.cancel",defaultMessage:"Cancel"})),a.createElement(u.A,{variant:"contained",type:"submit",color:"primary","data-testid":"key-details-save",onClick:()=>n(!1)},a.createElement(p.A,{id:"ApiTryOut.SecurityDetailsPanel.btn.done",defaultMessage:"Done"}))))))};E.propTypes={isDrawerOpen:s.PropTypes.bool.isRequired,updateDrawerOpen:s.PropTypes.func.isRequired,setTestAccessToken:s.PropTypes.func.isRequired,onConfigChange:s.PropTypes.func.isRequired};const T=E},89080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(96540),s=n(5556),r=n.n(s),i=n(11848),o=n(56475),c=n(53036),l=n(58065),u=n(33551),p=n(84782);const d="MCPTryOut",m={mcpPlaygroundWrapper:`${d}-mcpPlaygroundWrapper`,titleSub:`${d}-titleSub`},y=(0,i.Ay)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(3),[`& .${m.titleSub}`]:{marginBottom:t.spacing(3)},[`& .${m.mcpPlaygroundWrapper}`]:{fontFamily:t.typography.fontFamily,marginTop:t.spacing(2),"& *":{fontFamily:t.typography.fontFamily},"& input, & textarea, & select, & button, & div, & span, & p, & label, & h1, & h2, & h3, & h4, & h5, & h6":{fontFamily:t.typography.fontFamily}}}})),g=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)("OAUTH"),[d,g]=(0,a.useState)("Default"),{api:A}=(0,a.useContext)(c._);return a.createElement(y,null,a.createElement(u.A,{variant:"h4",className:m.titleSub},a.createElement(l.A,{id:"Apis.Details.MCPTryOut.MCPTryOut.title",defaultMessage:"MCP Playground"})),a.createElement(p.A,{isDrawerOpen:e,updateDrawerOpen:t,onConfigChange:e=>{let{newAccessToken:t,newSecurityScheme:n,newSelectedEnvironment:a}=e;void 0!==t&&s(t),void 0!==n&&i(n),void 0!==a&&g(a)}}),a.createElement("div",{className:m.mcpPlaygroundWrapper},a.createElement(o.h,{disableTitle:!0,enableConfiguration:!0,onConfigurationClick:()=>{t(!0)},url:(()=>{const e=((e,t)=>{const n=e.find((e=>e.environmentName===t));return n?n.URLs:{}})(A.endpointURLs,d);return`${e.https||e.http}/mcp`})(),token:"OAUTH"===r&&null!=n&&""!==n?`Bearer ${n}`:n,headerName:A.authorizationHeader?A.authorizationHeader:"Authorization",shouldSetHeaderNameExternally:!0,disableConnectionButton:null==n||""===n})))};g.propTypes={api:r().shape({context:r().string.isRequired}).isRequired};const A=g}}]);
//# sourceMappingURL=MCPTryOut.78ac9b62d823a23f1bfc.bundle.js.map