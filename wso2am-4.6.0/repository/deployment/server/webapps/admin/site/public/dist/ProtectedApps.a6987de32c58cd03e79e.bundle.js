(self.webpackChunk_wso2apim_admin=self.webpackChunk_wso2apim_admin||[]).push([[6495],{5890:(e,t,a)=>{var n={"./simpleWorker":45585,"./simpleWorker.js":45585};function r(e){return Promise.resolve().then((()=>{if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a(n[e])}))}r.keys=()=>Object.keys(n),r.id=5890,e.exports=r},9204:(e,t,a)=>{var n={"./editorBaseApi":[93059],"./editorBaseApi.js":[93059],"./editorSimpleWorker":[90735],"./editorSimpleWorker.js":[90735],"./editorWorker":[90304],"./editorWorker.js":[90304],"./editorWorkerHost":[96358],"./editorWorkerHost.js":[96358],"./findSectionHeaders":[99307],"./findSectionHeaders.js":[99307],"./getIconClasses":[78148],"./getIconClasses.js":[78148],"./languageFeatureDebounce":[12060],"./languageFeatureDebounce.js":[12060],"./languageFeatures":[52230],"./languageFeatures.js":[52230],"./languageFeaturesService":[81197],"./languageFeaturesService.js":[81197],"./languageService":[83930],"./languageService.js":[83930],"./languagesAssociations":[55996],"./languagesAssociations.js":[55996],"./languagesRegistry":[66995],"./languagesRegistry.js":[66995],"./markerDecorations":[80886],"./markerDecorations.js":[80886],"./markerDecorationsService":[90011],"./markerDecorationsService.js":[90011],"./model":[64830],"./model.js":[64830],"./modelService":[40931],"./modelService.js":[40931],"./resolverService":[37042],"./resolverService.js":[37042],"./semanticTokensDto":[19376],"./semanticTokensDto.js":[19376],"./semanticTokensProviderStyling":[9520],"./semanticTokensProviderStyling.js":[9520],"./semanticTokensStyling":[5272],"./semanticTokensStyling.js":[5272],"./semanticTokensStylingService":[38148],"./semanticTokensStylingService.js":[38148],"./textModelSync/textModelSync.impl":[75456],"./textModelSync/textModelSync.impl.js":[75456],"./textModelSync/textModelSync.protocol":[45628,5628],"./textModelSync/textModelSync.protocol.js":[45628,5628],"./textResourceConfiguration":[41504],"./textResourceConfiguration.js":[41504],"./treeSitterParserService":[35320],"./treeSitterParserService.js":[35320],"./treeViewsDnd":[2603],"./treeViewsDnd.js":[2603],"./treeViewsDndService":[26756],"./treeViewsDndService.js":[26756],"./unicodeTextModelHighlighter":[49887],"./unicodeTextModelHighlighter.js":[49887]};function r(e){if(!a.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(r)))}r.keys=()=>Object.keys(n),r.id=9204,e.exports=r},37584:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},41742:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>vg});var n=a(96540),r=a(5556),i=a.n(r),o=a(56347),l=a(80445),s=a(38798),c=a(8384),d=a(21064),m=a(48750),u=a(72363),p=a(43326),g=a(16356),f=a.n(g),A=a(23752),y=a.n(A),E=a(33551),h=a(34339),b=a(58065),v=a(99020),M=a(54625),P=a(74010),w=a(28161),C=a(97834);function T(){return n.createElement("svg",{id:"_404icon_Image","data-name":"404icon Image",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"},n.createElement("image",{id:"_404icon_Image-2","data-name":"404icon Image",width:"600",height:"600",transform:"scale(0.5)",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAJYCAYAAAC+ZpjcAAAACXBIWXMAABYlAAAWJQFJ UiTwAAAgAElEQVR4XuzdfZxlV13n+8/iGR/O6oAtoI7pqBmZCKRVQB5CUvHaDBcYUozEB3RIxzEhFo40udIbwgx0osHs5qqd4RICzEg 1guML4VIR0DFBUtGAol6p5sFBEelwGfHyIPU7OgoiWfePtfc5a6+zzzlVXbuqq875vl+pOvthnVOdqnPW/ u611l7bhRAQERERke7cZ1oBEREREdkcBSwRERGRjilgiYiIiHRMAUtERESkYwpYIiIiIh1TwBIRERHpmAKWiIiISMcUsEREREQ6po AlIiIi0jEFLBEREZGOKWCJiIiIdEwBS0RERKRjClgiIiIiHVPAEhEREemYApaIiIhIxxSwRERERDqmgCUiIiLSMQUsERERkY4pYIm IiIh0TAFLREREpGMKWCIiIiIdU8ASERER6ZgCloiIiEjHFLBEREREOqaAJSIiItIxBSwRERGRjilgiYiIiHRMAUtERESkYwpYIiIi Ih1TwBIRERHpmAKWiIiISMcUsEREREQ6poAlIiIi0jEFLBEREZGOKWCJiIiIdEwBS0RERKRjClgiIiIiHVPAEhEREemYApaIiIhIxx SwRERERDqmgCUiIiLSMQUsERERkY4pYImIiIh0TAFLREREpGMKWCIiIiIdU8ASERER6ZgCloiIiEjHFLBEREREOqaAJSIiItIxBSwRER GRjilgiYiIiHRMAUtERESkYwpYIiIiIh1TwBIRERHpmAKWiIiISMcUsEREREQ6poAlIiIi0jEFLBEREZGOKWCJiIiIdEwBS0RERKRj ClgiIiIiHVPAEhEREemYApaIiIhIxxSwRERERDqmgCUiIiLSMQUsERERkY4pYImIiIh0TAFLREREpGMKWCIiIiIdU8ASERER6ZgCloi IiEjHFLBEREREOqaAJSIiItIxBSwRERGRjilgiYiIiHRMAUtERESkYwpYIiIiIh1TwBIRERHpmAKWiIiISMcUsEREREQ6poAlIiIi0j EFLBEREZGOKWCJiIiIdEwBS0RERKRjClgiIiIiHVPAEhEREemYApaIiIhIxxSwRERERDqmgCUiIiLSMQUsERERkY4pYImIiIh0TAFLR EREpGMKWCIiIiIdU8ASERER6ZgCloiIiEjHFLBEREREOqaAJSIiItIxBSwRERGRjilgiYiIiHRMAUtERESkYwpYIiIiIh1TwBIRERHpm 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 iyI/pm55vZLwL3AK8fhCtordBb6/gwrBHycBO/ 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 eEdIJ5kMSbMxZJXfWKerX8o53vvrFa5kry vL8n8ryzKf/2tgE92FP16Wx58wpcxMMbMnAe8L8MBBoApQ1yb1Cdtwy8CrA+HxClfd8N5/2Xv/s8Qusc+2hau6rnek9XsAuNrMlh HpQDVlw0p6YlVLl6v9m+om3HUBq292gZndBbw4ba6D8YFqzJnPaWKwOm8ziVNkNyvL8v7AW4A3TQ9ZYQMhK7xw8v7ZUYerej2vN+qD ebbdwD3He/8z8z71wnbw3v8ucNDh7mqt010zaCWu6CtkSUdCMidl+vlvadHauwHL4iW9q8DFjYouVHOtJqcybZVjVWQdOKJgJTPqe4 CHAc8Ffr0sy7Ez1xfFS/6BeN+47ArYxqfnGVVom2l1uGocpFuavbOz2D938Hjve5o9ext57z8D4fsDvLr+kwyq+iRpDd+1rg7CV5jZ GxDZuhWY2BM2YGaXTCtT2zUBy8yeTjy73F+Hq7RZOKSnMhWXPRLvTH+g5/0Z3TdIZA/4nmT5OcDbxoWsavubAN/c06hGvp44MenMMrP vAN4DWb0Smt1PLvkKuPcAT+h5/xfItut5f6/3/mcCXINzXxm0WuV/LGLUSg4DP2lmr0ZkC6ppmFaS99VAS+jacCvWrghYZnYd8G5g0C Q8Kj23HJzB1HvWgIPe+xdpviqZcQ/N1v8NLSGrWn9btX+8+CE6d2KZPcz6tt/B7wIPrivKvAugDl1h+PVGR3ia9z6/bZNsM+/96wjh6 VS3vKqvwUpbs/Ljg4Oftr4dR2RrVoYh3lWPjUbUevcCG3TWA1YVrm4cbBicVTbnoRieXYb8DOaY9/67vfenEJl92RxCQAxRv1VdPb jxcAV1jfH/t3fv8ZJcdb33PwsIEC69hksQCMggKIpABpSAEGDCJcglJHhAEOQw8BwxmZdKBDMdwlEHFEgHxaCYID4cJqAImucQIPAg KBlCuF8cLg+CBhkQBOU2v4bDJSFZzx916VWrVlX13tN77957f9+vmd5dtVZVV1dVr/rVWlWrtmR3A2Z2YwKXBqj7/EprrKq/YTbmj 7z3zxx5nz4DU9aJ9/4fcDwU+Ho1rn3SXR4AyxNyFzjbzGbHEZEVcnCpq3e0qmuGWaAV7YS7psWdh4M2NMCamv2tw7V +FMVZZPMnFdVWVe8P4djlvX8BItvHVzrGPwy4rOylfb7gauarQxk2qVcDD6giqeAa5Uf7oO3COd77s9PRsv78yH8EeJBzfDlNK zZnsfWqGq7yz7nlpSYiKzby3nAcqoZD67UIuMoTst3MYcMCLDN7Z4Anpk+yjt+nwqyO7gIcu/1ItVay7XygJ+1kirtnVxJc/SAQPj eUabOZml0A7imNM892NchstOMcP/JbuqfwzcZ7/7kQ2O1oBlmB+EKRZnOOg4vMbJk7LpYlForH5XUVFURVP7s7s0Q2JMCamr0TeEQ1 HFXPz75YVJc/q8oPRwjs8d7/th/pWivZfsbj8VVAX19Mc1VdRz50zvic7w9l2kzM7JcDPLtdD94UncwpuFpS3vvPl7UF/ 1mPrGsiq9qFWS1DKJqDX5HOR2QerujFoCsttjubKbHuAdbU7G8DPKJdaxWiQApcVZ9PfcZyGNitrhdEWORdsg+ZTCZnDmXaLMzsDhS P1upUpZXFy8u8V3C1zLz3nwf3SKruRkJ/SwfwVDPTNpUVG3n/nhDtXO39rKovZZeZ3ayVnFjXAMvMzg3wRGhWwcU1+EX13Oy1/H8I2 DXShewiAK8BPjqUaQUu3EJB1kUOblmVKXUB6bIH5dd575/bHi3LxvvRJ4DHA1dDpgmnfVDcZ2aPS7OJzOFgbmSzvhSAk3L5YusWYE2 TuwW7zkDqL1FXA3Ng5P29R+p+QQSA8Xh8HfArwDeH8q7Apg+yplN7iYPH5k7eMm2Fl0P4v1pjZWl57y8Hnk7jBvOyRiFUQ9WJugO4aG p2a0RWwAUOJrXcdWVP4kHtUU3rEmCVd3Y07hZsl3dQfYXoB3PAe/+MbFaRbWw8Hl9F4FFEt7IvwKYNsszssSFwTr5cKUQ15V9w8ATv d+jRN5uM9/4NLnBePcI1t/hsGweA2wf4A0RWIMDBeK+qgvZQD9U2vgarfHL92+Jx8SI2o8LiJsjyaqyzFFyJdBufM/4IcCLw7qG8K7D pgqyp2S2BixojM4WMA5zjuw4eN/L+W8imFOB/ApdVA/XBsHEwqQbcGVOzxyMyJ8esq4YquJoNNwL6XQxY0wDLzO5O2f18tto+ej+rgg tA2OP1uBuRQePx+LCDhwOPBd4O/DCTbQp8KDO+y6YKsgI8B8cd6kNqOTLOUP0JgTNG3n8a2bS899cBTwN3GKJ2jxDFWK66hjcAXGQ 2/bH2nETaRt6bcxyGdktbMjwyszvTw4WQzmJxzOw9wINbYWAtm7BHdwqKrE7Zm/vdgDtQXBD878C/OOeuDSFcCJzRN31i73g8btYML Rkzuw/wMcidbbZKl9d475+JbAlmdn/gCqB4WLkrt3n+kHaR935vNkUkMTV7E3B6uis5IFQFS/H3l7z3b0qnr/OvVYBlZucDZzsoTi7 CrMCLFzIuBB2cpQc1i6yN88+fuBDoCbKqX2fDUgdZZnYl8EBIypd21s86+LmR999rJ8lmNTUbA+fFLSGdRzTH/fzIf7grWaRiZr8Pb n9aolSxiwt1ygtH3v9+13zW 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 RTtVNgsz85TXXcU11W72th6O9pnz1jq4glXUYA GY2bcZiBQjqsUSkXVjZq9m4EHPVWHr4MsB7u+9/0pfflkOZnYH4B+Bn8qlR9u1XWvliB6n1Mpxsfd+TzqJLD8zew3VjXXlZq33g0w NtoMrRt4/hHWw2gDrRdSduxVfJa2yrW6ODHDAe/+M1kxERNaAmR0DvM/BfXOlW7O+HYCrgN1bNciamt00FM9l9BT9gRnwbQLf9zv 8df1TLx8zuzXwVooOZGuZg+nNKJ9WkoZTcSBGlea42I8UZG0mU7PfD87td6H9rJnZtnXRK9cAu9brYd+rC7CO2DE4/ouoFit3xhDt vLt90Ru8iMiaM7OfwfFJF4oDbO7gmry/ysHu0RYNsrYjMzsZuMzBTaDjOixax643eu+f3JFVloiZPd2VN9511lpCmvLLi3yY85AV X4MF4Hf4a0geipgLrgL1F78AEZF14r3/ZwK/CnGTUCE03tfuChy0qd0F2RK895c7eGgoauxwzPaCuBYz8SQzu8TMbtidRTaamZ1A 1KtBd3BFnPLy9QyuYJU1WFBXw9e1WFGTYNPsm5/lvX95miwislbM7I/BPScOs7qaDcvxXwMe6b3/ ZCabbEJmdqLDvT3AreLwOlspUO8I7i0Qnui9vxpZKja1EwgcpI49Cpla6dhHvPcntkevrVXVYAF4769xZS1W8QWbnXnVZwv1N3X7 1fmoiKwn7/1zIVxUDRdlVLv+IiqQb+vgCjN7WCuTbEre+w8XXQuFr1fj4mNVPG6WEB7n4G1mdjNkaUytGVzBrKUM2sFVuY2vAbeH DbDqAAsgFN0wfDb+gkXwXz+aIOoxNezANTsqFRFZa977vQ4urk764mfWNcxGegfvMDP1j7SOzOxuU7Njh/Kthvf+08BDKO4aBdc8K Ffi9wEeDrzJzOa9Y17WUNkdwwGX9GDg6pd87TRwuvejdbmoPXVUAZb3/hrgZXGtFUB8K0f1tqzN2m3FU65FRNbNyPs9Ad4YMpGVy 5fONwAuNLOLdD3O2jOzJwIfDXCZrV2Q9c/AbuDL8baON3tVi1XsEQ6KIOvtU7NbIBumDK4OBtjVrLiJah6BtF4ywPO9929ng6z6 GqzY1OxvAjwZoiq6tK5u5gjFbZJfzKaKiKw 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 +/3sMmZ2Z2A/eD2pPtwJT6uE73P7P/7Rt6/ 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 r5fZWidzKsxXcdMmuu3uT901bE6aJYFxfvXAs/w3l/XmmAd2NSuR+D/dvCM7BK70BN4zrJVibN10ExsrxEHhEvBHYSgoGrBtk2AF TOzO7miN9s62Kq1ChKXdv2fLVSo8ncURPNoNW2UM0nnky5H9/hmjvRH1/geyWcvSrMci2pHaH/febW/VcdMOraFg9X0/F/X2vRt 2Nw6roaH9om+9OxHJ99haD8Z/p7Dw3lde1wux0rTkn0myj37Tmme4fVU/B1e7nnV67a1EOkn5cXpQ03CjXl1zDi7P5QjZ58z32fm1 mt7P5k1cOX2s3qa1nrpbvaaq0auTOz6zEzWesaZ7/U3wNM3sjnMzC4EzoyXDbq+V37NZLd9+bf81gdd2dfjSN0NraltGWClpmanhbqnW 7crvXS00ixQZuO6CrNQZmimVwVL9/SNoidJrAud8m88Dcl84rRQTkvoL4RwDN5BNrjH9GSKz527ivSu79JfcAwXRgvs+b8nX06Uw0G1 UavlhWg+adYoT5q/VzlxGqAsXGbGKwkQhvbbfFp+WxR5m5/etc800135Pt+U3zFRMVU0Pv3MzCQt+TyzpZpv/yr0fQbklyW3j7WGo+ +bW5fkpiGfP87QWA5Xvo8miD87r1xPjmyZGOeC5jLlxpXeAjxhI4OsqdlLA+534qXq3069v7gpcCXwXuBK7/2V+WyyFhRgJczsZg53E oQHBTiJokfcUZynUYCsqBrG0VXV21dQ5Ub0lju1+LyyGtN8H6elBgvKJN886XFR0Jr/vN8vV0Bn8jfGZTJkP2NwGVz52t3cNN96Sz+o PVU6ffp9eu/YSrSK4GgdVu97119mTLr+K53fPf7MXHqXZGYrWa5cruG1RWP9DuV39WuRKzdNXfPm6AwC8tMVZut5tmBx/twy5tZzb v75z+v/1vHnVhq5o8nT/WTozsyh9Z01W73N9VK+qa8ha2anWKPNEsnBuwLuNO9H32eDmNmLHTwvt03j9Z5su6uBD4ZZh9hXenX+uaE UYM3BzO7sHLtCKB5B4OBWAR44b0GQ+zHktX/2rhxKD+ddBWr943MMxn1x4VhpF0CJuiDL1IxEhVj6nbvyzaOedi0K5ozcOk/XVftz6s K5f7tE75tzb07btc90fcd02vZnlGnVfpFsq77tPs+8023UnCa/LtvT59ZKU7wdQpQrt46bmguWzZd8YOd3HBiXS51nWle+9jZ3Rnlbt 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"}))}const S=e=>{const{response:t}=e,{message:a={}}=e;return n.createElement(n.Fragment,null,n.createElement(C.A,{maxWidth:"md"},n.createElement(w.A,{padding:4},n.createElement(h.A,{elevation:0},n.createElement(w.A,{padding:4},n.createElement(v.Ay,{container:!0,alignItems:"center",justifyContent:"center",style:{height:"100%"}},n.createElement(v.Ay,{item:!0,xs:12,md:6},n.createElement(E.A,{variant:"h5",gutterBottom:!0},a.title),n.createElement(E.A,{variant:"subtitle1",gutterBottom:!0},a.body,n.createElement("span",{style:{color:"green"}}," ",t?t.statusText:""," ")),a.more,n.createElement(w.A,{py:5},n.createElement(w.A,{pb:2},n.createElement(E.A,{variant:"subtitle1"},n.createElement(b.A,{id:"Base.Errors.ResourceNotFound.more.links",defaultMessage:"You may check the links below"}))),n.createElement(M.N_,{to:"/apis/",style:{marginRight:8}},n.createElement(P.A,{variant:"contained",color:"primary"},n.createElement(b.A,{id:"Base.Errors.ResourceNotFound.api.list",defaultMessage:"API List"}))),n.createElement(M.N_,{to:"/api-products/"},n.createElement(P.A,{variant:"contained",color:"primary"},n.createElement(b.A,{id:"Base.Errors.ResourceNotFound.api.product.list",defaultMessage:"API Product List"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:6},n.createElement(T,{style:{fontSize:400,fill:"#ccc"}}))))))))};S.defaultProps={message:{title:n.createElement(b.A,{id:"Base.Errors.ResourceNotfound.default_tittle",defaultMessage:"Page Not Found"}),body:n.createElement(b.A,{id:"Base.Errors.ResourceNotfound.default_body",defaultMessage:"The page you are looking for is not available"})}},S.propTypes={response:i().shape({statusText:i().string}).isRequired,message:i().shape({title:i().oneOfType([i().string,i().instanceOf(b.A)]),body:i().oneOfType([i().string,i().instanceOf(b.A)])})};const I=S;var x=a(63731),R=a(49719),k=a(11848),O=a(44675),D=a(14519),L=a(90888);const N=(0,k.Ay)("div")({}),B=(0,k.Ay)("nav")({}),j=(0,k.Ay)("footer")({padding:2,background:"#eaeff1",position:"relative",bottom:0});function q(){return n.createElement(E.A,{variant:"body2",color:"textSecondary",align:"center",sx:{p:"16px"}},n.createElement(b.A,{id:"Base.Footer.Footer.product_details",defaultMessage:"WSO2 API-M v4.6.0 | © 2025 WSO2 LLC"}))}function W(e){const{children:t,leftMenu:a,header:r}=e,i=(0,O.A)();return n.createElement(n.Fragment,null,n.createElement(L.l$,{position:"bottom-right",gutter:8,toastOptions:{style:{background:"#008fcc",color:"#ffffff",fontFamily:i.typography.fontFamily,fontSize:"13px"},success:{style:{backgroundColor:"#4caf50",color:"#ffffff",fontFamily:i.typography.fontFamily,fontSize:"13px"},iconTheme:{primary:"#ffffff",secondary:"#4caf50"}},error:{style:{backgroundColor:"#BD0808",color:"#ffffff",fontFamily:i.typography.fontFamily,fontSize:"13px"},iconTheme:{primary:"#ffffff",secondary:"#BD0808"}},custom:{style:{backgroundColor:"#DDEFFF"}}}}),n.createElement(N,{sx:{display:"flex",minHeight:"100vh"}},n.createElement(D.Ay,null),n.createElement(B,{sx:e=>({[e.breakpoints.up("sm")]:{width:256,flexShrink:0}}),"aria-label":"admin-portal-navbar"},a),n.createElement(N,{sx:{flex:1,display:"flex",flexDirection:"column"}},r,t,n.createElement(j,null,n.createElement(q,null)))))}W.propTypes={children:i().element.isRequired,header:i().element.isRequired,leftMenu:i().element.isRequired};const z=W;var G=a(90431),U=a(81385),V=a(19455),K=a(62274),F=a(3711),_=a(6442),H=a(2710),Z=a(8217),Y=a(203),X=a(20448),Q=a(22727),J=a(12208),$=a(74202);const ee=(0,k.Ay)("div")({flexGrow:1,minHeight:"calc(100vh - (".concat(100,"px))"),backgroundColor:"#eaeff1"});function te(e){const{title:t,pageDescription:a,children:r,help:i,width:o,pageStyle:l,PaperProps:s,paperLess:c}=e;let d=8;return[o,l].includes("small")?d=5:[o,l].includes("full")&&(d=11),n.createElement(ee,null,n.createElement(v.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start"},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(F.A,{sx:{minHeight:43,backgroundColor:"#f6f6f6"}},n.createElement(v.Ay,{container:!0,alignItems:"center",spacing:1},n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(E.A,{color:"inherit",variant:"h5",component:"h1"},t),n.createElement(w.A,{pb:1},null!==a&&n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},a))),n.createElement(v.Ay,{item:!0},i)))),n.createElement(v.Ay,{item:!0,xs:11,sm:d},n.createElement(w.A,{py:6,position:"relative"},"paperLess"===l||c?r:n.createElement(h.A,s,r)))))}te.defaultProps={width:"medium",PaperProps:{},pageStyle:"half",paperLess:!1,pageDescription:null},te.propTypes={help:i().element.isRequired,title:i().string.isRequired,pageDescription:i().string,children:i().element.isRequired,width:i().oneOf(["medium","full","small"]),pageStyle:i().oneOf(["half","full","small"]),PaperProps:i().shape({elevation:i().number}),paperLess:i().bool};const ae=te;var ne=a(14977),re=a(37636),ie=a(71543),oe=a(64569),le=a(56434),se=a(85877),ce=a(58849),de=a(80129);function me(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ue(n.key),n)}}function ue(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let pe=function(){function e(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.environment=t||R.A.getCurrentEnvironment(),ce.A.http.withCredentials=!0;const n=ce.A.resolve({url:R.A.getSwaggerURL(),requestInterceptor:e=>{e.headers.Accept="text/yaml"}});e.spec=n,this._client=n.then((e=>{const t=Object.assign(a,{spec:this._fixSpec(e.spec),requestInterceptor:this._getRequestInterceptor(),responseInterceptor:this._getResponseInterceptor()});return ce.A.http.withCredentials=!0,new ce.A(t)})),this._client.catch(G.A.unauthorizedErrorHandler),this.mutex=new de.eu}return t=e,n=[{key:"getETag",value:function(e){return sessionStorage.getItem("etag_"+e)}},{key:"addETag",value:function(e,t){sessionStorage.setItem("etag_"+e,t)}},{key:"getScopeForResource",value:function(t,a){return e.spec||(ce.A.http.withCredentials=!0,e.spec=ce.A.resolve({url:R.A.getSwaggerURL()})),e.spec.then((e=>e.spec.paths[t]&&e.spec.paths[t][a]&&e.spec.paths[t][a].security[0].OAuth2Security[0]))}}],(a=[{key:"client",get:function(){return this._client}},{key:"_fixSpec",value:function(e){const t=e,a=new URL(e.servers[0].url);return this.environment.host!==a.host&&(a.host=this.environment.host,f().app.proxy_context_path&&""!==f().app.proxy_context_path&&(a.pathname=f().app.proxy_context_path+a.pathname),t.servers[0].url=String(a)),t}},{key:"_getResponseInterceptor",value:function(){return t=>(t.headers.etag&&e.addETag(t.url,t.headers.etag),401===t.status&&null!=t.body&&"Unauthenticated request"===t.body.description&&G.A.getUserFromToken().catch((e=>{console.error("Error occurred while checking token status. Hence redirecting to login",e),window.location=f().app.context+R.A.CONST.LOGOUT_CALLBACK})),t)}},{key:"_getRequestInterceptor",value:function(){return t=>{if(!G.A.getUser(this.environment.label))return console.log("User not found. Token refreshing failed."),t;let a=G.A.getUser(this.environment.label).getPartialToken();const n=G.A.getUser(this.environment.label).getRefreshPartialToken();if(a)return t.headers.authorization="Bearer "+a,t;if(console.log("Access token is expired. Trying to refresh."),!n)return console.log("Refresh token not found. Token refreshing failed."),t;const r=this.environment,i=new Promise(((e,n)=>{this.mutex.acquire().then((i=>{a=G.A.getUser(r.label).getPartialToken(),a?(t.headers.authorization="Bearer "+a,i(),e(t)):G.A.refresh(r).then((e=>e.json())).then((()=>{t.headers.authorization="Bearer "+G.A.getUser(r.label).getPartialToken(),i(),e(t)})).catch((e=>{console.error("Error:",e),i(),n()})).finally((()=>{i()}))}))}));return!e.getETag(t.url)||"PUT"!==t.method&&"DELETE"!==t.method&&"POST"!==t.method||(t.headers["If-Match"]=e.getETag(t.url)),i}}}])&&me(t.prototype,a),n&&me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,n}();pe.spec=null;const ge=pe;function fe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ae(n.key),n)}}function Ae(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let ye=function(){function e(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.environment=t||R.A.getCurrentEnvironment(),ce.A.http.withCredentials=!0;const n=ce.A.resolve({url:R.A.getGovernanceSwaggerURL(),requestInterceptor:e=>{e.headers.Accept="text/yaml"}});e.spec=n,this._client=n.then((e=>{const t=Object.assign(a,{spec:this._fixSpec(e.spec),requestInterceptor:this._getRequestInterceptor(),responseInterceptor:this._getResponseInterceptor()});return ce.A.http.withCredentials=!0,new ce.A(t)})),this._client.catch(G.A.unauthorizedErrorHandler),this.mutex=new de.eu}return t=e,n=[{key:"getETag",value:function(e){return sessionStorage.getItem("etag_"+e)}},{key:"addETag",value:function(e,t){sessionStorage.setItem("etag_"+e,t)}},{key:"getScopeForResource",value:function(t,a){return e.spec||(ce.A.http.withCredentials=!0,e.spec=ce.A.resolve({url:R.A.getGovernanceSwaggerURL()})),e.spec.then((e=>e.spec.paths[t]&&e.spec.paths[t][a]&&e.spec.paths[t][a].security[0].OAuth2Security[0]))}}],(a=[{key:"client",get:function(){return this._client}},{key:"_fixSpec",value:function(e){const t=e,a=new URL(e.servers[0].url);return this.environment.host!==a.host&&(a.host=this.environment.host,f().app.proxy_context_path&&""!==f().app.proxy_context_path&&(a.pathname=f().app.proxy_context_path+a.pathname),t.servers[0].url=String(a)),t}},{key:"_getResponseInterceptor",value:function(){return t=>(t.headers.etag&&e.addETag(t.url,t.headers.etag),401===t.status&&null!=t.body&&"Unauthenticated request"===t.body.description&&G.A.getUserFromToken().catch((e=>{console.error("Error occurred while checking token status. Hence redirecting to login",e),window.location=f().app.context+R.A.CONST.LOGOUT_CALLBACK})),t)}},{key:"_getRequestInterceptor",value:function(){return t=>{if(!G.A.getUser(this.environment.label))return console.log("User not found. Token refreshing failed."),t;let a=G.A.getUser(this.environment.label).getPartialToken();const n=G.A.getUser(this.environment.label).getRefreshPartialToken();if(a)return t.headers.authorization="Bearer "+a,t;if(console.log("Access token is expired. Trying to refresh."),!n)return console.log("Refresh token not found. Token refreshing failed."),t;const r=this.environment,i=new Promise(((e,n)=>{this.mutex.acquire().then((i=>{a=G.A.getUser(r.label).getPartialToken(),a?(t.headers.authorization="Bearer "+a,i(),e(t)):G.A.refresh(r).then((e=>e.json())).then((()=>{t.headers.authorization="Bearer "+G.A.getUser(r.label).getPartialToken(),i(),e(t)})).catch((e=>{console.error("Error:",e),i(),n()})).finally((()=>{i()}))}))}));return!e.getETag(t.url)||"PUT"!==t.method&&"DELETE"!==t.method&&"POST"!==t.method||(t.headers["If-Match"]=e.getETag(t.url)),i}}}])&&fe(t.prototype,a),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,n}();ye.spec=null;const Ee=ye;function he(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,be(n.key),n)}}function be(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let ve=function(){return e=function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e._instance)return e._instance;this._APIClientMap=new Map,e._instance=this},t=[{key:"getAPIClient",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.A.getDefaultEnvironment(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.A.CONST.API_CLIENT;const a=e.label+"_"+t;let n=this._APIClientMap.get(a);return n||(t===R.A.CONST.API_CLIENT?n=new ge(e):t===R.A.CONST.GOVERNANCE_CLIENT&&(n=new Ee(e)),this._APIClientMap.set(a,n),n)}},{key:"destroyAPIClient",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.A.CONST.API_CLIENT;this._APIClientMap.delete(e+"_"+t)}}],t&&he(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();ve._instance=null;const Me=ve;function Pe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function we(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let Ce=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=(new Me).getAPIClient(R.A.getCurrentEnvironment()).client},a=[{key:"_requestMetaData",value:function(){return{requestContentType:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["Content-Type"]||"application/json"}}}],(t=[{key:"isAPIProduct",value:function(){return"APIProduct"===this.apiType}},{key:"isWebSocket",value:function(){return"WS"===this.type}},{key:"isGraphql",value:function(){return"GRAPHQL"===this.type}},{key:"isSOAPToREST",value:function(){return"SOAPTOREST"===this.type}},{key:"isSOAP",value:function(){return"SOAP"===this.type}}])&&Pe(e.prototype,t),a&&Pe(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,a}();var Te=a(67193),Se=a.n(Te);function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Re(n.key),n)}}function Re(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function ke(e,t,a){return t=De(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,a||[],De(e).constructor):t.apply(e,a))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}let Ne=function(e){function t(e,a,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=ke(this,t);let o=r;e instanceof Object?(o=e,R.A.deepFreeze(o)):(i.name=e,i.version=a,i.context=n,i.isDefaultVersion=!1,i.gatewayEnvironments=["Default"],i.transport=["http","https"],i.visibility="PUBLIC",i.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:""},production_endpoints:{url:""}}),i.apiType=t.CONSTS.API,i._data=o;for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e]);return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(t,e),a=t,n=[{key:"_requestMetaData",value:function(){Ce._requestMetaData()}},{key:"toJSON",value:function(){var e={},t=["_data","client","apiType"].concat(function(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]));for(var a in this)t.includes(a)||(e[a]=Se()(this[a]));return e}},{key:"getSettings",value:function(){return this.client.then((e=>e.apis.Settings.get_settings())).then((e=>e.body))}},{key:"getUserScope",value:function(e,t){return this.client.then((a=>{const n={username:e,scopeName:btoa(t)};return a.apis["System Scopes"].systemScopesScopeNameGet(n,this._requestMetaData())}))}},{key:"validateSystemRole",value:function(e){return this.client.then((t=>t.apis.Roles.validateSystemRole({roleId:e})))}},{key:"getThrottlingPoliciesAdvanced",value:function(){return this.client.then((e=>e.apis["Advanced Policy (Collection)"].get_throttling_policies_advanced(this._requestMetaData())))}},{key:"getThrottlingPoliciesAdvancedPolicyId",value:function(e){return this.client.then((t=>t.apis["Advanced Policy (Individual)"].get_throttling_policies_advanced__policyId_({policyId:e},this._requestMetaData())))}},{key:"putThrottlingPoliciesAdvanced",value:function(e,t){return this.client.then((a=>a.apis["Advanced Policy (Individual)"].put_throttling_policies_advanced__policyId_({policyId:e,"Content-Type":"application/json"},{requestBody:t},this._requestMetaData())))}},{key:"postThrottlingPoliciesAdvanced",value:function(e){return this.client.then((t=>t.apis["Advanced Policy (Collection)"].post_throttling_policies_advanced({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"deleteThrottlingPoliciesAdvanced",value:function(e){return this.client.then((t=>t.apis["Advanced Policy (Individual)"].delete_throttling_policies_advanced__policyId_({policyId:e},this._requestMetaData())))}},{key:"apiCategoriesListGet",value:function(){return this.client.then((e=>e.apis["API Category (Collection)"].get_api_categories(this._requestMetaData())))}},{key:"updateAPICategory",value:function(e,t,a){return this.client.then((n=>{const r={name:t,description:a};return n.apis["API Category (Individual)"].put_api_categories__apiCategoryId_({apiCategoryId:e},{requestBody:r},this._requestMetaData())}))}},{key:"deleteAPICategory",value:function(e){return this.client.then((t=>t.apis["API Category (Individual)"].delete_api_categories__apiCategoryId_({apiCategoryId:e},this._requestMetaData())))}},{key:"createAPICategory",value:function(e,t){return this.client.then((a=>{const n={name:e,description:t};return a.apis["API Category (Individual)"].post_api_categories({"Content-Type":"application/json"},{requestBody:n},this._requestMetaData())}))}},{key:"labelsListGet",value:function(){return this.client.then((e=>e.apis["Labels (Collection)"].getAllLabels(this._requestMetaData())))}},{key:"updateLabel",value:function(e,t,a){return this.client.then((n=>{const r={name:t,description:a};return n.apis["Label (Individual)"].updateLabel({labelId:e},{requestBody:r},this._requestMetaData())}))}},{key:"deleteLabel",value:function(e){return this.client.then((t=>t.apis["Label (Individual)"].deleteLabel({labelId:e},this._requestMetaData())))}},{key:"createLabel",value:function(e,t){return this.client.then((a=>{const n={name:e,description:t};return a.apis["Label (Individual)"].createLabel({"Content-Type":"application/json"},{requestBody:n},this._requestMetaData())}))}},{key:"getLabelApiUsages",value:function(e){return this.client.then((t=>t.apis["Label (Individual)"].getLabelUsage({labelId:e},this._requestMetaData())))}},{key:"applicationThrottlingPoliciesGet",value:function(){return this.client.then((e=>e.apis["Application Policy (Collection)"].get_throttling_policies_application(this._requestMetaData())))}},{key:"deleteApplicationThrottlingPolicy",value:function(e){return this.client.then((t=>t.apis["Application Policy (Individual)"].delete_throttling_policies_application__policyId_({policyId:e},this._requestMetaData())))}},{key:"addSubscriptionThrottlingPolicy",value:function(e){return this.client.then((t=>t.apis["Subscription Policy (Collection)"].post_throttling_policies_subscription({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"deleteSubscriptionPolicy",value:function(e){return this.client.then((t=>t.apis["Subscription Policy (Individual)"].delete_throttling_policies_subscription__policyId_({policyId:e},this._requestMetaData())))}},{key:"updateSubscriptionThrottlingPolicy",value:function(e,t){return this.client.then((a=>{const n={policyId:e,"Content-Type":"application/json"};return a.apis["Subscription Policy (Individual)"].put_throttling_policies_subscription__policyId_(n,{requestBody:t},this._requestMetaData())}))}},{key:"subscriptionThrottlingPolicyGet",value:function(e){return this.client.then((t=>t.apis["Subscription Policy (Individual)"].get_throttling_policies_subscription__policyId_({policyId:e},this._requestMetaData())))}},{key:"addApplicationThrottlingPolicy",value:function(e){return this.client.then((t=>t.apis["Application Policy (Collection)"].post_throttling_policies_application({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"applicationThrottlingPolicyGet",value:function(e){return this.client.then((t=>t.apis["Application Policy (Individual)"].get_throttling_policies_application__policyId_({policyId:e},this._requestMetaData())))}},{key:"updateApplicationThrottlingPolicy",value:function(e,t){return this.client.then((a=>{const n={policyId:e,"Content-Type":"application/json"};return a.apis["Application Policy (Individual)"].put_throttling_policies_application__policyId_(n,{requestBody:t},this._requestMetaData())}))}},{key:"getApplicationList",value:function(e){return this.client.then((t=>t.apis["Application (Collection)"].get_applications(e,this._requestMetaData())))}},{key:"getApiList",value:function(e){return this.client.then((t=>t.apis.APIs.getAllAPIs(e,this._requestMetaData())))}},{key:"getSubscritionPolicyList",value:function(){return this.client.then((e=>e.apis["Subscription Policy (Collection)"].get_throttling_policies_subscription(this._requestMetaData())))}},{key:"updateApplicationOwner",value:function(e,t){return this.client.then((a=>a.apis.Application.post_applications__applicationId__change_owner({owner:t,applicationId:e},this._requestMetaData())))}},{key:"updateApiProvider",value:function(e,t){return this.client.then((a=>a.apis["Api Provider Change"].providerNamePost({provider:t,apiId:e},this._requestMetaData())))}},{key:"getGatewayEnvironmentList",value:function(){return this.client.then((e=>e.apis.Environments.get_environments(this._requestMetaData())))}},{key:"getGatewayEnvironment",value:function(e){return this.client.then((t=>t.apis.Environments.get_environments__environmentId_({environmentId:e},this._requestMetaData())))}},{key:"deleteGatewayEnvironment",value:function(e){return this.client.then((t=>t.apis.Environments.delete_environments__environmentId_({environmentId:e},this._requestMetaData())))}},{key:"addGatewayEnvironment",value:function(e,t,a,n,r,i,o,l,s,c){let d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"wso2";return this.client.then((m=>{const u={name:e,displayName:t,type:a,description:n,gatewayType:r,mode:i,apiDiscoveryScheduledWindow:o,vhosts:l,permissions:s,additionalProperties:c,provider:d};return m.apis.Environments.post_environments({"Content-Type":"application/json"},{requestBody:u},this._requestMetaData())}))}},{key:"updateGatewayEnvironment",value:function(e,t,a,n,r,i,o,l,s,c,d){let m=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"wso2";return this.client.then((u=>{const p={name:t,displayName:a,type:n,description:r,gatewayType:i,mode:o,apiDiscoveryScheduledWindow:l,vhosts:s,permissions:c,additionalProperties:d,provider:m};return u.apis.Environments.put_environments__environmentId_({environmentId:e},{requestBody:p},this._requestMetaData())}))}},{key:"blacklistPoliciesGet",value:function(){return this.client.then((e=>e.apis["Deny Policies (Collection)"].get_throttling_deny_policies(this._requestMetaData())))}},{key:"deleteBlacklistPolicy",value:function(e){return this.client.then((t=>t.apis["Deny Policy (Individual)"].delete_throttling_deny_policy__conditionId_({conditionId:e},this._requestMetaData())))}},{key:"addBlacklistPolicy",value:function(e){return this.client.then((t=>t.apis["Deny Policies (Collection)"].post_throttling_deny_policies({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"blacklistPolicyGet",value:function(e){return this.client.then((t=>t.apis["Deny Policy (Individual)"].get_throttling_deny_policy__conditionId_({conditionId:e},this._requestMetaData())))}},{key:"updateBlacklistPolicy",value:function(e,t){return this.client.then((a=>{const n={conditionStatus:t};return a.apis["Deny Policy (Individual)"].patch_throttling_deny_policy__conditionId_({conditionId:e,"Content-Type":"application/json"},{requestBody:n},this._requestMetaData())}))}},{key:"customPoliciesGet",value:function(){return this.client.then((e=>e.apis["Custom Rules (Collection)"].get_throttling_policies_custom(this._requestMetaData())))}},{key:"addCustomPolicy",value:function(e){return this.client.then((t=>t.apis["Custom Rules (Collection)"].post_throttling_policies_custom({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"deleteCustomPolicy",value:function(e){return this.client.then((t=>t.apis["Custom Rules (Individual)"].delete_throttling_policies_custom__ruleId_({ruleId:e},this._requestMetaData())))}},{key:"customPolicyGet",value:function(e){return this.client.then((t=>t.apis["Custom Rules (Individual)"].get_throttling_policies_custom__ruleId_({ruleId:e},this._requestMetaData())))}},{key:"updateCustomPolicy",value:function(e,t){return this.client.then((a=>{const n={ruleId:e,"Content-Type":"application/json"};return a.apis["Custom Rules (Individual)"].put_throttling_policies_custom__ruleId_(n,{requestBody:t},this._requestMetaData())}))}},{key:"getDetectedBotData",value:function(){return this.client.then((e=>e.apis.default.getBotDetectionData(this._requestMetaData())))}},{key:"botDetectionNotifyingEmailsGet",value:function(){return this.client.then((e=>e.apis["Bot Detection Alert Subscriptions"].getBotDetectionAlertSubscriptions(this._requestMetaData())))}},{key:"addBotDetectionNotifyingEmail",value:function(e){return this.client.then((t=>{const a={email:e};return t.apis["Bot Detection Alert Subscriptions"].subscribeForBotDetectionAlerts({"Content-Type":"application/json"},{requestBody:a},this._requestMetaData())}))}},{key:"deleteBotDetectionNotifyingEmail",value:function(e){return this.client.then((t=>t.apis["Bot Detection Alert Subscriptions"].unsubscribeFromBotDetectionAlerts({uuid:e},this._requestMetaData())))}},{key:"getTenantInformation",value:function(e){return this.client.then((t=>t.apis.Tenants.getTenantInfoByUsername({username:e},this._requestMetaData())))}},{key:"uploadTenantTheme",value:function(e){return this.client.then((t=>t.apis["Tenant Theme"].importTenantTheme({},{requestBody:{file:e}})),this._requestMetaData({"Content-Type":"multipart/form-data"}))}},{key:"exportTenantTheme",value:function(){return this.client.then((e=>e.apis["Tenant Theme"].exportTenantTheme()),this._requestMetaData())}},{key:"getSupportedAlertTypes",value:function(){return this.client.then((e=>e.apis.Alerts.getAdminAlertTypes(this._requestMetaData())))}},{key:"getSubscribedAlertTypesByUser",value:function(){return this.client.then((e=>e.apis["Alert Subscriptions"].getSubscribedAlertTypes(this._requestMetaData())))}},{key:"subscribeAlerts",value:function(e){return this.client.then((t=>t.apis["Alert Subscriptions"].subscribeToAlerts({},{requestBody:e},this._requestMetaData())))}},{key:"unsubscribeAlerts",value:function(){return this.client.then((e=>e.apis["Alert Subscriptions"].unsubscribeAllAlerts(this._requestMetaData())))}},{key:"getKeyManagersList",value:function(){return this.client.then((e=>e.apis["Key Manager (Collection)"].get_key_managers(this._requestMetaData())))}},{key:"getGlobalKeyManagersList",value:function(){return this.client.then((e=>e.apis["Global Key Manager (Collection)"].get_global_key_managers(this._requestMetaData())))}},{key:"keyManagersDiscover",value:function(e){return this.client.then((t=>t.apis["Key Manager (Collection)"].post_key_managers_discover({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"keyManagerGet",value:function(e){return this.client.then((t=>t.apis["Key Manager (Individual)"].get_key_managers__keyManagerId_({keyManagerId:e},this._requestMetaData())))}},{key:"globalKeyManagerGet",value:function(e){return this.client.then((t=>t.apis["Global Key Manager (Individual)"].get_global_key_managers__keyManagerId_({keyManagerId:e},this._requestMetaData())))}},{key:"getKeyManagerUsages",value:function(e){return this.client.then((t=>t.apis["Key Manager (Individual)"].get_key_managers__keyManagerId__usages({keyManagerId:e},this._requestMetaData())))}},{key:"getKeyManagerApplicationUsages",value:function(e){return this.client.then((t=>t.apis["Key Manager (Individual)"].get_key_managers__keyManagerId__app_usages({keyManagerId:e},this._requestMetaData())))}},{key:"getKeyManagerApiUsages",value:function(e){return this.client.then((t=>t.apis["Key Manager (Individual)"].get_key_managers__keyManagerId__api_usages({keyManagerId:e},this._requestMetaData())))}},{key:"addKeyManager",value:function(e){return this.client.then((t=>t.apis["Key Manager (Collection)"].post_key_managers({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"addGlobalKeyManager",value:function(e){return this.client.then((t=>t.apis["Global Key Manager (Collection)"].post_global_key_managers({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"updateKeyManager",value:function(e,t){return this.client.then((a=>{const n={keyManagerId:e,"Content-Type":"application/json"};return a.apis["Key Manager (Individual)"].put_key_managers__keyManagerId_(n,{requestBody:t},this._requestMetaData())}))}},{key:"updateGlobalKeyManager",value:function(e,t){return this.client.then((a=>{const n={keyManagerId:e,"Content-Type":"application/json"};return a.apis["Global Key Manager (Individual)"].put_global_key_managers__keyManagerId_(n,{requestBody:t},this._requestMetaData())}))}},{key:"deleteKeyManager",value:function(e){return this.client.then((t=>t.apis["Key Manager (Individual)"].delete_key_managers__keyManagerId_({keyManagerId:e},this._requestMetaData())))}},{key:"deleteGlobalKeyManager",value:function(e){return this.client.then((t=>t.apis["Global Key Manager (Individual)"].delete_global_key_managers__keyManagerId_({keyManagerId:e},this._requestMetaData())))}},{key:"workflowsGet",value:function(e){var t=f().app.workflows.limit;return this.client.then((a=>a.apis["Workflow (Collection)"].get_workflows({workflowType:e,limit:t},this._requestMetaData())))}},{key:"workflowGet",value:function(e){return this.client.then((t=>t.apis["Workflows (Individual)"].get_workflows__externalWorkflowRef_({externalWorkflowReference:e},this._requestMetaData())))}},{key:"updateWorkflow",value:function(e,t){return this.client.then((a=>{const n={workflowReferenceId:e,"Content-Type":"application/json"};return a.apis["Workflows (Individual)"].post_workflows_update_workflow_status(n,{requestBody:t},this._requestMetaData())}))}},{key:"tenantConfGet",value:function(){return this.client.then((e=>e.apis["Tenant Config"].exportTenantConfig()))}},{key:"updateTenantConf",value:function(e){return this.client.then((t=>t.apis["Tenant Config"].updateTenantConfig({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"tenantConfSchemaGet",value:function(){return this.client.then((e=>e.apis["Tenant Config Schema"].exportTenantConfigSchema()))}},{key:"getAiServiceProviderList",value:function(){return this.client.then((e=>e.apis.AIServiceProviders.getAIServiceProviders(this._requestMetaData())))}},{key:"getAiServiceProvider",value:function(e){return this.client.then((t=>t.apis.AIServiceProvider.getAIServiceProvider({aiServiceProviderId:e},this._requestMetaData())))}},{key:"deleteAIServiceProvider",value:function(e){return this.client.then((t=>t.apis.AIServiceProvider.deleteAIServiceProvider({aiServiceProviderId:e},this._requestMetaData())))}},{key:"addAIServiceProvider",value:function(e){return this.client.then((t=>t.apis.AIServiceProviders.addAIServiceProvider({"Content-Type":"multipart/form-data"},{requestBody:{name:e.name,apiVersion:e.apiVersion,description:e.description,multipleModelProviderSupport:e.multipleModelProviderSupport,configurations:e.configurations,apiDefinition:e.apiDefinition,modelProviders:JSON.stringify(e.modelList)}},this._requestMetaData())))}},{key:"updateAIServiceProvider",value:function(e,t){return this.client.then((a=>{const n={aiServiceProviderId:e,"Content-Type":"multipart/form-data"};return a.apis.AIServiceProvider.updateAIServiceProvider(n,{requestBody:{name:t.name,apiVersion:t.apiVersion,description:t.description,multipleModelProviderSupport:t.multipleModelProviderSupport,configurations:t.configurations,apiDefinition:t.apiDefinition,modelProviders:JSON.stringify(t.modelList)}},this._requestMetaData())}))}},{key:"getTransactionCount",value:function(e){return this.client.then((t=>t.apis["Transaction Records"].get_transaction_count(e,this._requestMetaData())))}},{key:"organizationsListGet",value:function(){return this.client.then((e=>e.apis.Organizations.get_organizations(this._requestMetaData())))}},{key:"createOrganization",value:function(e,t,a){return this.client.then((n=>{const r={externalOrganizationId:e,displayName:t,description:a};return n.apis.Organizations.post_organizations({"Content-Type":"application/json"},{requestBody:r},this._requestMetaData())}))}},{key:"updateOrganization",value:function(e,t,a,n){return this.client.then((r=>{const i={externalOrganizationId:e,displayName:a,description:n};return r.apis.Organizations.put_organizations__organizationId_({organizationId:t},{requestBody:i},this._requestMetaData())}))}},{key:"deleteOrganization",value:function(e,t){return this.client.then((a=>a.apis.Organizations.delete_organizations__organizationId_({externalOrganizationId:t,organizationId:e},this._requestMetaData())))}},{key:"getUserOrganizationInfo",value:function(){return this.client.then((e=>e.apis.Users.organizationInformation(this._requestMetaData())))}},{key:"getEnvironmentGateways",value:function(e){return this.client.then((t=>t.apis.Environments.get_environments__environmentId__gateways({environmentId:e},this._requestMetaData())))}}],r=[{key:"importByUrl",value:function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SOAP";return(new Me).getAPIClient(R.A.getCurrentEnvironment()).client.then((r=>(r.apis.APIs,r.apis.APIs.importWSDLDefinition({url:e,additionalProperties:JSON.stringify(a),implementationType:n}).then((e=>new t(e.body))))))}}],n&&xe(a.prototype,n),r&&xe(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,n,r}(Ce);Ne.CONSTS={API:"API",APIProduct:"APIProduct"},Object.freeze(Ne.CONSTS);const Be=Ne;function je(){const[e,t]=(0,n.useState)(),[a,r]=(0,n.useState)(0),i=new Be;(0,n.useEffect)((()=>{i.apiCategoriesListGet().then((e=>{const a=e.body.list,n=a.slice(Math.max(a.length-4,0));t(n),r(a.length)})).catch((()=>{t([])}))}),[]);const o=n.createElement(ne.A,{sx:{minWidth:275,minHeight:270,textAlign:"center"}},n.createElement(re.A,null,n.createElement(w.A,null,n.createElement(oe.A,{color:"secondary",style:{fontSize:60}})),n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},n.createElement(b.A,{id:"Dashboard.apiCategories.noApiCategories.card.title",defaultMessage:"API Category based grouping"})),n.createElement(E.A,{variant:"body2",component:"p"},n.createElement(b.A,{id:"Dashboard.apiCategories.noApiCategories.card.description",values:{learnMoreLink:n.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:f().app.docUrl+"reference/customize-product/customizations/customizing-the-developer-portal/customize-api-listing/api-category-based-grouping"},n.createElement(b.A,{id:"Dashboard.apiCategories.noApiCategories.card.document.link.text",defaultMessage:"Go to Category Documentation"}),n.createElement(le.A,{fontSize:"inherit"}))},defaultMessage:"API categories allow API providers to categorize APIs that have similar attributes. When a categorized API gets published to the Developer Portal, its categories appear as clickable links to the API consumers. The API consumers can use the available API categories to quickly jump to a category of interest. {learnMoreLink}"})),n.createElement(w.A,{mt:3},n.createElement(P.A,{size:"small",variant:"contained",color:"primary",component:M.N_,to:"settings/api-categories"},n.createElement(E.A,{variant:"inherit"},n.createElement(b.A,{id:"Dashboard.apiCategories.noApiCategories.card.add.new.link.text",defaultMessage:"Add new Category"})),n.createElement(le.A,{fontSize:"inherit"})))));return e?0===e.length?o:n.createElement(ne.A,{sx:{minWidth:275,minHeight:270,textAlign:"center"},style:{textAlign:"left"}},n.createElement(re.A,null,n.createElement(w.A,{display:"flex"},n.createElement(w.A,{flexGrow:1},n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},n.createElement(b.A,{id:"Dashboard.apiCategories.apiCategoriesListing.card.title",defaultMessage:"API Categories"}))),n.createElement(w.A,null,n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},a))),n.createElement(ie.A,{sx:{opacity:.2}}),n.createElement(w.A,{height:170,mt:1,mb:-2},e.map((e=>n.createElement(w.A,{display:"flex",alignItems:"center",key:e.name},n.createElement(w.A,{width:50,flexGrow:1,mt:.5},n.createElement(E.A,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},variant:"subtitle2"},e.name),n.createElement(E.A,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},variant:"body2"},e.description||n.createElement(b.A,{id:"Dashboard.apiCategories.apiCategoriesListing.no.description",defaultMessage:"No description available"}))),n.createElement(w.A,null,n.createElement(E.A,{variant:"body2"},e.numberOfAPIs," APIs"))))))),n.createElement(w.A,{m:.5,display:"flex",alignSelf:"flex-end",flexDirection:"row-reverse"},n.createElement(w.A,null,n.createElement(P.A,{size:"small",color:"primary",component:M.N_,to:"settings/api-categories"},n.createElement(E.A,{variant:"inherit"},n.createElement(b.A,{id:"Dashboard.apiCategories.apiCategoriesListing.card.view.all.link.text",defaultMessage:"View All"}),n.createElement(le.A,{fontSize:"inherit"})))))):n.createElement(se.A,{message:"Loading Card ..."})}var qe=a(15001),We=a(2791),ze=a(94077),Ge=a(42376);const Ue=n.createContext({}),Ve=()=>(0,n.useContext)(Ue),Ke=Ue.Provider;function Fe(){const{isSuperTenant:e}=Ve(),t=(0,_.A)(),a=[{name:t.formatMessage({id:"Dashboard.rateLimiting.card.advancedPolicies.name",defaultMessage:"Advanced Policies"}),description:t.formatMessage({id:"Dashboard.rateLimiting.card.advancedPolicies.description",defaultMessage:"Control access per API or API resource using advanced rules"}),icon:n.createElement(We.A,{color:"inherit",fontSize:"small"}),path:"/throttling/advanced"},{name:t.formatMessage({id:"Dashboard.rateLimiting.card.applicationPolicies.name",defaultMessage:"Application Policies"}),description:t.formatMessage({id:"Dashboard.rateLimiting.card.applicationPolicies.description",defaultMessage:"Applicable per access token generated for an application"}),icon:n.createElement(J.A,{color:"inherit",fontSize:"small"}),path:"/throttling/application"},{name:t.formatMessage({id:"Dashboard.rateLimiting.card.subscriptionPolicies.name",defaultMessage:"Subscription Policies"}),description:t.formatMessage({id:"Dashboard.rateLimiting.card.subscriptionPolicies.description",defaultMessage:"Control access per Subscription"}),icon:n.createElement(ze.A,{color:"inherit",fontSize:"small"}),path:"/throttling/subscription"},{name:t.formatMessage({id:"Dashboard.rateLimiting.card.customPolicies.name",defaultMessage:"Custom Policies"}),description:t.formatMessage({id:"Dashboard.rateLimiting.card.customPolicies.description",defaultMessage:"Allows system administrators to define dynamic rules for specific use cases, which are applied globally across all tenants."}),icon:n.createElement(Ge.A,{color:"inherit",fontSize:"small"}),path:"/throttling/custom",id:"Custom Policies"}];let r=a;return e||(r=a.filter((e=>"Custom Policies"!==e.id))),n.createElement(ne.A,{sx:{minWidth:275,minHeight:270,textAlign:"left"}},n.createElement(re.A,null,n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},n.createElement(b.A,{id:"Dashboard.rateLimiting.card.title",defaultMessage:"Rate Limiting"})),n.createElement(ie.A,{sx:{opacity:.2}}),n.createElement(w.A,{mt:1,mb:-2},r.map((e=>n.createElement(w.A,{display:"flex",key:e.name},n.createElement(w.A,{mx:1,mt:.5},e.icon),n.createElement(w.A,{flexGrow:1},n.createElement(qe.A,{component:M.N_,to:e.path,color:"inherit",underline:"hover"},n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold"}},e.name)),n.createElement(E.A,{variant:"body2",gutterBottom:!0},e.description))))))))}var _e=a(41764),He=a(50646),Ze=a(90572);function Ye(){const e=(0,_.A)(),t=new Be,[a,r]=(0,n.useState)({});function i(){let e=0;for(const t in a)a[t]&&(e+=a[t].length);return e}(0,n.useEffect)((()=>{(()=>{const e=t.workflowsGet("AM_USER_SIGNUP"),a=t.workflowsGet("AM_API_STATE"),n=t.workflowsGet("AM_API_PRODUCT_STATE"),i=t.workflowsGet("AM_APPLICATION_CREATION"),o=t.workflowsGet("AM_APPLICATION_UPDATE"),l=t.workflowsGet("AM_APPLICATION_DELETION"),s=t.workflowsGet("AM_SUBSCRIPTION_CREATION"),c=t.workflowsGet("AM_SUBSCRIPTION_DELETION"),d=t.workflowsGet("AM_SUBSCRIPTION_UPDATE"),m=t.workflowsGet("AM_APPLICATION_REGISTRATION_PRODUCTION"),u=t.workflowsGet("AM_APPLICATION_REGISTRATION_SANDBOX"),p=t.workflowsGet("AM_REVISION_DEPLOYMENT");Promise.all([e,a,i,o,l,s,c,d,m,u,n,p]).then((e=>{let[t,a,n,i,o,l,s,c,d,m,u,p]=e;const g=t.body.list,f=a.body.list,A=u.body.list,y=n.body.list,E=i.body.list,h=o.body.list,b=l.body.list,v=s.body.list,M=c.body.list,P=p.body.list,w=d.body.list.concat(m.body.list);r({userCreation:g,stateChange:f,applicationCreation:y,applicationUpdate:E,applicationDeletion:h,subscriptionCreation:b,subscriptionDeletion:v,subscriptionUpdate:M,registration:w,productStateChange:A,revisionDeployment:P})}))})()}),[]);const o=n.createElement(ne.A,{sx:{minWidth:275,minHeight:270,textAlign:"center"}},n.createElement(re.A,null,n.createElement(w.A,{mt:2},n.createElement(_e.A,{color:"secondary",style:{fontSize:60}})),n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},n.createElement(b.A,{id:"Dashboard.tasksWorkflow.noTasks.card.title",defaultMessage:"All the pending tasks completed"})),n.createElement(E.A,{variant:"body2",component:"p"},n.createElement(b.A,{id:"Dashboard.tasksWorkflow.noTasks.card.description",defaultMessage:"Manage workflow tasks, increase productivity and enhance competitiveness by enabling developers to easily deploy business processes and models."}))));return i()>0?(()=>{const t=[{icon:H.A,path:"/tasks/user-creation",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.userCreation.name",defaultMessage:"User Creation"}),count:a.userCreation.length},{icon:Z.A,path:"/tasks/application-creation",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.applicationCreation.name",defaultMessage:"Application Creation"}),count:a.applicationCreation.length},{icon:Z.A,path:"/tasks/application-update",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.applicationUpdate.name",defaultMessage:"Application Update"}),count:a.applicationUpdate.length},{icon:Z.A,path:"/tasks/application-deletion",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.applicationDeletion.name",defaultMessage:"Application Deletion"}),count:a.applicationDeletion.length},{icon:He.A,path:"/tasks/subscription-creation",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.subscriptionCreation.name",defaultMessage:"Subscription Creation"}),count:a.subscriptionCreation.length},{icon:He.A,path:"/tasks/subscription-deletion",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.subscriptionDeletion.name",defaultMessage:"Subscription Deletion"}),count:a.subscriptionDeletion.length},{icon:He.A,path:"/tasks/subscription-update",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.subscriptionUpdate.name",defaultMessage:"Subscription Update"}),count:a.subscriptionUpdate.length},{icon:Ze.A,path:"/tasks/application-registration",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.applicationRegistration.name",defaultMessage:"Application Registration"}),count:a.registration.length},{icon:Y.A,path:"/tasks/api-state-change",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.apiStateChange.name",defaultMessage:"API State Change"}),count:a.stateChange.length},{icon:Y.A,path:"/tasks/api-product-state-change",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.apiProductStateChange.name",defaultMessage:"API Product State Change"}),count:a.productStateChange.length},{icon:Y.A,path:"/tasks/api-revision-deploy",name:e.formatMessage({id:"Dashboard.tasksWorkflow.compactTasks.apiRevisionDeployment.name",defaultMessage:"API Revision Deployment"}),count:a.revisionDeployment.length}];return n.createElement(ne.A,{sx:{minWidth:275,minHeight:270,textAlign:"left"}},n.createElement(re.A,null,n.createElement(w.A,{display:"flex"},n.createElement(w.A,{flexGrow:1},n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},n.createElement(b.A,{id:"Dashboard.tasksWorkflow.compactTasks.card.title",defaultMessage:"Pending tasks"}))),n.createElement(w.A,null,n.createElement(E.A,{sx:{fontSize:20,fontWeight:"fontWeightBold"},gutterBottom:!0},i()))),n.createElement(ie.A,{sx:{opacity:.2}}),n.createElement(w.A,{display:"flex",flexWrap:"wrap",mt:2,bgcolor:"background.paper"},t.map((e=>{return t=e.icon,a=e.path,r=e.name,i=e.count,n.createElement(w.A,{alignItems:"center",display:"flex",width:"50%",my:"1%"},n.createElement(w.A,{mx:1},n.createElement(U.A,null,n.createElement(t,{fontSize:"inherit"}))),n.createElement(w.A,{flexGrow:1},n.createElement(qe.A,{component:M.N_,to:a,color:"inherit",underline:"hover"},n.createElement(E.A,null,r)),n.createElement(E.A,{variant:"body2",gutterBottom:!0},i+" ",1===i?n.createElement(b.A,{id:"Dashboard.tasksWorkflow.compactTasks.card.numberOfPendingTasks.postFix.singular",defaultMessage:" Pending task"}):n.createElement(b.A,{id:"Dashboard.tasksWorkflow.compactTasks.card.numberOfPendingTasks.postFix.plural",defaultMessage:" Pending tasks"}))));var t,a,r,i})))))})():o}function Xe(){const{user:{_scopes:e}}=Ve(),t=(0,_.A)(),a=e.includes("apim:api_workflow_view"),r=e.includes("apim:admin_tier_view"),i=e.includes("apim:api_category");return n.createElement(ae,{width:"full",title:t.formatMessage({id:"Dashboard.header.title",defaultMessage:"Dashboard"}),pageStyle:"paperLess"},n.createElement(v.Ay,{container:!0,spacing:3,justifyContent:"center"},r&&n.createElement(v.Ay,{item:!0,xs:11,md:6},n.createElement(Fe,null)),i&&n.createElement(v.Ay,{item:!0,xs:11,md:6},n.createElement(je,null)),a&&n.createElement(v.Ay,{item:!0,xs:11,md:6},n.createElement(Ye,null))))}var Qe=a(49799),Je=a(44635),$e=a(57873),et=a(82241),tt=a(12055),at=a(52162),nt=a(56655);function rt(e){let{children:t}=e;const[a,r]=n.useState(null),i=(0,_.A)(),o=Boolean(a),l=o?"simple-popover":void 0;return n.createElement("div",null,n.createElement(nt.A,{title:i.formatMessage({id:"Admin.Addons.Help.Base.title",defaultMessage:"Help"})},n.createElement(V.A,{color:"inherit",onClick:e=>{r(e.currentTarget)},size:"large"},n.createElement(at.default,null))),n.createElement(tt.Ay,{id:l,open:o,anchorEl:a,onClose:()=>{r(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},t))}rt.propTypes={children:i().element.isRequired};const it=rt;var ot=a(89828),lt=a(1043),st=a(64745),ct=a(42702),dt=a(56826),mt=a(32413),ut=a(73357);const pt=(0,k.Ay)("div")((()=>({})));function gt(e){const{message:t}=e;return n.createElement(pt,{sx:{display:"flex","& > * + *":{marginLeft:2},justifyContent:"center",padding:20}},n.createElement(ut.A,null),n.createElement(E.A,{color:"textSecondary",align:"center"},t||n.createElement(b.A,{id:"AdminPages.Addons.InlineProgress.message",defaultMessage:"Loading..."})))}gt.defaultProps={message:null},gt.propTypes={message:i().string};const ft=gt;var At=a(28597),yt=a(36632);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},bt.apply(null,arguments)}function vt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Pt(e){const{EditComponent:t,editComponentProps:a,DeleteComponent:r,showActionColumn:i,columProps:o,pageProps:l,addButtonProps:s,addButtonOverride:c,searchProps:{active:d,searchPlaceholder:m},apiCall:u,initialData:p,emptyBoxProps:{title:g,content:f},noDataMessage:A,addedActions:y,enableCollapsable:h,renderExpandableRow:P,useContentBase:w}=e,[C,T]=(0,n.useState)(""),[S,I]=(0,n.useState)(p||null),[x,R]=(0,n.useState)(null),k=(0,_.A)(),O=()=>{p?I(p):(I(null),u&&u().then((e=>{e?(I(e),R(null)):R(k.formatMessage({id:"AdminPages.Addons.ListBase.noDataError",defaultMessage:"Error while retrieving data."}))})).catch((e=>{R(e.message)})),T(""))};(0,n.useEffect)((()=>{p||O()}),[]),(0,n.useEffect)((()=>{I(p)}),[p]),(0,n.useLayoutEffect)((()=>{let e;const t=document.getElementsByClassName("MuiTableSortLabel-root"),a=document.getElementsByClassName("MuiTable-root");for(e=0;e<t.length;e++)t[e].setAttribute("aria-label","sort-icon-button-".concat(e));a.length>1&&a[1].setAttribute("role","presentation")}));let D=[];o&&(D=vt(o)),i&&D.push({name:"",label:n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.actions.label",defaultMessage:"Actions"}),options:{filter:!1,sort:!1,customBodyRender:(e,i)=>{const o=S[i.rowIndex],l="object"==typeof i.rowData?i.rowData[0]:"";if(a&&a.routeTo){if("object"==typeof i.rowData){const e=i.rowData[i.rowData.length-2],t="AI API Quota"===i.rowData[1];return n.createElement("div",{style:{display:"flex",gap:"4px"},"data-testid":"".concat(l,"-actions")},n.createElement(M.N_,{to:{pathname:a.routeTo+e,state:{isAI:t}}},o.isReadOnly?n.createElement(V.A,{color:"primary",component:"span",size:"large",disabled:!0},n.createElement(At.A,{"aria-label":"edit-policies+".concat(e)})):n.createElement(V.A,{color:"primary",component:"span",size:"large"},n.createElement(At.A,{"aria-label":"edit-policies+".concat(e)}))),r&&n.createElement(r,{dataRow:o,updateList:O}),y&&y.map((e=>{const t=e;return n.createElement(t,{rowData:i.rowData,updateList:O})})))}return n.createElement("div",null)}return n.createElement("div",{style:{display:"flex",gap:"4px"},"data-testid":"".concat(l,"-actions")},t&&n.createElement(t,bt({dataRow:o,updateList:O},a)),r&&n.createElement(r,{dataRow:o,updateList:O}),y&&y.map((e=>{const t=e;return n.createElement(t,{rowData:i.rowData,updateList:O})})))},setCellProps:()=>({style:{width:150}})}});const L=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:C,rowsPerPageOptions:[5,10,25,50,100],onColumnSortChange:(e,t)=>{const a=vt(S).sort(((e,t,a)=>{const n=t=>t[e];return t=t?-1:1,(e,a)=>{const r=n(e),i=n(a);return t*((r>i)-(i>r))}})(e,"descending"===t));I(a)},textLabels:{body:{noMatch:k.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:k.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:k.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}},expandableRows:h,renderExpandableRow:P},e.options);if(!u&&(void 0===p||0===(null==p?void 0:p.length))||S&&0===S.length){const e=n.createElement(ne.A,null,n.createElement(re.A,null,g,f),n.createElement(dt.A,null,c||t&&n.createElement(t,bt({updateList:O},s))));return w?n.createElement(ae,bt({},l,{pageStyle:"small"}),e):e}if(!x&&u&&!S||!u&&null===p){const e=n.createElement(ft,null);return w?n.createElement(ae,{pageStyle:"paperLess"},e):e}if(x){const e=n.createElement(yt.A,{severity:"error"},x);return w?n.createElement(ae,l,e):e}const N=n.createElement(n.Fragment,null,(d||s)&&n.createElement(ot.A,{sx:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},d&&n.createElement(st.default,{sx:{display:"block"},color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},d&&n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:m,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},inputProps:{"aria-label":"search-by-policy"},onChange:e=>{T(e.target.value)},value:C})),n.createElement(v.Ay,{item:!0},c||t&&n.createElement(t,bt({updateList:O},s)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:O,size:"large"},n.createElement(ct.A,{"aria-label":"refresh-advanced-policies",sx:{display:"block"},color:"inherit"}))))))),n.createElement("div",null,S&&S.length>0&&n.createElement(mt.Ay,{title:null,data:S,columns:D,options:L})),S&&0===S.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},A)));return w?n.createElement(ae,l,N):N}Pt.defaultProps={addButtonProps:{},addButtonOverride:null,searchProps:{searchPlaceholder:"",active:!0},actionColumnProps:{editIconShow:!0,editIconOverride:null,deleteIconShow:!0},addedActions:null,noDataMessage:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),showActionColumn:!0,apiCall:null,initialData:null,EditComponent:null,DeleteComponent:null,editComponentProps:{},columProps:null,enableCollapsable:!1,renderExpandableRow:null,useContentBase:!0,options:{}},Pt.propTypes={EditComponent:i().element,editComponentProps:i().shape({}),DeleteComponent:i().element,showActionColumn:i().bool,columProps:i().element,pageProps:i().shape({}).isRequired,addButtonProps:i().shape({}),searchProps:i().shape({searchPlaceholder:i().string.isRequired,active:i().bool.isRequired}),apiCall:i().func,initialData:i().shape([]),emptyBoxProps:i().shape({title:i().element.isRequired,content:i().element.isRequired}).isRequired,actionColumnProps:i().shape({editIconShow:i().bool,editIconOverride:i().element,deleteIconShow:i().bool}),noDataMessage:i().element,addButtonOverride:i().element,addedActions:i().shape([]),enableCollapsable:i().bool,renderExpandableRow:i().func,useContentBase:i().bool,options:i().shape({})};const wt=Pt;var Ct=a(58071),Tt=a(77867),St=a(77037),It=a(58763),xt=a(22477),Rt=a(46831);function kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ot(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Dt={info:L.Ay,success:L.Ay.success,error:L.Ay.error,warning:(e,t)=>(0,L.Ay)(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(a),!0).forEach((function(t){Ot(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({style:{background:"#ffd891"},icon:n.createElement("span",{style:{fontSize:"21px",color:"#c17e03",fontWeight:"bold"}},"⚠")},t)),loading:L.Ay.promise};function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Lt.apply(null,arguments)}function Nt(e){let{title:t,children:a,icon:r,triggerButtonText:i,saveButtonText:o,triggerButtonProps:l,formSaveCallback:s,dialogOpenCallback:c,triggerIconProps:d,saveButtonDisabled:m}=e;const[u,p]=n.useState(!1),[g,f]=(0,n.useState)(!1),A=()=>{c(),p(!0)},y=()=>{p(!1)};return n.createElement(n.Fragment,null,r&&n.createElement(V.A,Lt({},d,{onClick:A,size:"large"}),r),i&&n.createElement(P.A,Lt({},l,{onClick:A,"data-testid":"form-dialog-base-trigger-btn"}),i),n.createElement(St.A,{open:u,onClose:y,"aria-labelledby":"form-dialog-title"},n.createElement(Rt.A,{id:"form-dialog-title"},t),n.createElement(xt.A,null,a),n.createElement(It.A,null,n.createElement(P.A,{onClick:y},n.createElement(b.A,{id:"Form.Dialog.Base.cancel.btn",defaultMessage:"Cancel"})),n.createElement(P.A,{onClick:()=>{const e=s();"function"==typeof e?e(p):e&&(f(!0),e.then((e=>{e&&Dt.success(e)})).catch((e=>{Dt.error(e)})).finally((()=>{f(!1),y()})))},color:"primary",variant:"contained",disabled:g||m,"data-testid":"form-dialog-base-save-btn"},g?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,o)))))}Nt.defaultProps={dialogOpenCallback:()=>{},triggerButtonProps:{variant:"contained",color:"primary"},triggerIconProps:{color:"primary",component:"span"},saveButtonDisabled:!1},Nt.propTypes={title:i().string.isRequired,children:i().element.isRequired,icon:i().element.isRequired,triggerButtonText:i().oneOfType([i().element.isRequired,i().string.isRequired]).isRequired,saveButtonText:i().oneOfType([i().string.isRequired,i().element.isRequired]).isRequired,triggerButtonProps:i().shape({}),triggerIconProps:i().shape({}),formSaveCallback:i().func.isRequired,dialogOpenCallback:i().func,saveButtonDisabled:i().bool};const Bt=Nt;var jt=a(45359),qt=a(41340),Wt=a(1775),zt=a(53215),Gt=a(27967),Ut=a(17681),Vt=a(39473),Kt=a.n(Vt);function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(a),!0).forEach((function(t){Ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ht(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Zt={quotaHeading:{marginTop:3,marginBottom:2},unitTime:{display:"flex",minWidth:60},unitTimeSelection:{marginTop:1,marginLeft:2,minWidth:140}};function Yt(e,t){let{field:a,value:n}=t;switch(a){case"policyName":return _t(_t({},e),{},{[a]:n});case"description":return _t(_t({},e),{},{[a]:n});case"requestCount":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"timeUnit":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"unitTime":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"type":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"dataAmount":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"dataUnit":return _t(_t({},e),{},{defaultLimit:_t(_t({},e.defaultLimit),{},{[a]:n})});case"editDetails":return n;case"rateLimitCount":return _t(_t({},e),{},{burstLimit:_t(_t({},e.burstLimit),{},{[a]:n})});case"rateLimitTimeUnit":return _t(_t({},e),{},{burstLimit:_t(_t({},e.burstLimit),{},{[a]:n})});default:return e}}function Xt(e){const t=(0,_.A)(),{updateList:a,icon:r,triggerButtonText:i,title:o,dataRow:l}=e,[s,c]=(0,n.useState)({policyName:"",description:"",defaultLimit:{requestCount:"",timeUnit:"min",unitTime:"",type:"REQUESTCOUNTLIMIT",dataAmount:"",dataUnit:"KB"},burstLimit:{rateLimitCount:"",rateLimitTimeUnit:"sec"}}),[d,m]=(0,n.useReducer)(Yt,s),{policyName:u,description:p,defaultLimit:{requestCount:g,timeUnit:f,unitTime:A,type:y,dataAmount:h,dataUnit:M},burstLimit:{rateLimitCount:P,rateLimitTimeUnit:w}}=d,[C,T]=(0,n.useState)([]),[S,I]=(0,n.useState)(!1),x=new Be;(0,n.useEffect)((()=>{c({policyName:"",description:"",defaultLimit:{requestCount:"",timeUnit:"min",unitTime:"",type:"REQUESTCOUNTLIMIT",dataAmount:"",dataUnit:"KB"},burstLimit:{rateLimitCount:"",rateLimitTimeUnit:"sec"}})}),[]);const R=(e,a)=>{let n="";const r=Kt().string().regex(/^[^~!@#;:%^*()+={}|\\<>"',&$\s+]*$/);switch(e){case"policyName":n=""===a?t.formatMessage({id:"Throttling.Application.Policy.policy.name.empty",defaultMessage:"Name is Empty"}):-1!==a.indexOf(" ")?t.formatMessage({id:"Throttling.Application.Policy.policy.name.space",defaultMessage:"Name contains spaces"}):a.length>60?t.formatMessage({id:"Throttling.Application.Policy.policy.name.too.long",defaultMessage:"Application policy name is too long"}):r.validate(a).error?t.formatMessage({id:"Throttling.Application.Policy.policy.name.invalid.character",defaultMessage:"Name contains one or more illegal characters"}):"",T({policyName:n});break;case"requestCount":n=""===a?t.formatMessage({id:"Throttling.Application.Policy.policy.request.count.empty",defaultMessage:"Request Count is Empty"}):"",T({requestCount:n});break;case"dataAmount":n=""===a?t.formatMessage({id:"Throttling.Application.Policy.policy.data.amount.empty",defaultMessage:"Data Amount is Empty"}):"",T({dataAmount:n});break;case"unitTime":n=""===a?t.formatMessage({id:"Throttling.Application.Policy.policy.unit.time.empty",defaultMessage:"Unit Time is Empty"}):parseInt(a,10)<=0?t.formatMessage({id:"Throttling.Application.Policy.policy.unit.time.negative",defaultMessage:"Invalid Time Value"}):"",T({unitTime:n})}return n},k=e=>{m({field:e.target.name,value:e.target.value})},O=e=>{const{name:t,value:a}=e.target;(""===a||Number(a)>=0)&&m({field:t,value:a})};return n.createElement(Bt,{title:o,saveButtonText:t.formatMessage({id:"Admin.Throttling.Application.Throttling.Policy.add.save.btn",defaultMessage:"Save"}),icon:r,triggerButtonText:i,formSaveCallback:()=>{const e=(()=>{let e="";const t=R("policyName",u),a=R("requestCount",g),n=R("dataAmount",h),r=R("unitTime",A);return e+="BANDWIDTHLIMIT"===y?t+n+r:t+a+r,e})();if(""!==e)return Dt.error(e),!1;let n,r;if(n="REQUESTCOUNTLIMIT"===y?{policyName:d.policyName,description:d.description,defaultLimit:{type:d.defaultLimit.type,requestCount:{requestCount:d.defaultLimit.requestCount,timeUnit:d.defaultLimit.timeUnit,unitTime:d.defaultLimit.unitTime}},burstLimit:{rateLimitCount:d.burstLimit.rateLimitCount,rateLimitTimeUnit:d.burstLimit.rateLimitTimeUnit}}:{policyName:d.policyName,description:d.description,defaultLimit:{type:d.defaultLimit.type,bandwidth:{dataAmount:d.defaultLimit.dataAmount,dataUnit:d.defaultLimit.dataUnit,timeUnit:d.defaultLimit.timeUnit,unitTime:d.defaultLimit.unitTime}},burstLimit:{rateLimitCount:d.burstLimit.rateLimitCount,rateLimitTimeUnit:d.burstLimit.rateLimitTimeUnit}},n.burstLimit.rateLimitCount||(n.burstLimit=null),l){const e=l[4];return r=x.updateApplicationThrottlingPolicy(e,n),r.then((()=>t.formatMessage({id:"Throttling.Application.Policy.policy.edit.success",defaultMessage:"Application Rate Limiting Policy edited successfully."}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null})).finally((()=>{a()}))}return r=x.addApplicationThrottlingPolicy(n),r.then((()=>t.formatMessage({id:"Throttling.Application.Policy.policy.add.success",defaultMessage:"Application Rate Limiting Policy added successfully."}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null})).finally((()=>{a()}))},dialogOpenCallback:()=>{if(l){I(!0);const e=l[4];let t;x.applicationThrottlingPolicyGet(e).then((e=>{t=null!==e.body.defaultLimit.requestCount?{policyName:e.body.policyName,description:e.body.description,defaultLimit:{requestCount:e.body.defaultLimit.requestCount.requestCount,timeUnit:e.body.defaultLimit.requestCount.timeUnit,unitTime:e.body.defaultLimit.requestCount.unitTime,type:e.body.defaultLimit.type,dataAmount:"",dataUnit:"KB"},burstLimit:{rateLimitCount:e.body.burstLimit.rateLimitCount,rateLimitTimeUnit:0===e.body.burstLimit.rateLimitCount?"sec":e.body.burstLimit.rateLimitTimeUnit}}:{policyName:e.body.policyName,description:e.body.description,defaultLimit:{requestCount:"",timeUnit:e.body.defaultLimit.bandwidth.timeUnit,unitTime:e.body.defaultLimit.bandwidth.unitTime,type:e.body.defaultLimit.type,dataAmount:e.body.defaultLimit.bandwidth.dataAmount,dataUnit:e.body.defaultLimit.bandwidth.dataUnit},burstLimit:{rateLimitCount:e.body.burstLimit.rateLimitCount,rateLimitTimeUnit:0===e.body.burstLimit.rateLimitCount?"sec":e.body.burstLimit.rateLimitTimeUnit}},m({field:"editDetails",value:t})}))}}},n.createElement(Tt.A,null,n.createElement(E.A,{variant:"h6"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.general.details",defaultMessage:"General Details"}))),n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"policyName",label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.form.policyName",defaultMessage:"Name"}),fullWidth:!0,required:!0,variant:"outlined",value:u,disabled:S,onChange:k,InputProps:{id:"policyName",onBlur:e=>{let{target:{value:t}}=e;R("policyName",t)}},error:C.policyName,helperText:C.policyName?C.policyName:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.name.helper.text",defaultMessage:"Name of the throttle policy"})}),n.createElement(lt.A,{margin:"dense",name:"description",label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.form.description",defaultMessage:"Description"}),fullWidth:!0,variant:"outlined",helperText:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.description.helper.text",defaultMessage:"Description of the throttle policy"}),value:p,onChange:k}),n.createElement(Tt.A,null,n.createElement(E.A,{variant:"h6",sx:Zt.quotaHeading},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.quota.limits.details",defaultMessage:"Quota Limits"}))),n.createElement(jt.A,{variant:"outlined",component:"fieldset"},n.createElement(qt.A,{row:!0,"aria-label":"position",defaultValue:"top",name:"type",onChange:k,value:y},n.createElement(Wt.A,{value:"REQUESTCOUNTLIMIT",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.option.request.count.label",defaultMessage:"Request Count "}),labelPlacement:"end"}),n.createElement(Wt.A,{value:"BANDWIDTHLIMIT",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.option.request.bandwidth.label",defaultMessage:"Request Bandwidth"}),labelPlacement:"end"})),"REQUESTCOUNTLIMIT"===y?n.createElement(lt.A,{margin:"dense",name:"requestCount",label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.option.request.count.label",defaultMessage:"Request Count"}),fullWidth:!0,value:g,type:"number",onChange:O,variant:"outlined",required:!0,InputProps:{id:"requestCount",onBlur:e=>{let{target:{value:t}}=e;R("requestCount",t)}},error:C.requestCount,helperText:C.requestCount?C.requestCount:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.request.count.helper.text",defaultMessage:"Number of requests allowed"})}):n.createElement(v.Ay,{sx:Zt.unitTime},n.createElement(lt.A,{margin:"dense",name:"dataAmount",label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.option.data.bandwidth.label",defaultMessage:"Data Bandwith"}),fullWidth:!0,required:!0,type:"number",variant:"outlined",value:h,onChange:O,InputProps:{id:"dataAmount",onBlur:e=>{let{target:{value:t}}=e;R("dataAmount",t)}},error:C.dataAmount,helperText:C.dataAmount?C.dataAmount:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.data.amount.helper.text",defaultMessage:"Bandwidth allowed"})}),n.createElement(jt.A,{variant:"outlined",sx:Zt.unitTimeSelection},n.createElement(Gt.A,{variant:"outlined",labelId:"demo-simple-select-label",name:"dataUnit",value:M,onChange:k},n.createElement(Ut.A,{value:"KB"},"KB"),n.createElement(Ut.A,{value:"MB"},"MB")))),n.createElement(v.Ay,{sx:Zt.unitTime},n.createElement(lt.A,{margin:"dense",name:"unitTime",label:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.option.request.unit.time.label",defaultMessage:"Unit Time"}),type:"number",fullWidth:!0,variant:"outlined",value:A,onChange:k,InputProps:{id:"unitTime",onBlur:e=>{let{target:{value:t}}=e;R("unitTime",t)}},error:C.unitTime,helperText:C.unitTime?C.unitTime:n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.helper.text",defaultMessage:"Time configuration"})}),n.createElement(jt.A,{variant:"outlined",sx:Zt.unitTimeSelection},n.createElement(Gt.A,{variant:"outlined",labelId:"demo-simple-select-label",name:"timeUnit",value:f,onChange:k,fullWidth:!0},n.createElement(Ut.A,{value:"min"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.minutes",defaultMessage:"Minute(s)"})),n.createElement(Ut.A,{value:"hour"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.hours",defaultMessage:"Hour(s)"})),n.createElement(Ut.A,{value:"day"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.days",defaultMessage:"Day(s)"})),n.createElement(Ut.A,{value:"week"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.weeks",defaultMessage:"Week(s)"})),n.createElement(Ut.A,{value:"month"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.months",defaultMessage:"Month(s)"})),n.createElement(Ut.A,{value:"year"},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.time.years",defaultMessage:"Year(s)"})))))),n.createElement(Tt.A,null,n.createElement(E.A,{variant:"h6",sx:Zt.quotaHeading},n.createElement(b.A,{id:"Admin.Throttling.Application.Throttling.Policy.add.burst.limits.details",defaultMessage:"Burst Control (Rate Limiting)"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Admin.Throttling.Application.AddEdit.burst.control.add.description",defaultMessage:"Define Burst Control Limits (optional)"}))),n.createElement(v.Ay,{sx:Zt.unitTime},n.createElement(lt.A,{margin:"dense",name:"rateLimitCount",value:P,type:"number",onChange:O,label:n.createElement(b.A,{id:"Throttling.Application.AddEdit.form.request.rate",defaultMessage:"Request Rate"}),fullWidth:!0,helperText:t.formatMessage({id:"Throttling.Application.AddEdit.burst.control.limit",defaultMessage:"Number of requests for burst control"}),variant:"outlined"}),n.createElement(jt.A,{variant:"outlined",sx:Zt.unitTimeSelection},n.createElement(Gt.A,{variant:"outlined",name:"rateLimitTimeUnit",value:w,fullWidth:!0,onChange:k},n.createElement(Ut.A,{value:"sec"},n.createElement(b.A,{id:"Throttling.Application.AddEdit.burst.rate.limit.seconds",defaultMessage:"Requests/sec"})),n.createElement(Ut.A,{value:"min"},n.createElement(b.A,{id:"Throttling.Application.AddEdit.burst.rate.limit.min",defaultMessage:"Requests/min"}))))))}Xt.defaultProps={icon:null,dataRow:null},Xt.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,label:i().string.isRequired}),icon:i().element,triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired};const Qt=Xt;var Jt=a(32987);function $t(e){const t=new Be,a=(0,_.A)(),{dataRow:r,updateList:i}=e;return n.createElement(Bt,{title:a.formatMessage({id:"Throttling.Application.Policy.policy.dialog.delete.title",defaultMessage:"Delete Application Policy?"}),saveButtonText:a.formatMessage({id:"Throttling.Application.Policy.policy.dialog.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"delete-application-policies"}),formSaveCallback:()=>{const e=r[4];return t.deleteApplicationThrottlingPolicy(e).then((()=>(i(),a.formatMessage({id:"Throttling.Application.Policy.policy.delete.success",defaultMessage:"Application Rate Limiting Policy successfully deleted."})))).catch((()=>(Dt.error(a.formatMessage({id:"Throttling.Application.Policy.policy.delete.error",defaultMessage:"Application Rate Limiting Policy could not be deleted."})),!1)))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Application.Policy.policy.dialog.delete.error",defaultMessage:"Application Rate Limiting Policy will be deleted."})))}$t.propTypes={updateList:i().number.isRequired,selectedPolicyName:i().shape({name:i().number.isRequired}).isRequired,dataRow:i().shape({policyId:i().number.isRequired}).isRequired};const ea=$t;function ta(){const e=(0,_.A)(),t=new Be,a={triggerButtonText:e.formatMessage({id:"Throttling.Application.Policy.List.addButtonProps.triggerButtonText",defaultMessage:"Add Policy"}),title:e.formatMessage({id:"Throttling.Application.Policy.List.addButtonProps.title",defaultMessage:"Add Policy"})},r={searchPlaceholder:e.formatMessage({id:"Throttling.Application.Policy..List.search.default",defaultMessage:"Search by Application Policy name"}),active:!0},i={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/adding-new-throttling-policies/#adding-a-new-application-level-throttling-tier",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Application.Policy.List.help.link.one",defaultMessage:"Create an Application Rate Limiting Policy"})}))),n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/setting-throttling-limits/#application-level-throttling-application-developer",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Application.Policy.List.help.link.two",defaultMessage:"Setting an Application Rate Limiting Policy"})}))))),pageStyle:"half",title:e.formatMessage({id:"Throttling.Application.Policy.search.default",defaultMessage:"Application Rate Limiting Policies"}),EditTitle:e.formatMessage({id:"Throttling.Application.Policy.search.default",defaultMessage:"Application Rate Limiting Policies"})},o=[{name:"name",label:e.formatMessage({id:"Admin.Throttling.Application.Throttling.policy.table.header.name",defaultMessage:"Name"}),options:{filter:!0,sort:!0}},{name:"quota",label:e.formatMessage({id:"Admin.Throttling.Application.Throttling.policy.table.header.quota",defaultMessage:"Quota"}),options:{filter:!0,sort:!1}},{name:"unitTime",label:e.formatMessage({id:"Admin.Throttling.Application.Throttling.policy.table.header.unit.time",defaultMessage:"Unit Time"}),options:{filter:!0,sort:!1}}],l={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Throttling.Application.Policy.List.empty.content.application.policies",defaultMessage:"Application-level throttling policies are applicable per access token generated for an application."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Throttling.Application.Policy.List.empty.title.application.policies",defaultMessage:"Application Policies"}))};return n.createElement(wt,{columProps:o,pageProps:i,addButtonProps:a,searchProps:r,emptyBoxProps:l,apiCall:function(){let e;return t.applicationThrottlingPoliciesGet().then((t=>{const a=t.body.list.map((e=>null!==e.defaultLimit.requestCount?{policyName:e.policyName,quota:e.defaultLimit.requestCount.requestCount,unitTime:e.defaultLimit.requestCount.unitTime+" "+e.defaultLimit.requestCount.timeUnit,quotaPolicy:e.defaultLimit.requestCount.type,policyId:e.policyId}:{policyName:e.policyName,quota:e.defaultLimit.bandwidth.dataAmount+" "+e.defaultLimit.bandwidth.dataUnit,unitTime:e.defaultLimit.bandwidth.unitTime+" "+e.defaultLimit.bandwidth.timeUnit,quotaPolicy:e.defaultLimit.bandwidth.type,policyId:e.policyId}));return e=a.filter((e=>"Unlimited"!==e.policyName)).map((e=>Object.values(e))),e})).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null}))},editComponentProps:{icon:n.createElement(At.A,{"aria-label":"edit-application-policies"}),title:"Edit Application Policy"},DeleteComponent:ea,EditComponent:Qt})}function aa(e){const t=new Be,{dataRow:a,updateList:r}=e,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"Throttling.Subscription.Policy.policy.delete.title",defaultMessage:"Delete Subscription Policy?"}),saveButtonText:i.formatMessage({id:"Throttling.Subscription.Policy.policy.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"delete-subscription-policies"}),formSaveCallback:()=>{const e=a[9];return t.deleteSubscriptionPolicy(e).then((()=>(r(),i.formatMessage({id:"Throttling.Subscription.Policy.policy.delete.success",defaultMessage:"Subscription Rate Limiting Policy successfully deleted."})))).catch((()=>(Dt.error(i.formatMessage({id:"Throttling.Subscription.Policy.policy.delete.error",defaultMessage:"Subscription Rate Limiting Policy could not be deleted."})),!1)))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Subscription.Policy.policy.dialog.delete.error",defaultMessage:"Subscription Rate Limiting Policy will be deleted."})))}aa.defaultProps={dataRow:null},aa.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,label:i().string.isRequired})};const na=aa;var ra=a(8295),ia=a(94405),oa=a(23049),la=a(70691),sa=a(61523),ca=a(53723),da=a(36575),ma=a(10885);function ua(){const e=(0,_.A)(),t=new Be,[a,r]=(0,n.useState)(null),i=()=>{r(null)},o={searchPlaceholder:e.formatMessage({id:"Throttling.Subscription.Policy..List.search.default",defaultMessage:"Search by Subscription Policy name"}),active:!0},l={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/adding-new-throttling-policies/#adding-a-new-subscription-level-throttling-tier",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Subscription.Policy.List.help.link.one",defaultMessage:"Creating a Subscription Rate Limiting Policy"})}))),n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/setting-throttling-limits/#subscription-level-throttling-api-publisher",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Subscription.Policy.List.help.link.two",defaultMessage:"Setting a Subscription Rate Limiting Policy as an API Publisher"})}))),n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/setting-throttling-limits/#subscription-level-throttling-api-subscriber",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Subscription.Policy.List.help.link.three",defaultMessage:"Setting a Subscription Rate Limiting Policy as an API Subscriber"})}))))),pageStyle:"half",title:e.formatMessage({id:"Throttling.Subscription.Policy.search.default",defaultMessage:"Subscription Rate Limiting Policies"}),EditTitle:e.formatMessage({id:"Throttling.Subscription.Policy.search.default",defaultMessage:"Subscription Rate Limiting Policies"})},s=[{name:"name",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.name",defaultMessage:"Name"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const a=t.rowData[t.rowData.length-2],r="AI API Quota"===t.rowData[1];return n.createElement(M.N_,{to:{pathname:"/throttling/subscription/".concat(a),state:{isAI:r}}},e)}return n.createElement("div",null)},filter:!1,sort:!0}},{name:"quotaPolicy",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.quota.policy",defaultMessage:"Quota Policy"}),options:{filter:!0,sort:!0}},{name:"quota",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.quota",defaultMessage:"Quota"}),options:{filter:!0,sort:!1,display:!1}},{name:"unitTime",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.unit.time",defaultMessage:"Unit Time"}),options:{filter:!0,sort:!1,display:!1}},{name:"rateLimit",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.rate.limit",defaultMessage:"Rate Limit"}),options:{filter:!0,sort:!1,display:!1}},{name:"timeUnit",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.time.unit",defaultMessage:"Time Unit"}),options:{filter:!0,sort:!1,display:!1}},{name:"totalTokenCount",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.total.token.count",defaultMessage:"Total Token Count"}),options:{display:!1}},{name:"promptTokenCount",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.prompt.token.count",defaultMessage:"Prompt Token Count"}),options:{display:!1}},{name:"completionTokenCount",label:e.formatMessage({id:"Admin.Throttling.Subscription.Throttling.policy.table.header.completion.token.count",defaultMessage:"Completion Token Count"}),options:{display:!1}},{name:"policyId",options:{display:!1}}],c={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Throttling.Subsription.Policy.List.empty.content.subscription.policies",defaultMessage:"Subscription-level throttling policies are applicable per access token generated for an application."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Throttling.Subscription.Policy.List.empty.title.subscription.policies",defaultMessage:"Subscription Policies"}))},d=n.createElement(n.Fragment,null,n.createElement(P.A,{variant:"contained",color:"primary",endIcon:n.createElement(ma.A,null),onClick:e=>{r(e.currentTarget)},"data-testid":"throttling-subscription-add-button"},n.createElement(b.A,{id:"Throttling.Subscription.Policy.List.addButtonProps.title",defaultMessage:"Add Policy"})),n.createElement(ia.A,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:()=>{r(null)}},n.createElement(Ut.A,{onClick:()=>i(),component:M.N_,to:{pathname:"/throttling/subscription/add",state:{isAI:!1}},"data-testid":"throttling-subscription-add-policy-menu-item"},"Add Policy"),n.createElement(Ut.A,{onClick:()=>i(),component:M.N_,to:{pathname:"/throttling/subscription/add",state:{isAI:!0}},"data-testid":"throttling-subscription-add-ai-policy-menu-item"},"Add AI Policy")));return n.createElement(wt,{columProps:s,pageProps:l,addButtonOverride:d,searchProps:o,emptyBoxProps:c,apiCall:function(){let e;return t.getSubscritionPolicyList().then((t=>{const a=t.body.list.map((e=>null!==e.defaultLimit.requestCount?{policyName:e.policyName,quotaPolicy:"Request Count",quota:e.defaultLimit.requestCount.requestCount,unitTime:e.defaultLimit.requestCount.unitTime+" "+e.defaultLimit.requestCount.timeUnit,rateLimit:0===e.rateLimitCount?"NA":e.rateLimitCount,timeUnit:0===e.rateLimitCount?"NA":e.rateLimitTimeUnit,totalTokenCount:"NA",promptTokenCount:"NA",completionTokenCount:"NA",policyId:e.policyId}:null!==e.defaultLimit.bandwidth?{policyName:e.policyName,quotaPolicy:"Bandwidth Volume",quota:e.defaultLimit.bandwidth.dataAmount+" "+e.defaultLimit.bandwidth.dataUnit,unitTime:e.defaultLimit.bandwidth.unitTime+" "+e.defaultLimit.bandwidth.timeUnit,rateLimit:0===e.rateLimitCount?"NA":e.rateLimitCount,timeUnit:0===e.rateLimitCount?"NA":e.rateLimitTimeUnit,totalTokenCount:"NA",promptTokenCount:"NA",completionTokenCount:"NA",policyId:e.policyId}:null!==e.defaultLimit.aiApiQuota?{policyName:e.policyName,quotaPolicy:"AI API Quota",quota:e.defaultLimit.aiApiQuota.requestCount,unitTime:e.defaultLimit.aiApiQuota.unitTime+" "+e.defaultLimit.aiApiQuota.timeUnit,rateLimit:0===e.rateLimitCount?"NA":e.rateLimitCount,timeUnit:0===e.rateLimitCount?"NA":e.rateLimitTimeUnit,totalTokenCount:0===e.defaultLimit.aiApiQuota.totalTokenCount?"NA":e.defaultLimit.aiApiQuota.totalTokenCount,promptTokenCount:0===e.defaultLimit.aiApiQuota.promptTokenCount?"NA":e.defaultLimit.aiApiQuota.promptTokenCount,completionTokenCount:0===e.defaultLimit.aiApiQuota.completionTokenCount?"NA":e.defaultLimit.aiApiQuota.completionTokenCount,policyId:e.policyId}:{policyName:e.policyName,quotaPolicy:"Event Count",quota:e.defaultLimit.eventCount.eventCount,unitTime:e.defaultLimit.eventCount.unitTime+" "+e.defaultLimit.eventCount.timeUnit,rateLimit:0===e.rateLimitCount?"NA":e.rateLimitCount,timeUnit:0===e.rateLimitCount?"NA":e.rateLimitTimeUnit,totalTokenCount:"NA",promptTokenCount:"NA",completionTokenCount:"NA",policyId:e.policyId}));return e=a.filter((e=>!e.policyName.includes(ra.A.DEFAULT_SUBSCRIPTIONLESS_PLAN))).map(Object.values),e})).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null}))},editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Subscription Policy",routeTo:"/throttling/subscription/"},DeleteComponent:na,enableCollapsable:!0,renderExpandableRow:e=>{const t="AI API Quota"===e[1];return n.createElement(oa.A,null,n.createElement(la.A,{colSpan:1}),n.createElement(la.A,{colSpan:e.length},n.createElement(sa.A,null,n.createElement(ca.A,null,n.createElement(oa.A,null,t?n.createElement(n.Fragment,null,n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Request Count")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Total Token Count")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Prompt Token Count")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Completion Token Count")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Unit Time"))):n.createElement(n.Fragment,null,n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Quota")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Unit Time")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Rate Limit")),n.createElement(la.A,{sx:{borderBottom:"none"}},n.createElement("strong",null,"Time Unit"))))),n.createElement(da.A,null,n.createElement(oa.A,null,t?n.createElement(n.Fragment,null,n.createElement(la.A,{sx:{borderBottom:"none"}},e[2]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[6]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[7]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[8]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[3])):n.createElement(n.Fragment,null,n.createElement(la.A,{sx:{borderBottom:"none"}},e[2]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[3]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[4]),n.createElement(la.A,{sx:{borderBottom:"none"}},e[5])))))))}})}var pa=a(1405),ga=a(48716),fa=a(10170),Aa=a(74160),ya=a(84711),Ea=a.n(ya),ha=a(21447),ba=a(25239),va=a(41338);function Ma(e){return function(e){if(Array.isArray(e))return Pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pa(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pa(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(a),!0).forEach((function(t){Ta(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ta(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Sa=(0,k.Ay)(jt.A)({pt:1,pl:.5}),Ia=(0,k.Ay)("hr")({border:"solid 1px #efefef"});function xa(e,t){const{field:a,value:n}=t;switch(a){case"policyName":case"description":case"rateLimitCount":case"rateLimitTimeUnit":case"subscriberCount":case"billingPlan":case"stopOnQuotaReach":return Ca(Ca({},e),{},{[a]:n});case"type":case"dataUnit":case"requestCount":case"timeUnit":case"dataAmount":case"unitTime":case"eventCount":case"totalTokenCount":case"promptTokenCount":case"completionTokenCount":return Ca(Ca({},e),{},{defaultLimit:Ca(Ca({},e.defaultLimit),{},{[a]:n})});case"monetizationPlan":case"fixedPrice":case"pricePerRequest":case"currencyType":case"billingCycle":return Ca(Ca({},e),{},{monetization:Ca(Ca({},e.monetization),{},{[a]:n})});case"roles":case"permissionStatus":return Ca(Ca({},e),{},{permissions:Ca(Ca({},e.permissions),{},{[a]:n})});case"maxComplexity":case"maxDepth":return Ca(Ca({},e),{},{graphQL:Ca(Ca({},e.graphQL),{},{[a]:n})});case"editDetails":return n;default:return t}}function Ra(e){var t;const a=(0,_.A)(),[r,i]=(0,n.useState)(!1),{history:l,match:{params:s}}=e,c=new Be,d=null!==s.id&&void 0!==s.id,[m,u]=(0,n.useState)([]),[p,g]=(0,n.useState)([]),[f,A]=(0,n.useState)(!0),y=(null===(t=(0,o.zy)().state)||void 0===t?void 0:t.isAI)||!1,[h,C]=(0,n.useState)({policyName:"",description:"",defaultLimit:y?{requestCount:"",timeUnit:"min",unitTime:"",type:"AIAPIQUOTALIMIT",totalTokenCount:"",promptTokenCount:"",completionTokenCount:""}:{requestCount:"",timeUnit:"min",unitTime:"",type:"REQUESTCOUNTLIMIT",dataAmount:"",dataUnit:"KB",eventCount:""},rateLimitCount:"",rateLimitTimeUnit:"sec",billingPlan:"FREE",monetization:{monetizationPlan:"FIXEDRATE",fixedPrice:"",pricePerRequest:"",currencyType:"",billingCycle:"week"},customAttributes:[],stopOnQuotaReach:!0,permissions:{roles:[],permissionStatus:"NONE"},graphQL:{maxComplexity:"",maxDepth:""},subscriberCount:""}),[T,S]=(0,n.useState)([]),[I,x]=(0,n.useReducer)(xa,h);(0,n.useEffect)((()=>{d&&c.subscriptionThrottlingPolicyGet(s.id).then((e=>{let t="",a="",n="",r="",i="",o="min",l="",s="REQUESTCOUNTLIMIT",c="KB",d="";null!==e.body.defaultLimit.requestCount?(t=e.body.defaultLimit.requestCount.requestCount,o=e.body.defaultLimit.requestCount.timeUnit,l=e.body.defaultLimit.requestCount.unitTime,s=e.body.defaultLimit.type):null!==e.body.defaultLimit.aiApiQuota?(t=e.body.defaultLimit.aiApiQuota.requestCount,a=e.body.defaultLimit.aiApiQuota.totalTokenCount,n=e.body.defaultLimit.aiApiQuota.promptTokenCount,r=e.body.defaultLimit.aiApiQuota.completionTokenCount,o=e.body.defaultLimit.aiApiQuota.timeUnit,l=e.body.defaultLimit.aiApiQuota.unitTime,s=e.body.defaultLimit.type):null!=e.body.defaultLimit.bandwidth?(i=e.body.defaultLimit.bandwidth.dataAmount,c=e.body.defaultLimit.bandwidth.dataUnit,o=e.body.defaultLimit.bandwidth.timeUnit,l=e.body.defaultLimit.bandwidth.unitTime,s=e.body.defaultLimit.type):(d=e.body.defaultLimit.eventCount.eventCount,l=e.body.defaultLimit.eventCount.unitTime,o=e.body.defaultLimit.eventCount.timeUnit,s=e.body.defaultLimit.type),u(e.body.permissions&&e.body.permissions.roles?e.body.permissions.roles:[]);const p={policyName:e.body.policyName,description:e.body.description,defaultLimit:y?{requestCount:t,timeUnit:o,unitTime:l,type:s,totalTokenCount:a,promptTokenCount:n,completionTokenCount:r}:{requestCount:t,timeUnit:o,unitTime:l,type:s,dataAmount:i,dataUnit:c,eventCount:d},subscriberCount:0===e.body.subscriberCount?"":e.body.subscriberCount,rateLimitCount:0===e.body.rateLimitCount?"":e.body.rateLimitCount,rateLimitTimeUnit:0===e.body.rateLimitCount?"sec":e.body.rateLimitTimeUnit,billingPlan:e.body.billingPlan,monetization:{monetizationPlan:null!==e.body.monetization?e.body.monetization.monetizationPlan:"",fixedPrice:null!==e.body.monetization?e.body.monetization.properties.fixedPrice:"",pricePerRequest:null!==e.body.monetization?e.body.monetization.properties.pricePerRequest:"",currencyType:null!==e.body.monetization?e.body.monetization.properties.currencyType:"",billingCycle:null!==e.body.monetization?e.body.monetization.properties.billingCycle:""},customAttributes:S(e.body.customAttributes),stopOnQuotaReach:e.body.stopOnQuotaReach,permissions:null===e.body.permissions||"NONE"===e.body.permissions?{permissionStatus:"NONE"}:{permissionStatus:e.body.permissions.permissionType,roles:m},graphQL:{maxComplexity:0===e.body.graphQLMaxComplexity?"":e.body.graphQLMaxComplexity,maxDepth:0===e.body.graphQLMaxDepth?"":e.body.graphQLMaxDepth}};x({field:"editDetails",value:p})})),C({policyName:"",description:"",defaultLimit:y?{requestCount:"",timeUnit:"min",unitTime:"",type:"AIAPIQUOTALIMIT",totalTokenCount:"",promptTokenCount:"",completionTokenCount:""}:{requestCount:"",timeUnit:"min",unitTime:"",type:"REQUESTCOUNTLIMIT",dataAmount:"",dataUnit:"KB",eventCount:""},rateLimitCount:"",rateLimitTimeUnit:"sec",billingPlan:"FREE",monetization:{monetizationPlan:"FIXEDRATE",fixedPrice:"",pricePerRequest:"",currencyType:"",billingCycle:"week"},customAttributes:[],stopOnQuotaReach:!0,permissions:null,graphQL:{maxComplexity:"",maxDepth:""},subscriberCount:""})}),[]);const[R,k]=(0,n.useState)([]),O=(e,t)=>{let n="";const r=Kt().string().regex(/^[^~!@#;:%^*()+={}|\\<>"',&$\s+]*$/);switch(e){case"policyName":n=""===t?a.formatMessage({id:"Throttling.Subscription.Policy.policy.name.empty.error.msg",defaultMessage:"Name is Empty"}):-1!==t.indexOf(" ")?a.formatMessage({id:"Throttling.Subscription.Policy.policy.name.space.error.msg",defaultMessage:"Name contains spaces"}):t.length>60?a.formatMessage({id:"Throttling.Subscription.Policy.policy.name.too.long.error.msg",defaultMessage:"Subscription policy name is too long"}):r.validate(t).error?a.formatMessage({id:"Throttling.Subscription.Policy.policy.name.invalid.character.error.msg",defaultMessage:"Name contains one or more illegal characters"}):"",k({policyName:n});break;case"requestCount":n=""===t?a.formatMessage({id:"Throttling.Subscription.Policy.policy.request.count.empty.error.msg",defaultMessage:"Request Count is Empty"}):"",k({requestCount:n});break;case"eventCount":n=""===t?a.formatMessage({id:"Throttling.Subscription.Policy.policy.event.count.empty.error.msg",defaultMessage:"Event Count is Empty"}):"",k({eventCount:n});break;case"dataAmount":n=""===t?a.formatMessage({id:"Throttling.Subscription.Policy.policy.data.amount.empty.error.msg",defaultMessage:"Data Bandwidth amount is Empty"}):"",k({dataAmount:n});break;case"unitTime":n=""===t?a.formatMessage({id:"Throttling.Subscription.Policy.policy.unit.time.empty.error.msg",defaultMessage:"Unit Time is Empty"}):parseInt(t,10)<=0?a.formatMessage({id:"Throttling.Subscription.Policy.policy.unit.time.negative.error.msg",defaultMessage:"Invalid Time Value"}):"",k({unitTime:n})}return n},{policyName:D,description:L,defaultLimit:{requestCount:N,timeUnit:B,unitTime:j,type:q,dataAmount:W,dataUnit:z,eventCount:G,totalTokenCount:U,promptTokenCount:K,completionTokenCount:F},rateLimitCount:H,rateLimitTimeUnit:Z,billingPlan:Y,stopOnQuotaReach:X,monetization:{monetizationPlan:Q,fixedPrice:J,pricePerRequest:$,currencyType:ee,billingCycle:te},permissions:ne,graphQL:{maxComplexity:re,maxDepth:ie},subscriberCount:oe}=I;let le="";ne&&(le=I.permissions.permissionStatus);const se=e=>{x({field:e.target.name,value:e.target.value})},ce=e=>{const{name:t,value:a}=e.target;(""===a||Number(a)>=0)&&x({field:t,value:a})},de=e=>{const t=Ma(T),{id:a}=e.currentTarget;t.splice(a,1),S(t)},me=e=>{const{id:t,name:a,value:n}=e.target,r=Ma(T);r[t][a]=n,S(r)};let ue;return ue=y?d?a.formatMessage({id:"Throttling.Subscription.AddEdit.title.AIPolicy.edit",defaultMessage:"AI API Subscription Rate Limiting Policy - Edit"}):a.formatMessage({id:"Throttling.Subscription.AddEdit.title.AIPolicy.add",defaultMessage:"AI API Subscription Rate Limiting Policy - Create new"}):d?a.formatMessage({id:"Throttling.Subscription.AddEdit.title.edit",defaultMessage:"Subscription Rate Limiting Policy - Edit"}):a.formatMessage({id:"Throttling.Subscription.AddEdit.title.add",defaultMessage:"Subscription Rate Limiting Policy - Create new"}),n.createElement(ae,{pageStyle:"half",title:ue},n.createElement(w.A,{component:"div",m:2,sx:{mb:10}},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,null,n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.general.details.description",defaultMessage:"Provide the name and description of the subscription policy."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"policyName",value:D,disabled:d,onChange:se,InputProps:{id:"policyName",onBlur:e=>{let{target:{value:t}}=e;O("policyName",t)}},required:!0,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.policyName",defaultMessage:"Name"})),fullWidth:!0,error:R.policyName,helperText:R.policyName||a.formatMessage({id:"Throttling.Subscription.AddEdit.form.name.help",defaultMessage:"Name of the rate limiting policy"}),variant:"outlined"}),n.createElement(lt.A,{margin:"dense",name:"description",value:L,onChange:se,label:a.formatMessage({id:"Throttling.Subscription.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,multiline:!0,helperText:a.formatMessage({id:"Throttling.Subscription.AddEdit.form.description.help",defaultMessage:"Description of the rate limiting policy"}),variant:"outlined"}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.limits",defaultMessage:"Quota Limits"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},y?n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.limits.ai.description",defaultMessage:"Specify the quota limits for AI API Subscription policy."}):n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.policies.add.description",defaultMessage:"Request Count and Request Bandwidth are the two options for Quota Limit. You can use the option according to your requirement."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},y?null:n.createElement(qt.A,{"aria-label":"Quota Limits",name:"type",value:q,onChange:se,sx:{display:"flex",flexDirection:"row"}},n.createElement(Wt.A,{value:"REQUESTCOUNTLIMIT",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.policies.add.limits.request.count",defaultMessage:"Request Count"})}),n.createElement(Wt.A,{value:"BANDWIDTHLIMIT",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.policies.add.limits.request.bandwidth",defaultMessage:"Request Bandwidth"})}),n.createElement(Wt.A,{value:"EVENTCOUNTLIMIT",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.quota.policies.add.limits.event.count",defaultMessage:"Event Based (Async API)"})}))),n.createElement(w.A,{component:"div",m:1},"REQUESTCOUNTLIMIT"===q&&n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"requestCount",value:N,type:"number",onChange:ce,required:!0,InputProps:{id:"requestCount",onBlur:e=>{let{target:{value:t}}=e;O("requestCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.requestCount.count",defaultMessage:"Request Count"}),fullWidth:!0,error:R.requestCount,helperText:R.requestCount||n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.request.count.helper.text",defaultMessage:"Number of requests allowed"}),variant:"outlined"})),"AIAPIQUOTALIMIT"===q&&n.createElement(n.Fragment,null,n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"requestCount",value:N,type:"number",onChange:ce,required:!0,InputProps:{id:"requestCount",onBlur:e=>{let{target:{value:t}}=e;O("requestCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.requestCount.count",defaultMessage:"Request Count"}),fullWidth:!0,error:R.requestCount,helperText:R.requestCount||n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.request.count.helper.text",defaultMessage:"Number of requests allowed"}),variant:"outlined"})),n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"totalTokenCount",value:U,type:"number",onChange:ce,InputProps:{id:"totalTokenCount",onBlur:e=>{let{target:{value:t}}=e;O("totalTokenCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.totalTokenCount.count",defaultMessage:"Total Token Count"}),fullWidth:!0,error:R.totalTokenCount,helperText:R.totalTokenCount||n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.total.token.count.helper.text",defaultMessage:"Number of total tokens allowed"}),variant:"outlined"})),n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"promptTokenCount",value:K,type:"number",onChange:ce,InputProps:{id:"promptTokenCount",onBlur:e=>{let{target:{value:t}}=e;O("promptTokenCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.promptTokenCount.count",defaultMessage:"Prompt Token Count"}),fullWidth:!0,error:R.promptTokenCount,helperText:R.promptTokenCount||n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.prompt.token.count.helper.text",defaultMessage:"Number of prompt tokens allowed"}),variant:"outlined"})),n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"completionTokenCount",value:F,type:"number",onChange:ce,InputProps:{id:"completionTokenCount",onBlur:e=>{let{target:{value:t}}=e;O("completionTokenCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.completionTokenCount.count",defaultMessage:"Completion Token Count"}),fullWidth:!0,error:R.completionTokenCount,helperText:R.completionTokenCount||n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.completion.token.count.helper.text",defaultMessage:"Number of completion tokens allowed"}),variant:"outlined"}))),"BANDWIDTHLIMIT"===q&&n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"dataAmount",value:W,type:"number",onChange:ce,required:!0,InputProps:{id:"dataAmount",onBlur:e=>{let{target:{value:t}}=e;O("dataAmount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.dataAmount.name",defaultMessage:"Data Bandwidth"}),sx:{width:350},error:R.dataAmount,helperText:R.dataAmount||a.formatMessage({id:"Throttling.Subscription.AddEdit.form.add.data.amount.helper.text",defaultMessage:"Bandwidth allowed"}),variant:"outlined"}),n.createElement(Sa,{variant:"outlined"},n.createElement(Gt.A,{variant:"outlined",sx:{minWidth:120,ml:1,mt:1},name:"dataUnit",fullWidth:!0,value:z,onChange:se},n.createElement(Ut.A,{value:"KB"},"KB"),n.createElement(Ut.A,{value:"MB"},"MB")))),"EVENTCOUNTLIMIT"===q&&n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"eventCount",value:G,type:"number",onChange:ce,required:!0,InputProps:{id:"eventCount",onBlur:e=>{let{target:{value:t}}=e;O("eventCount",t)}},label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.eventCount.count",defaultMessage:"Event Count"}),fullWidth:!0,error:R.eventCount,helperText:R.eventCount||a.formatMessage({id:"Throttling.Subscription.AddEdit.form.eventCount.count.helper.text",defaultMessage:"Number of events allowed"}),variant:"outlined"})),n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"unitTime",value:j,onChange:se,type:"number",label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.unit.time.label",defaultMessage:"Unit Time"}),required:!0,InputProps:{id:"unitTime",onBlur:e=>{let{target:{value:t}}=e;O("unitTime",t)}},error:R.unitTime,helperText:R.unitTime||a.formatMessage({id:"Throttling.Subscription.AddEdit.unitTime",defaultMessage:"Unit Time"}),sx:{width:350},variant:"outlined"}),n.createElement(Sa,{variant:"outlined"},n.createElement(Gt.A,{variant:"outlined",sx:{minWidth:120,ml:1,mt:1},name:"timeUnit",value:B,fullWidth:!0,onChange:se},n.createElement(Ut.A,{value:"min"},n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.time.minutes",defaultMessage:"Minute(s)"})),n.createElement(Ut.A,{value:"hours"},n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.time.hours",defaultMessage:"Hour(s)"})),n.createElement(Ut.A,{value:"days"},n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.time.days",defaultMessage:"Day(s)"})),n.createElement(Ut.A,{value:"months"},n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.time.months",defaultMessage:"Month(s)"})),n.createElement(Ut.A,{value:"years"},n.createElement(b.A,{id:"Admin.Throttling.Subscription.Throttling.Policy.add.time.years",defaultMessage:"Year(s)"}))))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),!y&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.burst.control.limits",defaultMessage:"Burst Control (Rate Limiting)"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.burst.control.add.description",defaultMessage:"Define Burst Control Limits for the subscription policy. This is optional."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(lt.A,{margin:"dense",name:"rateLimitCount",value:H,type:"number",onChange:ce,label:n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.request.rate",defaultMessage:"Request Rate"}),sx:{width:380},helperText:a.formatMessage({id:"Throttling.Subscription.AddEdit.burst.control.limit",defaultMessage:"Number of requests for burst control"}),variant:"outlined"})),n.createElement(Sa,{variant:"outlined"},n.createElement(Gt.A,{variant:"outlined",sx:{minWidth:120,ml:1,mt:1},name:"rateLimitTimeUnit",fullWidth:!0,value:Z,onChange:se},n.createElement(Ut.A,{value:"sec"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.burst.control.limit.time.unit.second",defaultMessage:"Requests/s"})),n.createElement(Ut.A,{value:"min"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.burst.control.limit.time.unit.minute",defaultMessage:"Requests/min"}))))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.GraphQL",defaultMessage:"GraphQL"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.graphql.add.description",defaultMessage:"Provide the Maximum Complexity and Maximum depth values for GraphQL APIs using this policy."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"maxComplexity",value:re,type:"number",onChange:se,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.max.complexity",defaultMessage:"Max Complexity"})),fullWidth:!0,variant:"outlined"}))),n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"maxDepth",type:"number",value:ie,onChange:se,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.max.depth",defaultMessage:"Max Depth"})),fullWidth:!0,variant:"outlined"}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.Subscriber.Count",defaultMessage:"Webhooks"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.subscription.count.add.description",defaultMessage:"Maximum number of webhooks allowed for a Webhooks API using this policy."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"subscriberCount",value:oe,type:"number",onChange:se,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.max.webhooks.connections",defaultMessage:"Max Subscriptions"})),fullWidth:!0,variant:"outlined"}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null)))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.Policy.Flags",defaultMessage:"Policy Flags"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.policy.flags.add.description",defaultMessage:"Define the billing plan for the subscription policy. Enable stop on quota reach to block invoking an API when the defined quota is reached."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.Billing.Plan",defaultMessage:"Billing Plan"})),n.createElement(w.A,{flex:"1"},n.createElement(qt.A,{"aria-label":"position",name:"billingPlan",value:Y,onChange:se,sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(Wt.A,{value:"FREE",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Subscription.Billing.Plan.type.free",defaultMessage:"Free"})}),n.createElement(Wt.A,{value:"COMMERCIAL",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Subscription.Billing.Plan.type.commercial",defaultMessage:"Commercial"})})))),"COMMERCIAL"===Y&&n.createElement("div",null,n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.monetization.plan",defaultMessage:"Monetization Plan"})),n.createElement(nt.A,{title:n.createElement(b.A,{id:"Throttling.Subscription.monetization.plan.tooltip",defaultMessage:"Monetization category type"}),placement:"right-end",sx:{pl:5},interactive:!0},n.createElement(ga.A,{fontSize:"medium"})))),n.createElement(w.A,{flex:"1"},n.createElement(jt.A,{variant:"outlined",sx:{display:"flex",pt:1,pb:1}},n.createElement(Gt.A,{name:"monetizationPlan",margin:"dense",fullWidth:!0,variant:"outlined",align:"center",value:Q,onChange:se},n.createElement(Ut.A,{value:"FIXEDRATE"},n.createElement(b.A,{id:"Throttling.Subscription.monetization.plan.fixed.rate",defaultMessage:"Fixed Rate"})),n.createElement(Ut.A,{value:"DYNAMICRATE"},n.createElement(b.A,{id:"Throttling.Subscription.monetization.plan.dynamic.usage",defaultMessage:"Dynamic Usage"})))))),"FIXEDRATE"===Q&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.Fixed.Rate",defaultMessage:"Fixed Rate"})),n.createElement(nt.A,{title:n.createElement(b.A,{id:"Throttling.Subscription.fixed.rate.tooltip",defaultMessage:"Fixed rate for the given billing cycle"}),placement:"right-end",sx:{pl:5},interactive:!0},n.createElement(ga.A,{fontSize:"medium"})))),n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"fixedPrice",value:J,onChange:se,label:n.createElement(b.A,{id:"Throttling.Subscription.Fixed.Rate",defaultMessage:"Fixed Rate"}),fullWidth:!0,variant:"outlined"}))),"DYNAMICRATE"===Q&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.dynamic.usage",defaultMessage:"Price Per Request"})),n.createElement(nt.A,{title:n.createElement(b.A,{id:"Throttling.Subscription.dynamic.usage.tooltip",defaultMessage:"Price per request for the given billing cycle in the given currency"}),placement:"right-end",sx:{pl:5},interactive:!0},n.createElement(ga.A,{fontSize:"medium"})))),n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"pricePerRequest",value:$,onChange:se,label:n.createElement(b.A,{id:"Throttling.Subscription.price.per.request",defaultMessage:"Price Per Request"}),fullWidth:!0,variant:"outlined"}))),n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.currency",defaultMessage:"Currency"}))),n.createElement(w.A,{flex:"1"},n.createElement(lt.A,{margin:"dense",name:"currencyType",value:ee,onChange:se,label:n.createElement(b.A,{id:"Throttling.Subscription.currency",defaultMessage:"Currency"}),fullWidth:!0,variant:"outlined"}))),n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.billing.cycle",defaultMessage:"Billing Cycle"}))),n.createElement(w.A,{flex:"1"},n.createElement(jt.A,{variant:"outlined",sx:{display:"flex",pt:1,pb:1}},n.createElement(Gt.A,{name:"billingCycle",fullWidth:!0,margin:"dense",variant:"outlined",align:"center",value:te,onChange:se},n.createElement(Ut.A,{value:"week"},n.createElement(b.A,{id:"Throttling.Subscription.billing.cycle.menu.week",defaultMessage:"Week"})),n.createElement(Ut.A,{value:"month"},n.createElement(b.A,{id:"Throttling.Subscription.billing.cycle.menu.month",defaultMessage:"Month"})),n.createElement(Ut.A,{value:"year"},n.createElement(b.A,{id:"Throttling.Subscription.billing.cycle.menu.year",defaultMessage:"Year"}))))))),n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center",sx:{pt:1,pb:1}},n.createElement(w.A,{flex:"0.65"},n.createElement(E.A,{color:"inherit",variant:"body1",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.stop.quota.reach",defaultMessage:"Stop On Quota Reach"}))),n.createElement(w.A,{flex:"1"},n.createElement(pa.A,{checked:X,onChange:e=>{x({field:e.target.name,value:e.target.checked})},fullWidth:!0,align:"center",size:"medium",color:"primary",name:"stopOnQuotaReach"}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.custom.attributes",defaultMessage:"Custom Attributes"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.custom.attributes.add.description",defaultMessage:"Define custom attributes for the subscription policy."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{flex:"1"},n.createElement(P.A,{variant:"outlined",onClick:()=>{S((e=>[].concat(Ma(e),[{name:"",value:""}])))}},n.createElement(fa.A,{sx:{mr:1}}),n.createElement(b.A,{id:"Throttling.Subscription.custom.attributes.add",defaultMessage:"Add Custom Attribute"}))),n.createElement(sa.A,null,n.createElement(da.A,null,T.map(((e,t)=>n.createElement(oa.A,null,n.createElement(la.A,null,n.createElement(lt.A,{fullWidth:!0,required:!0,id:t,name:"name",label:a.formatMessage({id:"Throttling.Subscription.Properties.Properties.show.add.property.property.name",defaultMessage:"Name"}),margin:"dense",variant:"outlined",value:e.name,onChange:me})),n.createElement(la.A,null,n.createElement(lt.A,{fullWidth:!0,required:!0,id:t,name:"value",label:a.formatMessage({id:"Throttling.Subscription.Properties.property.value",defaultMessage:"Value"}),margin:"dense",value:e.value,onChange:me,variant:"outlined"})),n.createElement(la.A,{align:"right"},n.createElement(nt.A,{title:n.createElement(b.A,{id:"Throttling.Subscription.attribute.delete.tooltip",defaultMessage:"Delete"}),placement:"right-end",interactive:!0},n.createElement(V.A,{id:t,onClick:de,size:"large"},n.createElement(Jt.A,null)))))))))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ia,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Subscription.permissions",defaultMessage:"Permissions"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.permissions.add.description",defaultMessage:"Define the permissions for the subscription policy."}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},("ALLOW"===le||"DENY"===le)&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(Aa.b,{fullWidth:!0,label:a.formatMessage({id:"Throttling.Subscription.AddEdit.permissions.add.role.label",defaultMessage:"Roles"}),InputLabelProps:{shrink:!0},variant:"outlined",value:m.concat(p),placeholder:a.formatMessage({id:"Throttling.Subscription.AddEdit.permissions.add.role.placeholder",defaultMessage:"Type roles and press Enter"}),clearInputOnBlur:!0,InputProps:{endAdornment:!f&&n.createElement(ba.A,{position:"end",sx:{position:"absolute",right:"25px",top:"50%"}},n.createElement(ha.A,{color:"error"}))},onAddChip:e=>{c.validateSystemRole(Ea().encode(e)).then((()=>{u(m.concat(e)),0===p.length?A(!0):A(!1)})).catch((t=>{404===t.status?(g(p.concat(e)),A(!1)):(Dt.error("Error when validating role: "+e),console.error("Error when validating role "+t))}))},error:!f,helperText:f?["ALLOW"===le?n.createElement(b.A,{id:"Throttling.Subscription.enter.permission.allowed",defaultMessage:'This policy is "Allowed" for above roles.'}):n.createElement(b.A,{id:"Throttling.Subscription.enter.permission.denied",defaultMessage:'This policy is "Denied" for above roles.'})," ",n.createElement(b.A,{id:"Apis.Details.Scopes.CreateScope.roles.help",defaultMessage:"Enter a valid role and press `Enter`."})]:n.createElement(b.A,{id:"Throttling.Subscription.Roles.Invalid",defaultMessage:"A Role is invalid"}),renderChip:(e,t,a)=>n.createElement(e,{key:a.label,label:a.label,onDelete:()=>(e=>{if(p.includes(e)){const t=p.filter((t=>t!==e));g(t),0===t.length&&A(!0)}else u(m.filter((t=>t!==e)))})(a.label),style:{backgroundColor:p.includes(a.label)?va.A[300]:null,margin:"8px 8px 8px 0",float:"left"}})})),n.createElement(w.A,{flex:"1",mt:3},n.createElement(qt.A,{name:"permissionStatus",value:le,onChange:se,sx:{display:"flex",flexDirection:"row"},defaultValue:"NONE"},n.createElement(Wt.A,{value:"NONE",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Apis.Details.Scopes.permission.status.none",defaultMessage:"None"})}),n.createElement(Wt.A,{value:"ALLOW",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Apis.Details.Scopes.permission.status.allow",defaultMessage:"Allow"})}),n.createElement(Wt.A,{value:"DENY",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Apis.Details.Scopes.permission.status.deny",defaultMessage:"Deny"})})))))),n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,sx:{mb:1}},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>{const e=(()=>{let e="";const t=O("policyName",D),a=O("requestCount",N),n=O("eventCount",G),r=O("dataAmount",W),i=O("unitTime",j);return e+="BANDWIDTHLIMIT"===q?t+r+i:"REQUESTCOUNTLIMIT"===q?t+a+i:t+n+i,e})();if(""!==e)return Dt.error(e),!1;let t,n;if(t="REQUESTCOUNTLIMIT"===q?{policyName:I.policyName,description:I.description,defaultLimit:{type:I.defaultLimit.type,requestCount:{requestCount:I.defaultLimit.requestCount,timeUnit:I.defaultLimit.timeUnit,unitTime:I.defaultLimit.unitTime}},subscriberCount:""===I.subscriberCount?0:I.subscriberCount,rateLimitCount:""===I.rateLimitCount?0:I.rateLimitCount,rateLimitTimeUnit:I.rateLimitTimeUnit,billingPlan:I.billingPlan,stopOnQuotaReach:I.stopOnQuotaReach,customAttributes:T,graphQLMaxComplexity:""===I.graphQL.maxComplexity?0:I.graphQL.maxComplexity,graphQLMaxDepth:""===I.graphQL.maxDepth?0:I.graphQL.maxDepth,monetization:{monetizationPlan:I.monetization.monetizationPlan,properties:{fixedPrice:I.monetization.fixedPrice,pricePerRequest:I.monetization.pricePerRequest,currencyType:I.monetization.currencyType,billingCycle:I.monetization.billingCycle}},permissions:null===I.permissions||null===I.permissions.permissionStatus||"NONE"===I.permissions.permissionStatus?null:{permissionType:I.permissions.permissionStatus,roles:m}}:"AIAPIQUOTALIMIT"===q?{policyName:I.policyName,description:I.description,defaultLimit:{type:I.defaultLimit.type,aiApiQuota:{requestCount:I.defaultLimit.requestCount,totalTokenCount:I.defaultLimit.totalTokenCount,promptTokenCount:I.defaultLimit.promptTokenCount,completionTokenCount:I.defaultLimit.completionTokenCount,timeUnit:I.defaultLimit.timeUnit,unitTime:I.defaultLimit.unitTime}},subscriberCount:0,rateLimitCount:0,rateLimitTimeUnit:I.rateLimitTimeUnit,billingPlan:I.billingPlan,stopOnQuotaReach:I.stopOnQuotaReach,customAttributes:T,graphQLMaxComplexity:0,graphQLMaxDepth:0,monetization:{monetizationPlan:I.monetization.monetizationPlan,properties:{fixedPrice:I.monetization.fixedPrice,pricePerRequest:I.monetization.pricePerRequest,currencyType:I.monetization.currencyType,billingCycle:I.monetization.billingCycle}},permissions:null===I.permissions||null===I.permissions.permissionStatus||"NONE"===I.permissions.permissionStatus?null:{permissionType:I.permissions.permissionStatus,roles:m}}:"BANDWIDTHLIMIT"===q?{policyName:I.policyName,description:I.description,defaultLimit:{type:I.defaultLimit.type,bandwidth:{dataAmount:I.defaultLimit.dataAmount,dataUnit:I.defaultLimit.dataUnit,timeUnit:I.defaultLimit.timeUnit,unitTime:I.defaultLimit.unitTime}},subscriberCount:""===I.subscriberCount?0:I.subscriberCount,rateLimitCount:""===I.rateLimitCount?0:I.rateLimitCount,rateLimitTimeUnit:I.rateLimitTimeUnit,billingPlan:I.billingPlan,stopOnQuotaReach:I.stopOnQuotaReach,customAttributes:T,graphQLMaxComplexity:""===I.graphQL.maxComplexity?0:I.graphQL.maxComplexity,graphQLMaxDepth:""===I.graphQL.maxDepth?0:I.graphQL.maxDepth,monetization:{monetizationPlan:I.monetization.monetizationPlan,properties:{fixedPrice:I.monetization.fixedPrice,pricePerRequest:I.monetization.pricePerRequest,currencyType:I.monetization.currencyType,billingCycle:I.monetization.billingCycle}},permissions:null==I.permissions||null===I.permissions.permissionStatus||"NONE"===I.permissions.permissionStatus?null:{permissionType:I.permissions.permissionStatus,roles:m}}:{policyName:I.policyName,description:I.description,defaultLimit:{type:I.defaultLimit.type,eventCount:{eventCount:I.defaultLimit.eventCount,timeUnit:I.defaultLimit.timeUnit,unitTime:I.defaultLimit.unitTime}},subscriberCount:""===I.subscriberCount?0:I.subscriberCount,rateLimitCount:""===I.rateLimitCount?0:I.rateLimitCount,rateLimitTimeUnit:I.rateLimitTimeUnit,billingPlan:I.billingPlan,stopOnQuotaReach:I.stopOnQuotaReach,customAttributes:T,graphQLMaxComplexity:""===I.graphQL.maxComplexity?0:I.graphQL.maxComplexity,graphQLMaxDepth:""===I.graphQL.maxDepth?0:I.graphQL.maxDepth,monetization:{monetizationPlan:I.monetization.monetizationPlan,properties:{fixedPrice:I.monetization.fixedPrice,pricePerRequest:I.monetization.pricePerRequest,currencyType:I.monetization.currencyType,billingCycle:I.monetization.billingCycle}},permissions:null===I.permissions||null===I.permissions.permissionStatus||"NONE"===I.permissions.permissionStatus?null:{permissionType:I.permissions.permissionStatus,roles:m}},d){const e=s.id;return n=c.updateSubscriptionThrottlingPolicy(e,t),n&&i(!0),n.then((()=>{Dt.success(a.formatMessage({id:"Throttling.Subscription.Policy.policy.edit.success",defaultMessage:"Subscription Rate Limiting Policy updated successfully."})),l.push("/throttling/subscription")})).catch((e=>{const{response:t}=e;return t.body&&Dt.error(t.body.description),null})).finally((()=>{i(!1)}))}return n=c.addSubscriptionThrottlingPolicy(t),n&&i(!0),n.then((()=>{Dt.success(a.formatMessage({id:"Throttling.Subscription.Policy.policy.add.success",defaultMessage:"Subscription Rate Limiting Policy added successfully."})),l.push("/throttling/subscription")})).catch((e=>{const{response:t}=e;return t.body&&Dt.error(t.body.description),null})).finally((()=>{i(!1)}))},disabled:0!==p.length,"data-testid":"throttling-subscription-save-button"},r?n.createElement(ut.A,{size:16}):n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.add",defaultMessage:"Save"}))),n.createElement(M.N_,{to:"/throttling/subscription"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"Throttling.Subscription.AddEdit.form.cancel",defaultMessage:"Cancel"})))))))}Ra.defaultProps={match:{params:{id:null}}},Ra.propTypes={history:i().shape({push:i().func}).isRequired,match:i().shape({params:i().shape({id:i().string})})};const ka=Ra,Oa=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/throttling/subscription",component:ua}),n.createElement(o.qh,{exact:!0,path:"/throttling/subscription/add",component:ka}),n.createElement(o.qh,{path:"/throttling/subscription/:id",component:ka}),n.createElement(o.qh,{component:I}))}));function Da(e){let{updateList:t,dataRow:a}=e;const{id:r,noOfApis:i}=a,o=(0,_.A)();return n.createElement(Bt,{title:o.formatMessage({id:"AdminPages.ApiCategories.Delete.form.delete.title",defaultMessage:"Delete API category?"}),saveButtonText:o.formatMessage({id:"AdminPages.ApiCategories.Delete.form.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>{const e=(()=>{let e="";return i>0&&(e+="Unable to delete the category. It is attached to API(s)"),e})();return""!==e?(Dt.error(e),!1):(new Be).deleteAPICategory(r).then((()=>n.createElement(b.A,{id:"AdminPages.ApiCategories.Delete.form.delete.successful",defaultMessage:"API Category deleted successfully"}))).catch((e=>{throw e.response.body.description})).finally((()=>{t()}))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.ApiCategories.Delete.form.delete.content",defaultMessage:"Are you sure you want to delete this API Category?"})))}Da.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().number.isRequired,noOfApis:i().number}).isRequired};const La=Da;function Na(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ba(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(a),!0).forEach((function(t){ja(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Na(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ja(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const qa=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Wa(e,t){let{field:a,value:n}=t;switch(a){case"name":case"description":return Ba(Ba({},e),{},{[a]:n});case"editDetails":return n;default:return e}}function za(e){const{updateList:t,dataRow:a,icon:r,triggerButtonText:i,title:o}=e,l=(0,_.A)(),[s,c]=(0,n.useState)({description:""}),[d,m]=(0,n.useState)(!1),[u,p]=(0,n.useReducer)(Wa,s),{name:g,description:f}=u,A=e=>{p({field:e.target.name,value:e.target.value})};(0,n.useEffect)((()=>{c({description:""})}),[]);const y=(e,t)=>{let a;switch(e){case"name":if(void 0===t){a=!1;break}a=""===t?l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.error.name.empty",defaultMessage:"Name is Empty"}):t.length>255?l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.error.name.too.long",defaultMessage:"API Category name is too long"}):/\s/.test(t)?l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.error.name.has.spaces",defaultMessage:"Name contains spaces"}):!!/[!@#$%^&*(),?"{}[\]|<>\t\n]/i.test(t)&&l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.error.name.has.special.chars",defaultMessage:"Name field contains special characters"});break;case"description":t&&t.length>1024&&(a=l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.error.description.too.long",defaultMessage:"API Category description is too long"}))}return a};return n.createElement(Bt,{title:o,saveButtonText:l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.save.btn",defaultMessage:"Save"}),icon:r,triggerButtonText:i,formSaveCallback:()=>{const e=(()=>{let e,t,a="";return void 0===g?(p({field:"name",value:""}),e=y("name","")):e=y("name",g),e&&(a+=e+"\n"),void 0!==f&&(t=y("description",f)),t&&(a+=t+"\n"),a})();if(""!==e)return Dt.error(e),!1;const n=new Be;let r;return r=a?n.updateAPICategory(a.id,g,f):n.createAPICategory(g,f),r.then((()=>a?l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.edit.successful",defaultMessage:"API Category edited successfully"}):l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.add.successful",defaultMessage:"API Category added successfully"}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description})).finally((()=>{t()}))},dialogOpenCallback:()=>{if(a){const{name:e,description:t}=a;m(!0),p({field:"editDetails",value:{name:e,description:t}})}}},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"name",value:g,onChange:A,label:n.createElement("span",null,n.createElement(b.A,{id:"AdminPages.ApiCategories.AddEdit.form.name",defaultMessage:"Name"}),n.createElement(qa,null,"*")),fullWidth:!0,error:y("name",g),helperText:y("name",g)||l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.name.helper.text",defaultMessage:"Name of the API category"}),variant:"outlined",disabled:d}),n.createElement(lt.A,{margin:"dense",name:"description",value:f,onChange:A,label:l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,multiline:!0,error:y("description",f),helperText:y("description",f)||l.formatMessage({id:"AdminPages.ApiCategories.AddEdit.form.description.helper.text",defaultMessage:"Description of the API category"}),variant:"outlined"}))}za.defaultProps={icon:null,dataRow:null},za.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,name:i().string.isRequired}),icon:i().element,triggerButtonText:i().oneOfType([i().element.isRequired,i().string.isRequired]).isRequired,title:i().shape({}).isRequired};const Ga=za;function Ua(){return(new Be).apiCategoriesListGet().then((e=>e.body.list)).catch((e=>{throw e}))}const Va=e=>{let{children:t}=e;return n.createElement(w.A,{sx:{maxWidth:"200px"}},n.createElement(E.A,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t))};function Ka(){const e=(0,_.A)(),t=[{name:"id",options:{display:!1}},{name:"name",label:e.formatMessage({id:"AdminPages.ApiCategories.table.header.category.name",defaultMessage:"Category Name"}),options:{filter:!0,sort:!0,customBodyRender:e=>n.createElement(Va,null,e)}},{name:"description",label:e.formatMessage({id:"AdminPages.ApiCategories.table.header.category.description",defaultMessage:"Description"}),options:{filter:!0,sort:!1}},{name:"numberOfAPIs",label:e.formatMessage({id:"AdminPages.ApiCategories.table.header.category.number.of.apis",defaultMessage:"Number of APIs"}),options:{filter:!0,sort:!0}}],a={triggerButtonText:e.formatMessage({id:"AdminPages.ApiCategories.List.addButtonProps.triggerButtonText",defaultMessage:"Add API Category"}),title:e.formatMessage({id:"AdminPages.ApiCategories.List.addButtonProps.title",defaultMessage:"Add API Category"})},r={searchPlaceholder:e.formatMessage({id:"AdminPages.ApiCategories.List.search.default",defaultMessage:"Search by API Category name"}),active:!0},i={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"reference/customize-product/customizations/customizing-the-developer-portal/customize-api-listing/api-category-based-grouping/",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"AdminPages.ApiCategories.List.help.link.one",defaultMessage:"API Category based Grouping"})}))))),pageStyle:"half",title:e.formatMessage({id:"AdminPages.ApiCategories.List.title.apicategories",defaultMessage:"API Categories"})},o={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"AdminPages.ApiCategories.List.empty.content.apicategories",defaultMessage:"You can use API categories to group APIs. In previous versions of WSO2 API Manager, the process of grouping APIs was carried out by using tag-wise groups. Unlike tag-wise grouping, API categories do not use a naming convention. Therefore, the admin does not need to take into consideration any naming conventions when using API category-based grouping."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"AdminPages.ApiCategories.List.empty.title.apicategories",defaultMessage:"API Categories"}))};return n.createElement(wt,{columProps:t,pageProps:i,addButtonProps:a,searchProps:r,emptyBoxProps:o,apiCall:Ua,EditComponent:Ga,editComponentProps:{icon:n.createElement(At.A,null),title:"Edit API Category"},DeleteComponent:La})}var Fa=a(6347),_a=a(71238),Ha=a(3542);function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ya(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(a),!0).forEach((function(t){Xa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Xa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Qa=(0,k.Ay)(Fa.A)((e=>{let{theme:t}=e;return{color:Ha.A[600],fontSize:t.spacing(1.6),marginLeft:t.spacing(-1)}}));function Ja(e,t){const{field:a,value:n}=t;switch(a){case"conditionType":return Ya(Ya({},e),{},{[a]:n});case"endingIp":return Ya(Ya({},e),{},{conditionValue:Ya(Ya({},e.conditionValue),{},{[a]:n})});case"startingIp":return Ya(Ya({},e),{},{conditionValue:Ya(Ya({},e.conditionValue),{},{[a]:n})});case"invert":return Ya(Ya({},e),{},{conditionValue:Ya(Ya({},e.conditionValue),{},{[a]:n})});case"fixedIp":return Ya(Ya({},e),{},{conditionValue:Ya(Ya({},e.conditionValue),{},{[a]:n})});default:return Ya(Ya({},e),{},{[a]:n})}}function $a(e){const{updateList:t,icon:a,triggerButtonText:r,title:i}=e,o=(0,_.A)(),[l,s]=(0,n.useState)({conditionType:"API",conditionValue:{endingIp:"",startingIp:"",invert:!1,fixedIp:""},conditionStatus:!0}),[c,d]=(0,n.useReducer)(Ja,l),{conditionType:m,conditionValue:u,conditionValue:{endingIp:p,startingIp:g,invert:f,fixedIp:A},conditionStatus:y}=c,h=new Be,M=e=>{const{name:t}=e.target;d("invert"===t||"conditionStatus"===t?{field:t,value:e.target.checked}:{field:t,value:e.target.value})};(0,n.useEffect)((()=>{s({conditionType:"API",conditionValue:{endingIp:"",startingIp:"",invert:!1,fixedIp:""},conditionStatus:!0})}),[m]);const P=(e,t)=>{let a=!1;const n=new RegExp("^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$"),r=new RegExp("(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))");switch(e){case"startingIp":""===t?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.startingIp.blank",defaultMessage:"Starting Ip address field is empty."}):/\s/g.test(t)?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.startingIp.white.spaces",defaultMessage:"Starting Ip address field contains white spaces. "}):n.test(t)||r.test(t)||(a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.startingIp.invalid",defaultMessage:"Starting Ip address entered is not valid.  "}));break;case"endingIp":""===t?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.endingIp.blank",defaultMessage:"Ending Ip address field is empty.  "}):/\s/g.test(t)?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.endingIp.white.spaces",defaultMessage:"Starting Ip address field contains white spaces. "}):n.test(t)||r.test(t)||(a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.endingIp.invalid",defaultMessage:"Starting Ip address entered is not valid.  "}));break;case"fixedIp":""===t?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.fixedIp.blank",defaultMessage:"Ending Ip address field is empty.  "}):/\s/g.test(t)?a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.fixedIp.white.spaces",defaultMessage:"Starting Ip address field contains white spaces. "}):n.test(t)||r.test(t)||(a=o.formatMessage({id:"Throttling.Blacklist.Policy.policy.fixedIp.invalid",defaultMessage:"Starting Ip address entered is not valid.  "}));break;case"conditionValue":a=""===t.startingIp&&""===t.endingIp&&""===t.fixedIp&&!1===t.invert&&e+" is Empty"}return a};return n.createElement(Bt,{title:i,saveButtonText:o.formatMessage({id:"Admin.Throttling.Blacklist.Throttling.Policy.add.dialog.btn.deny",defaultMessage:"Deny"}),icon:a,triggerButtonText:r,formSaveCallback:()=>{const e=(()=>{let e="";return e+="IPRANGE"===m?P("startingIp",g)+P("endingIp",p):"IP"===m?P("fixedIp",A):P("conditionValue",u),e})();if(""!==e&&"false"!==e&&"0"!==e)return Dt.error(e),!1;let a;return"IPRANGE"===m?(a=delete c.conditionValue.fixedIp,a=c):"IP"===m?(a=delete c.conditionValue.startingIp,a=delete c.conditionValue.endingIp,a=c):a=c,h.addBlacklistPolicy(a).then((()=>o.formatMessage({id:"Throttling.Blacklist.Policy.policy.add.success",defaultMessage:"Deny Policy added successfully."}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null})).finally((()=>{t()}))}},n.createElement(Tt.A,null,n.createElement(E.A,{variant:"h6"},n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type",defaultMessage:"Condition Type"}))),n.createElement(jt.A,{variant:"standard",component:"fieldset",sx:{minHeight:24}},n.createElement(qt.A,{row:!0,"aria-label":"position",defaultValue:"top",name:"conditionType",onChange:M,value:m},n.createElement(Wt.A,{value:"API",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.api.context",defaultMessage:"API Context "}),labelPlacement:"end"}),n.createElement(Wt.A,{value:"APPLICATION",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.application",defaultMessage:"Application"}),labelPlacement:"end"}),n.createElement(Wt.A,{value:"IP",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.ip.address",defaultMessage:"IP Address"}),labelPlacement:"end"}),n.createElement(Wt.A,{value:"IPRANGE",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.ip.range",defaultMessage:"IP Range"}),labelPlacement:"end"}),n.createElement(Wt.A,{value:"USER",control:n.createElement(zt.A,{color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.User",defaultMessage:"User"}),labelPlacement:"end"})),"API"===m&&n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"conditionValue",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.label",defaultMessage:"Value"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0,helperText:n.createElement(n.Fragment,null,n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.api.context.format",defaultMessage:"Format : ${context}"})),n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.example.abbr",defaultMessage:"Eg"})," ",": /test/1.0.0"))}),"APPLICATION"===m&&n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"conditionValue",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.label",defaultMessage:"Value"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0,helperText:n.createElement(n.Fragment,null,n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.application.format",defaultMessage:"Format : ${userName}:${applicationName}"})),n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.example.abbr",defaultMessage:"Eg"})," ",": admin:DefaultApplication"))}),"IP"===m&&n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"fixedIp",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.label",defaultMessage:"Value"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0,helperText:n.createElement(n.Fragment,null,n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.ip.format",defaultMessage:"Format : ${ip}"})),n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.example.abbr",defaultMessage:"Eg"})," ",": 127.0.0.1"))}),"IPRANGE"===m&&n.createElement(n.Fragment,null,n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"startingIp",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.ip.start.address",defaultMessage:"Start IP Address"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0}),n.createElement(lt.A,{margin:"dense",name:"endingIp",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.ip.end.address",defaultMessage:"End IP Address"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0})),("IP"===m||"IPRANGE"===m)&&n.createElement(v.Ay,{sx:{display:"flex",mt:2}},n.createElement(E.A,{sx:{fontSize:14,mr:3,mt:1.2}},n.createElement(b.A,{id:"Admin.Throttling.Blacklist.policy.add.invert.condition",defaultMessage:"Invert Condition: "})),n.createElement(pa.A,{checked:f,onChange:M,name:"invert",color:"primary"})),"USER"===m&&n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"conditionValue",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.value.label",defaultMessage:"Value"}),fullWidth:!0,onChange:M,variant:"outlined",required:!0,helperText:n.createElement(n.Fragment,null,n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.user.format",defaultMessage:"Format : ${userName}"})),n.createElement(Qa,null,n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.example.abbr",defaultMessage:"Eg"})," ",": admin"))}),n.createElement(Wt.A,{control:n.createElement(_a.A,{checked:y,onChange:M,name:"conditionStatus",label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.Throttling.Policy.add.condition.type.enable.condition",defaultMessage:"Enable Condition"}),color:"primary"}),label:n.createElement(b.A,{id:"Admin.Throttling.Blacklist.policy.enable.condition",defaultMessage:"Enable Condition"})})))}$a.defaultProps={icon:null,dataRow:null},$a.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,label:i().string.isRequired}),icon:i().element,triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired};const en=$a;function tn(e){const t=new Be,{dataRow:a,updateList:r}=e,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"Throttling.Blacklist.Policy.policy.delete.dialog.title",defaultMessage:"Delete Deny Policy?"}),saveButtonText:i.formatMessage({id:"Admin.components.form.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>{const e=a.conditionId;return t.deleteBlacklistPolicy(e).then((()=>(r(),i.formatMessage({id:"Throttling.Blacklist.Policy.policy.delete.success",defaultMessage:"Deny Policy successfully deleted."})))).catch((()=>(Dt.error(i.formatMessage({id:"Throttling.Blacklist.Policy.policy.delete.error",defaultMessage:"Deny Policy could not be deleted."})),!1)))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Blacklist.Policy.policy.dialog.delete.error",defaultMessage:"Deny Policy will be deleted."})))}tn.propTypes={updateList:i().number.isRequired,selectedPolicyName:i().shape({name:i().number.isRequired}).isRequired,dataRow:i().shape({conditionId:i().number.isRequired}).isRequired};const an=tn;function nn(){const e=(0,_.A)(),t=new Be,[a,r]=(0,n.useState)([]),i={triggerButtonText:e.formatMessage({id:"Throttling.Blacklist.Policy.List.addButtonProps.triggerButtonText",defaultMessage:"Add Policy"}),title:e.formatMessage({id:"Throttling.Blacklist.Policy.List.addButtonProps.title",defaultMessage:"Select Item to Deny "})},o={searchPlaceholder:e.formatMessage({id:"Throttling.Blacklist.Policy.List.search.default",defaultMessage:"Search by Deny Policy name"}),active:!0},l={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/access-control/#denying-requests",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Blacklist.Policy.List.help.link.one",defaultMessage:"Denying requests"})}))))),pageStyle:"half",title:e.formatMessage({id:"Throttling.Blacklist.Policy.search.default",defaultMessage:"Deny Policies"}),EditTitle:e.formatMessage({id:"Throttling.Blacklist.Policy.search.default",defaultMessage:"Deny Policies"})};function s(){return t.blacklistPoliciesGet().then((e=>{const t=e.body.list.filter((e=>"SUBSCRIPTION"!==e.conditionType)).map((e=>{let t,a=[];switch(e.conditionValue===Object(e.conditionValue)?a=Object.entries(e.conditionValue):a.push(e.conditionValue),e.conditionType){case"APPLICATION":t="Application";break;case"IPRANGE":t="IP Range";break;default:t=e.conditionType}return{conditionId:e.conditionId,conditionType:t,conditionValue:a,conditionStatus:e.conditionStatus}}));return r(t),t})).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null}))}const c=n=>{const i=Se()(a);return i.map((e=>(e.conditionId===n.target.id&&(e.conditionStatus=n.target.checked),e.conditionStatus))),r(i),t.updateBlacklistPolicy(n.target.id,n.target.checked).then((()=>{Dt.success(e.formatMessage({id:"Throttling.Blacklist.Policy.policy.update.success",defaultMessage:"Condition status has been updated successfully."}))})).catch((e=>{const{response:t}=e;return t.body&&Dt.error(t.body.description),null})).finally((()=>{s()}))},d=[{name:"conditionType",label:e.formatMessage({id:"Admin.Throttling.Blacklist.Throttling.policy.table.header.condition.type",defaultMessage:"Condition Type"}),options:{filter:!0,sort:!1}},{name:"conditionValue",label:e.formatMessage({id:"Admin.Throttling.Blacklist.Throttling.policy.table.header.conditional.value",defaultMessage:"Conditional Value"}),options:{customBodyRender:e=>n.createElement("div",null,e.length>1?e.map((e=>n.createElement("div",null,e.join(" : ")))):e),filter:!0,sort:!1}},{name:"conditionStatus",label:e.formatMessage({id:"Admin.Throttling.Blacklist.Throttling.policy.table.header.condition.status",defaultMessage:"Condition Status"}),options:{customBodyRender:(e,t)=>{const r=a[t.rowIndex],{conditionId:i}=r;return n.createElement("div",null,n.createElement(pa.A,{checked:a.find((e=>e.conditionId===i)).conditionStatus,onChange:c,id:i,name:"conditionStatus",color:"primary"}))},filter:!0,sort:!1}}],m={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Throttling.Blacklist.Policy.List.empty.content.blacklist.policies and abuse by",defaultMessage:"Denying requests from malicious entities helps you to keep your servers safe"})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Throttling.Blacklist.Policy.List.empty.title.blacklist.policies",defaultMessage:"Deny Policies"}))};return n.createElement(wt,{columProps:d,pageProps:l,addButtonProps:i,searchProps:o,emptyBoxProps:m,apiCall:s,DeleteComponent:an,EditComponent:en,isBlacklist:!0})}function rn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function on(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(a),!0).forEach((function(t){ln(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ln(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const sn=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function cn(e,t){let{field:a,value:n}=t;switch(a){case"name":case"owner":return on(on({},e),{},{[a]:n});case"editDetails":return n;default:return e}}function dn(e){const t=new Be,a=(0,_.A)(),{updateList:r,dataRow:i,icon:o,triggerButtonText:l,title:s,applicationList:c}=e,[d,m]=(0,n.useState)({name:"",owner:""}),[u,p]=(0,n.useReducer)(cn,d),{name:g,owner:f}=u;return(0,n.useEffect)((()=>{m({name:"",owner:""})}),[]),n.createElement(Bt,{title:s,saveButtonText:a.formatMessage({id:"Applications.Listing.Listing.applications.edit.save.btn",defaultMessage:"Save"}),icon:o,triggerButtonText:l,formSaveCallback:()=>(()=>{let e=a.formatMessage({id:"Applications.Listing.Listing.applications.edit.error.default",defaultMessage:"Something went wrong when validating user"});const n=c.filter((e=>e.name===g&&e.owner===f));return new Promise(((r,i)=>{n.length>0&&(e=a.formatMessage({id:"Applications.Listing.Listing.applications.edit.error.already.exist",defaultMessage:"{owner} already has an application with name: {name}"},{owner:f,name:g}),i(e)),t.getUserScope(f,"apim:subscribe").then((()=>{r()})).catch((t=>{var n,r;const{response:i}=t;901502!==(null==i||null===(n=i.body)||void 0===n?void 0:n.code)&&901500!==(null==i||null===(r=i.body)||void 0===r?void 0:r.code)||(e=a.formatMessage({id:"Applications.Listing.Listing.applications.edit.error.owner.invalid",defaultMessage:"{owner} is not a valid Subscriber"},{owner:f}))})).finally((()=>{e&&i(e)}))}))})().then((()=>t.updateApplicationOwner(i.applicationId,f).then((()=>a.formatMessage({id:"AdminPages.ApplicationSettings.Edit.form.edit.successful",defaultMessage:"Application owner changed successfully"}))).catch((e=>{var t;const{response:n}=e;if(500===(null==n||null===(t=n.body)||void 0===t?void 0:t.code))throw a.formatMessage({id:"Applications.Listing.Listing.applications.edit.error.subscriber.invalid",defaultMessage:"Error while updating ownership to {owner}"},{owner:f});throw a.formatMessage({id:"Applications.Listing.Listing.applications.edit.error.unknown",defaultMessage:"Something went wrong when updating owner"})})).finally((()=>{r()})))),dialogOpenCallback:()=>{if(i){const{name:e,owner:t}=i;p({field:"editDetails",value:{name:e,owner:t}})}}},n.createElement(lt.A,{margin:"dense",name:"name",value:g,label:n.createElement("span",null,n.createElement(b.A,{id:"AdminPages.ApplicationSettings.Edit.form.name",defaultMessage:"Application Name"}),n.createElement(sn,null,"*")),fullWidth:!0,variant:"outlined",disabled:!0}),n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"owner",value:f,onChange:e=>{p({field:e.target.name,value:e.target.value})},label:a.formatMessage({id:"Applications.Listing.Listing.applications.edit.owner.label",defaultMessage:"Owner"}),fullWidth:!0,helperText:n.createElement(b.A,{id:"AdminPages.ApplicationSettings.Edit.form.helperText",defaultMessage:"Enter a new Owner. Make sure the new owner has logged into the Developer Portal at least once"}),variant:"outlined"}))}dn.defaultProps={icon:null},dn.propTypes={updateList:i().func.isRequired,dataRow:i().shape({applicationId:i().string.isRequired,owner:i().string.isRequired,name:i().string.isRequired}).isRequired,icon:i().element,triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired,applicationList:i().shape([]).isRequired};const mn=dn;function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},un.apply(null,arguments)}function pn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,En(n.key),n)}}function gn(e,t,a){return t=An(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fn()?Reflect.construct(t,a||[],An(e).constructor):t.apply(e,a))}function fn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fn=function(){return!!e})()}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},An(e)}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}function En(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let hn=function(e){function t(e){var a,r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=a=gn(this,t,[e]),o=e=>{const{EditComponent:t,editComponentProps:r,apiCall:i}=a.props;return n.createElement(n.Fragment,null,t&&n.createElement(t,un({dataRow:e,updateList:i},r)))},(i=En(i="handleAppEdit"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,a.state={notFound:!1},a.handleAppEdit=a.handleAppEdit.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(t,e),a=t,r=[{key:"render",value:function(){const{apps:e,editComponentProps:t,apiCall:a}=this.props,{notFound:r}=this.state;return r?n.createElement(I,null):n.createElement(da.A,{sx:{height:"100%","& tr:nth-of-type(odd) td":{backgroundColor:"#f5f5f5"},"& tr:nth-of-type(even) td":{backgroundColor:"#fff"}}},e&&e.map((e=>n.createElement(oa.A,{sx:{height:5,"& td":{padding:.5,paddingLeft:2}},key:e.applicationId},n.createElement(la.A,{align:"left"},e.name),n.createElement(la.A,{align:"left"},e.owner),n.createElement(la.A,{align:"left"},n.createElement(mn,un({dataRow:e,updateList:a},t)))))))}}],r&&pn(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);hn.propTypes={toggleDeleteConfirmation:i().func.isRequired,apps:i().instanceOf(Map).isRequired};const bn=hn;var vn=a(37618);const Mn=e=>{const t=[{id:"name",numeric:!1,disablePadding:!0,label:n.createElement(b.A,{id:"Applications.Listing.ApplicationTableHead.name",defaultMessage:"Name"}),sorting:!0},{id:"owner",numeric:!1,disablePadding:!1,label:n.createElement(b.A,{id:"Applications.Listing.ApplicationTableHead.owner",defaultMessage:"Owner"}),sorting:!0},{id:"actions",numeric:!1,disablePadding:!1,label:n.createElement(b.A,{id:"Applications.Listing.ApplicationTableHead.actions",defaultMessage:"Actions"}),sorting:!1}],{order:a,orderBy:r}=e;return n.createElement(ca.A,null,n.createElement(oa.A,null,t.map((t=>{return n.createElement(la.A,{key:t.id,align:"left",sortDirection:r===t.id&&a},t.sorting?n.createElement(vn.A,{active:r===t.id,direction:a,onClick:(i=t.id,t=>{e.onRequestSort(t,i)})},t.label):t.label);var i}))))};Mn.propTypes={onRequestSort:i().func.isRequired,order:i().string.isRequired,orderBy:i().string.isRequired};const Pn=Mn;var wn=a(75199),Cn=a(33501),Tn=a(86099);function Sn(){const e=(0,_.A)(),[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(0),[s,c]=(0,n.useState)(10),[d,m]=(0,n.useState)(0),[u,p]=(0,n.useState)("");function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return a(!0),(new Be).getApplicationList({limit:s,offset:e*s,user:t,name:n}).then((e=>{i(e.body.list);const{pagination:{total:t}}=e.body;return l(t),e.body.list})).catch((e=>{throw e})).finally((()=>{a(!1)}))}function f(){m(0),p(""),g(d,"","").then((e=>{i(e)}))}return(0,n.useEffect)((()=>{g(d).then((e=>{i(e)}))}),[d]),(0,n.useEffect)((()=>{g(d).then((e=>{i(e)}))}),[s]),n.createElement(ae,{title:e.formatMessage({defaultMessage:"Change Application Owner",id:"Applications.Listing.Listing.title"})},n.createElement(ot.A,{sx:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement("form",{onSubmit:function(e){e.preventDefault(),m(0),g(d).then((e=>{i(e)}))},style:{width:"100%"},disabled:t},n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{sx:{display:"block"},color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0,sx:{display:"flex",alignItems:"center"}},n.createElement(lt.A,{hiddenLabel:!0,variant:"standard",fullWidth:!0,id:"search-label",placeholder:e.formatMessage({defaultMessage:"Search Application by Name/Owner",id:"Applications.Listing.Listing.search.placeholder"}),sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},value:u,onChange:function(e){const t=e.target.value;""===t?f():p(t)}}),u.length>0&&n.createElement(nt.A,{title:e.formatMessage({defaultMessage:"Clear Search",id:"Applications.Listing.Listing.clear.search"})},n.createElement(V.A,{"aria-label":"delete",onClick:f,size:"large"},n.createElement(Tn.A,null)))),n.createElement(v.Ay,{item:!0},n.createElement(P.A,{variant:"contained",sx:{mr:1},type:"submit",disabled:t},t?n.createElement(b.A,{id:"Applications.Listing.Listing.applications.searching",defaultMessage:"Searching"}):n.createElement(b.A,{id:"Applications.Listing.Listing.applications.search",defaultMessage:"Search"}))))))),r&&r.length>0&&n.createElement(sa.A,{id:"itest-application-list-table"},n.createElement(Pn,null),n.createElement(bn,{apps:r,page:d,rowsPerPage:s,editComponentProps:{icon:n.createElement(At.A,{"aria-label":"edit-application-settings"}),title:e.formatMessage({id:"Applications.Listing.Listing.applications.list.title",defaultMessage:"Change Application Owner"}),applicationList:r},EditComponent:mn,apiCall:g}),n.createElement(wn.A,null,n.createElement(oa.A,null,n.createElement(Cn.A,{component:"td",count:o,rowsPerPage:s,rowsPerPageOptions:[5,10,15],labelDisplayedRows:t=>{let{from:a,to:n,count:r}=t;return-1!==r?e.formatMessage({id:"Applications.Listing.Listing.applications.list.rows.range.label",defaultMessage:"{from}-{to} of {count}"},{from:a,to:n,count:r}):e.formatMessage({id:"Applications.Listing.Listing.applications.list.rows.more.than.label",defaultMessage:"more than {to}"},{to:n})},labelRowsPerPage:e.formatMessage({id:"Applications.Listing.Listing.applications.list.rows.show.label",defaultMessage:"Show"}),page:d,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){m(t),g(t).then((e=>{i(e)}))},onRowsPerPageChange:function(e){const t=e.target.value,a=s/t,n=Math.floor(d*a);m(n),c(t),g(d).then((e=>{i(e)}))}})))),r&&0===r.length&&!t&&n.createElement(w.A,null,n.createElement(yt.A,{severity:"info"},n.createElement(E.A,{variant:"subtitle2"},n.createElement(b.A,{id:"Applications.Listing.Listing.empty.message",defaultMessage:"No Data to Display"})))))}function In(e){let{updateList:t,dataRow:a}=e;const{id:r}=a,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"AdminPages.Gateways.Delete.form.delete.confirmation.message.title",defaultMessage:"Delete Gateway Environment?"}),saveButtonText:i.formatMessage({id:"AdminPages.Gateways.Delete.form.delete.confirmation.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),triggerIconProps:{disabled:a&&a.isReadOnly},formSaveCallback:()=>(new Be).deleteGatewayEnvironment(r).then((()=>i.formatMessage({id:"AdminPages.Gateways.Delete.form.delete.successful",defaultMessage:"Gateway Environment deleted successfully"}))).catch((e=>{throw e.response.body.description})).finally((()=>{t()}))},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.Gateways.Delete.form.delete.confirmation.message",defaultMessage:"Are you sure you want to delete this Gateway Environment?"})))}In.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().number.isRequired}).isRequired};const xn=In;var Rn=a(13945),kn=a(22079),On=a(40921),Dn=a(48719),Ln=a(16576),Nn=a(72048);function Bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(a),!0).forEach((function(t){qn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wn(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?zn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const Gn=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Un(e){const t=(0,_.A)(),{onVhostChange:a,initialVhosts:r,gatewayType:i,isEditMode:o,isReadOnly:l}=e,[s,c]=(0,n.useState)([]),[d,m]=(0,n.useState)(0),u=e=>{const t=!["Regular","APK"].includes(e);return{host:"",httpContext:"",httpsPort:t?443:8243,httpPort:t?80:8280,wssPort:8099,wsPort:9099,isNew:!0}},p=(0,n.useRef)(),{settings:g}=Ve(),f=e=>t=>{let{target:{name:a,value:n}}=t,r=n;"httpContext"===e&&(r=n.replace(/(^\/|\/$)/g,"")),e.includes("Port")&&(r=parseInt(n,10)),((e,t,a)=>{const n=s.find((t=>t.key===e));n[t]=a;let r=s.filter((t=>t.key!==e));r=[].concat(Wn(r),[n]),r.sort(((e,t)=>e.key-t.key)),c(r)})(a,e,r)},[A,y]=(0,n.useState)(!1),[M,w]=(0,n.useState)(0),C=e=>{const t=e||M,a=s.filter((e=>e.key!==t));c(a),y(!1)},T=()=>{y(!1)};(0,n.useEffect)((()=>{const e=[];for(const t of s)t.host&&""!==t.host.trim()&&e.push(t);a({target:{name:"vhosts",value:e}})}),[s]),(0,n.useEffect)((()=>{if(r&&r.length>0){let e=0;c(r.map((t=>{const a=t;return a.key=""+e++,a}))),m(e)}else{m(d+1);const e=u(i);e.key=""+d,c([e])}}),[]),(0,n.useEffect)((()=>{if(p.gatewayType!==i){const e=g.gatewayConfiguration.filter((e=>e.type===i))[0];if(r&&r.length>0){let t=0;if(e&&!o){const a=e.defaultHostnameTemplate?e.defaultHostnameTemplate:"";c(r.map((n=>jn(jn({},n),{},{key:""+t++,host:a,isNew:""===a||!e.defaultHostnameTemplate}))))}else c(r.map((e=>jn(jn({},e),{},{key:""+t++,isNew:!!o||e.isNew}))));m(t)}else{m(d+1);const t=u(i);t.key=""+d,e&&e.defaultHostnameTemplate&&(t.host=e.defaultHostnameTemplate,""!==e.defaultHostnameTemplate&&(t.isNew=!1)),c([t])}p.gatewayType=i}else if((!((e=s).length>0)||1===e.length&&""===e[0].host)&&r&&r.length>0){let e=0;c(r.map((t=>{const a=jn({},t);return a.key=""+e++,a}))),m(e)}var e}),[r,i]);let S=1;return n.createElement(kn.A,null,n.createElement(v.Ay,{container:!0,spacing:0},s&&s.map((e=>n.createElement(v.Ay,{item:!0,xs:12},n.createElement(h.A,{variant:"outlined",sx:e=>({padding:e.spacing(1),marginBottom:e.spacing(1)})},n.createElement(v.Ay,{container:!0,direction:"row",spacing:0},n.createElement(v.Ay,{item:!0,xs:9},n.createElement(lt.A,{margin:"dense",name:e.key,disabled:!e.isNew||l,onChange:f("host"),label:n.createElement("span",null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host",defaultMessage:"Host"}),"-",S++,n.createElement(Gn,null,"*")),value:e.host,helperText:n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.helper.text",defaultMessage:"ex: mg.wso2.com"}),variant:"outlined","data-testid":"vhost"})),n.createElement(v.Ay,{item:!0,xs:3},n.createElement(v.Ay,{container:!0,justifyContent:"flex-end"},n.createElement(P.A,{name:e.key,variant:"outlined",color:"primary",onClick:()=>{return t=e.key,void(e.isNew?C(t):(w(t),y(!0)));var t},disabled:1===s.length||l},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.remove.btn",defaultMessage:"Remove"}))),n.createElement(St.A,{open:A,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(Rt.A,{id:"alert-dialog-title"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.remove.dialog.title",defaultMessage:"Remove Existing Vhost?"})),n.createElement(xt.A,null,n.createElement(Tt.A,{id:"alert-dialog-description"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.remove.dialog.content",defaultMessage:"Removing an existing VHost may result in inconsistent state if APIs are deployed with this VHost. Please make sure there are no APIs deployed with this VHost or redeploy those APIs."}))),n.createElement(It.A,null,n.createElement(P.A,{onClick:T,color:"primary",autoFocus:!0},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.remove.dialog.no.btn",defaultMessage:"No, Don't Remove"})),n.createElement(P.A,{onClick:()=>C(""),color:"primary"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.remove.dialog.yes.btn",defaultMessage:"Yes"}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(E.A,{variant:"body1",style:{marginLeft:"8px"}},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.gateway.access.url",defaultMessage:"Gateway Access URLs"}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(E.A,{color:"textSecondary",variant:"body2",style:{marginLeft:"16px"}},"http://".concat(e.host||"<HOST>",":").concat(e.httpPort,"/").concat(e.httpContext," |\n                                            https://").concat(e.host||"<HOST>",":").concat(e.httpsPort,"/").concat(e.httpContext),n.createElement("br",null),"Regular"===i&&"ws://".concat(e.host||"<HOST>",":").concat(e.wsPort,"/ |\n                                            wss://").concat(e.host||"<HOST>",":").concat(e.wssPort,"/"))),n.createElement(v.Ay,{item:!0,xs:12,style:{marginTop:"16px"}},n.createElement(On.A,null,n.createElement(Dn.A,{expandIcon:n.createElement(Nn.A,null),"aria-controls":"panel1a-content",id:"panel1a-header"},n.createElement(E.A,null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.gateway.advanced.settings",defaultMessage:"Advanced Settings"}))),n.createElement(Ln.A,null,n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{margin:"dense",name:e.key,disabled:!e.isNew||l,onChange:f("httpContext"),label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.host.gateway.http.context",defaultMessage:"HTTP(s) context"}),value:e.httpContext,variant:"outlined"})),[{name:"httpPort",caption:t.formatMessage({defaultMessage:"HTTP Port",id:"GatewayEnvironments.AddEditVhost.httpPort"})},{name:"httpsPort",caption:t.formatMessage({defaultMessage:"HTTPS Port",id:"GatewayEnvironments.AddEditVhost.httpsPort"})}].map((t=>n.createElement(v.Ay,{item:!0,xs:3},n.createElement(lt.A,{margin:"dense",name:e.key,disabled:!e.isNew||l,onChange:f(t.name),label:t.caption,value:e[t.name],type:"number",variant:"outlined"})))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(ie.A,{variant:"middle",sx:e=>({borderColor:"LightGray",margin:e.spacing(1),opacity:.2})})),"Regular"===i&&n.createElement(v.Ay,{item:!0,xs:12},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:6}),[{name:"wsPort",caption:t.formatMessage({defaultMessage:"WS Port",id:"GatewayEnvironments.AddEditVhost.wsPort"})},{name:"wssPort",caption:t.formatMessage({defaultMessage:"WSS Port",id:"GatewayEnvironments.AddEditVhost.wssPort"})}].map((t=>n.createElement(v.Ay,{item:!0,xs:3},n.createElement(lt.A,{margin:"dense",name:e.key,disabled:!e.isNew||l,onChange:f(t.name),label:t.caption,value:e[t.name],type:"number",variant:"outlined"}))))))))))))))),("Regular"===i||"APK"===i||"other"===i)&&n.createElement(v.Ay,{item:!0,xs:12},n.createElement(P.A,{name:"newVhost",variant:"outlined",color:"primary",onClick:()=>{const e=u(i);e.key=""+d,m(d+1);const t=[].concat(Wn(s),[e]);c(t)},disabled:l},n.createElement(b.A,{id:"GatewayEnvironments.AddEditVhost.add.vhost.btn",defaultMessage:"New VHost"})))))}Un.defaultProps={initialVhosts:[],isEditMode:!1,isReadOnly:!1},Un.propTypes={onVhostChange:i().func.isRequired,gatewayType:i().string.isRequired,isEditMode:i().bool,isReadOnly:i().bool,initialVhosts:i().arrayOf(i().shape({host:i().string.isRequired,httpContext:i().string,httpPort:i().number.isRequired,httpsPort:i().number.isRequired,wsPort:i().number.isRequired,wssPort:i().number.isRequired}))};const Vn=Un;var Kn=a(69307),Fn=a(8641),_n=a(5673),Hn=a(76768);function Zn(e){const{value:t,onChange:a,name:r,required:i,validating:o,hasErrors:l}=e,[s,c]=(0,n.useState)(!1);return n.createElement(Fn.A,{name:r,value:t,type:s?"text":"password",onChange:a,labelWidth:70,margin:"dense",error:i&&l("gatewayConfig",t,o),endAdornment:n.createElement(ba.A,{position:"end"},n.createElement(V.A,{"aria-label":"toggle password visibility",onClick:()=>c(!s),onMouseDown:()=>c(!s),edge:"end",size:"large"},s?n.createElement(_n.A,null):n.createElement(Hn.A,null)))})}function Yn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xn(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Xn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const Qn=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),Jn=(0,k.Ay)(jt.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1.5),marginTop:t.spacing(1),marginBottom:t.spacing(1),width:"100%","&:hover":{borderColor:t.palette.text.primary},"&.Mui-focused":{borderColor:t.palette.primary.main,borderWidth:2}}}));function $n(e){const{gatewayConfigurations:t,additionalProperties:a,setAdditionalProperties:r,gatewayId:i,hasErrors:o,validating:l}=e,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=[];return e.forEach((e=>{const n=t?"".concat(t,".").concat(e.name):e.name;a.push(e.name),e.values&&e.values.length>0&&e.values.forEach((e=>{"object"==typeof e&&e.values&&a.push.apply(a,Yn(s(e.values,n)))}))})),a},c=(e,t)=>{if(!e.values||!t)return[];const a=e.values.find((e=>"string"==typeof e?e===t:e.name===t));return a&&a.values?a.values:[]},d=(e,t)=>{if(!e.values||!e.values.length)return;const n=[];e.values.forEach((e=>{"object"==typeof e&&e.values&&n.push.apply(n,Yn(s(e.values)))}));const i=[],o=c(e,t);o.length>0&&i.push.apply(i,Yn(s(o))),n.filter((e=>!i.includes(e))).forEach((e=>{void 0!==a[e]&&r(e,void 0)}))},m=e=>{let n;const{name:i,value:o,type:l}=e.target;if("checkbox"===l)if(n=a[i]?a[i]:[],e.target.checked)n.push(o);else{const t=n.filter((t=>t!==e.target.value));n=t}else n=o;const s=e=>{for(const t of e){if(t.name===i)return t;if(t.values&&t.values.length>0)for(const e of t.values)if("object"==typeof e&&e.values){const t=s(e.values);if(t)return t}}return null},c=s(t);!c||"dropdown"!==c.type&&"options"!==c.type&&"select"!==c.type||d(c,n),r(i,n)};(0,n.useEffect)((()=>{if(!t||0===t.length)return;const e=s(t);Object.keys(a).forEach((t=>{e.includes(t)||r(t,void 0)})),t.forEach((e=>{if(("dropdown"===e.type||"options"===e.type||"select"===e.type)&&e.values&&e.values.length>0&&e.values.some((e=>"object"==typeof e&&e.values))){const t=a[e.name];t&&d(e,t)}}))}),[t,a]);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((e=>{const r=t?"".concat(t,".").concat(e.name):e.name,s=e.values&&e.values.length>0&&e.values.some((e=>"object"==typeof e&&e.values));return n.createElement(w.A,{key:"".concat(r),mb:3},(e=>{let t="";const r=Boolean(e.updateDisabled&&i);if(a[e.name])t=a[e.name];else if(!i&&(e.default||e.defaultValue)){const t=e.default||e.defaultValue;"string"==typeof t&&["input","select","options","dropdown"].includes(e.type)&&m({target:{name:e.name,value:t,type:e.type}})}return"input"===e.type?e.mask?n.createElement(jt.A,{variant:"outlined",fullWidth:!0,disabled:r},n.createElement(Rn.A,{sx:{bgcolor:"white"}},e.label,e.required&&n.createElement(Qn,null,"*")),n.createElement(Zn,{value:t,onChange:m,name:e.name,required:e.required,hasErrors:o,validating:l}),n.createElement(Fa.A,null,o("gatewayConfig",t,l)||e.tooltip)):n.createElement(lt.A,{id:e.name,margin:"dense",name:e.name,label:n.createElement("span",null,e.label,e.required&&n.createElement(Qn,null,"*")),fullWidth:!0,error:e.required&&o("gatewayConfig",t,l),helperText:o("gatewayConfig",t,l)||e.tooltip,variant:"outlined",value:t,defaultValue:e.default||e.defaultValue,onChange:m,disabled:r}):"options"===e.type?n.createElement(Jn,{component:"fieldset"},n.createElement(jt.A,{variant:"standard",component:"fieldset",disabled:r},n.createElement(Kn.A,{component:"legend"},n.createElement("span",null,e.label,e.required&&n.createElement(Qn,null,"*"))),n.createElement(qt.A,{row:!0,"aria-label":e.label,name:e.name,value:t,onChange:m,sx:{width:"100%"}},e.values.map((e=>{const t="string"==typeof e?e:e.name,a="string"==typeof e?e:e.label;return n.createElement(Wt.A,{key:t,value:t,control:n.createElement(zt.A,null),label:a})}))))):n.createElement(lt.A,{id:e.name,margin:"dense",name:e.name,label:e.label,fullWidth:!0,required:!0,helperText:e.tooltip,variant:"outlined",value:t,defaultValue:e.default||e.defaultValue,onChange:m,disabled:r})})(e),s&&a[e.name]&&n.createElement(w.A,{ml:2,mt:2},u(c(e,a[e.name]),r)))}))};return n.createElement("div",null,u(t))}function er(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?er(Object(a),!0).forEach((function(t){ar(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):er(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ar(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}$n.defaultProps={gatewayConfigurations:[],required:!1,helperText:n.createElement(b.A,{id:"Gateway.Configuration.Helper.text",defaultMessage:"Add Gateway Connector Configurations"}),hasErrors:()=>{},validating:!1};const nr=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),rr=(0,k.Ay)(ae)({"@global":{".MuiFormControl-root":{marginTop:"20px"},".MuiFormControl-root:first-of-type":{marginTop:"0"}}}),ir=(0,k.Ay)("hr")({border:"solid 1px #efefef"}),or=(0,k.Ay)((()=>({chipInputBox:{marginRight:"30px",marginLeft:"10px",marginTop:"10px",marginBottom:"10px"}})));function lr(e,t){let{field:a,value:n}=t;switch(a){case"name":case"displayName":case"gatewayType":case"gatewayMode":case"description":case"type":case"roles":case"scheduledInterval":case"additionalProperties":case"vhosts":return tr(tr({},e),{},{[a]:n});case"editDetails":return n;case"permissionType":return tr(tr({},e),{},{permissions:tr(tr({},e.permissions),{},{[a]:n})});default:return e}}function sr(e){const t=or(),a=(0,_.A)(),{dataRow:r}=e,{settings:i}=Ve(),[o,l]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[d,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[A,y]=(0,n.useState)(!1),[h,C]=(0,n.useState)(!1),{gatewayTypes:T}=i,S=e=>{const t=!["Regular","APK"].includes(e);return{host:"",httpContext:"",httpsPort:t?443:8243,httpPort:t?80:8280,wssPort:8099,wsPort:9099,isNew:!0}},{match:{params:{id:I}},history:x}=e,R=r&&r.permissions?r.permissions:{roles:[],permissionType:"PUBLIC"},k=T&&T.length>1&&T.includes("Regular")?"Regular":T[0],[O,D]=(0,n.useState)({name:"",displayName:"",description:"",gatewayType:k,gatewayMode:"WRITE_ONLY",scheduledInterval:0,type:"hybrid",vhosts:[S(k)],permissions:R,additionalProperties:{}}),[L,N]=(0,n.useState)(!1),[B,j]=(0,n.useState)((null==r?void 0:r.isReadOnly)||!1),[q,W]=(0,n.useReducer)(lr,O),{name:z,displayName:G,description:U,vhosts:V,type:K,gatewayType:F,gatewayMode:H,scheduledInterval:Z,permissions:Y,additionalProperties:X}=q,[Q,J]=(0,n.useState)([]);(0,n.useEffect)((()=>{I?((new Be).getGatewayEnvironment(I).then((e=>{var t;const{body:a}=e,n={};a.additionalProperties.forEach((e=>{n[e.key]=e.value}));const r={name:a.name||"",displayName:a.displayName||"",description:a.description||"",gatewayType:a.gatewayType||"",gatewayMode:a.mode||"",scheduledInterval:null!==(t=a.apiDiscoveryScheduledWindow)&&void 0!==t?t:0,type:a.type||"",vhosts:a.vhosts||[],permissions:a.permissions||R,additionalProperties:n||{}};j(a.isReadOnly||!1),W({field:"editDetails",value:r})})),N(!0)):D({name:"",displayName:"",description:"",gatewayType:"",gatewayMode:"WRITE_ONLY",scheduledInterval:0,type:"hybrid",vhosts:[S("Regular")],permissions:{roles:[],permissionType:"PUBLIC"}})}),[]),(0,n.useEffect)((()=>{Y&&Y.roles&&J(Y.roles)}),[Y]),(0,n.useEffect)((()=>{const e=i.gatewayConfiguration.filter((e=>e.type===F))[0];p("other"===F?[]:e.configurations),f(e.supportedModes)}),[F]);let $="";Y&&($=q.permissions.permissionType);const ee=new Be,te=e=>{"GatewayPermissionRestrict"===e.target.name&&($=e.target.value,W({field:"permissionType",value:$})),W({field:e.target.name,value:e.target.value})};(0,n.useEffect)((()=>{(null==g||!g.includes(H))&&(null==g?void 0:g.length)>0&&te({target:{name:"gatewayMode",value:g[0]}})}),[g]);const ae=e=>{if(!e)return!1;if(!e.host)return a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.vhost.host.empty",defaultMessage:"Host of Vhost is empty"});if(e.httpContext&&!e.httpContext.match(/^\/?([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])*$/g))return a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.vhost.context.invalid",defaultMessage:"Invalid Http context"});if(["Regular","APK"].includes(F)){let t;const a=["httpPort","httpsPort","wsPort","wssPort"];for(const n of a)if(t=Number.isInteger(e[n])&&e[n]>=1&&e[n]<=65535?"":"Invalid Port",t)return t}return!1},ne=(e,t,n)=>{let r;if(!n)return!1;switch(e){case"name":if(void 0===t){r=!1;break}r=""===t?a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.environment.name.empty",defaultMessage:"Name is Empty"}):!/^[A-Za-z0-9_-]+$/.test(t)&&a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.environment.name.invalid",defaultMessage:"Name must not contain special characters or spaces"});break;case"displayName":if(void 0===t){r=!1;break}""===t&&(r=a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.environment.displayName.empty",defaultMessage:"Display Name is Empty"}));break;case"vhosts":{if(void 0===t){r=!1;break}if(0===t.length){r=a.formatMessage({id:"AdminPagesGatewayEnvironments.AddEditGWEnvironment.form.environment.vhost.empty",defaultMessage:"VHost is empty"});break}const e=t.map((e=>e.host));if(e.length!==new Set(e).size){r=a.formatMessage({id:"AdminPagesGatewayEnvironments.AddEditGWEnvironment.form.environment.vhost.duplicate",defaultMessage:"VHosts are duplicated"});break}for(const e of t)if(r=ae(e),r)break;break}case"scheduledInterval":r=""===t?a.formatMessage({id:"AdminPagesGatewayEnvironments.AddEditGWEnvironment.form.environment.scheduledInterval.empty",defaultMessage:"Scheduled interval is empty"}):parseInt(t,10)<0?a.formatMessage({id:"AdminPagesGatewayEnvironments.AddEditGWEnvironment.form.environment.scheduledInterval.parse",defaultMessage:"Invalid scheduled interval"}):"";break;case"gatewayConfig":""===t&&(r=a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.gateway.config.empty",defaultMessage:"Required field is empty"}))}return r},re=I?"".concat(a.formatMessage({id:"Gateways.AddEditGateway.title.edit",defaultMessage:"Gateway Environment - Edit "})," ").concat(q.name):a.formatMessage({id:"Gateways.AddEditGateway.title.new",defaultMessage:"Gateway Environment - Create new"}),ie={WRITE_ONLY:{displayName:"Write-Only",helperText:"APIs can only be deployed to the Gateway"},READ_ONLY:{displayName:"Read-Only",helperText:"APIs can only be discovered from the Gateway"},READ_WRITE:{displayName:"Read-Write",helperText:"APIs can be both deployed to and discovered from the Gateway"}};return n.createElement(rr,{pageStyle:"half",title:re,help:n.createElement("div",null)},n.createElement(w.A,{component:"div",m:2,sx:e=>({mb:e.spacing(10)})},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"GatewayEnvironments.AddEditGWEnvironment.general.details.div"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"GatewayEnvironments.AddEditGWEnvironment.general.details.description.div"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.general.details.description",defaultMessage:"Provide name and description of the Gateway Environment"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{id:"name",autoFocus:!0,margin:"dense",name:"name",label:n.createElement("span",null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.name",defaultMessage:"Name"}),n.createElement(nr,null,"*")),fullWidth:!0,variant:"outlined",value:q.name,disabled:!!I||B,onChange:e=>W({field:"name",value:e.target.value}),error:ne("name",q.name,A),helperText:ne("name",q.name,A)||a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.name.help",defaultMessage:"Name of the Gateway Environment."})})),n.createElement(v.Ay,{item:!0,xs:6},n.createElement(w.A,{ml:1},n.createElement(lt.A,{id:"displayName",margin:"dense",name:"displayName",fullWidth:!0,variant:"outlined",value:q.displayName,disabled:!!I||B,onChange:e=>W({field:"displayName",value:e.target.value}),label:n.createElement("span",null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.displayName",defaultMessage:"Display Name"}),n.createElement(nr,null,"*")),error:ne("displayName",q.displayName,A),helperText:ne("displayName",q.displayName,A)||a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.name.form.displayName.help",defaultMessage:"Display name of the Gateway Environment."})})))),n.createElement(lt.A,{id:"description",multiline:!0,minRows:4,maxRows:10,margin:"dense",name:"description",label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.description",defaultMessage:"Description"}),fullWidth:!0,variant:"outlined",value:q.description,disabled:B,onChange:e=>W({field:"description",value:e.target.value}),helperText:a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.name.form.description.help",defaultMessage:"Description of the Gateway Environment."})}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"gatewayEnvironment-type"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.GatewayEnvironment.type",defaultMessage:"Gateway Environment Type"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AddEditGWEnvironment.External.GatewayEnvironment.description.container"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.External.GatewayEnvironment.general.details.description",defaultMessage:"Gateway vendor"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0,error:ne("type",K,A)},n.createElement(Rn.A,{sx:{position:"relative"}},n.createElement(b.A,{defaultMessage:"Gateway Environment Type",id:"Admin.GatewayEnvironment.form.type"}),n.createElement(nr,null,"*")),n.createElement(Gt.A,{variant:"outlined",id:"Admin.GatewayEnvironment.form.type.select",name:"gatewayType",value:F,disabled:!!I||B,onChange:te,"data-testid":"gateway-environment-type-select"},i.gatewayTypes.map((e=>{return n.createElement(Ut.A,{key:e,value:e},"Regular"===(t=e)?"Universal Gateway":"APK"===t?"Kubernetes Gateway":t+" Gateway");var t}))),n.createElement(Fa.A,null,ne("gatewayType",K,A)||n.createElement(b.A,{defaultMessage:"Select Gateway Environment Type",id:"GatewayEnvironments.AddEditGWEnvironment.form.type.help"}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.mode",defaultMessage:"Gateway Mode"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.mode.description",defaultMessage:"Deployability or discoverabilty of APIs"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(jt.A,{variant:"outlined",fullWidth:!0},n.createElement(Rn.A,{id:"demo-simple-select-label"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.mode.label",defaultMessage:"Mode"})),n.createElement(Gt.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"gatewayMode",value:H,label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.mode.select.label",defaultMessage:"Mode"}),onChange:te,disabled:L},(null==g?void 0:g.length)>0&&g.map((e=>{var t,a;return n.createElement(Ut.A,{key:e,value:e},n.createElement(w.A,{display:"flex",flexDirection:"column"},n.createElement(E.A,{color:"inherit",variant:"subtitle3",component:"div",id:"GatewayEnvironments.AddEditGWEnvironment.mode.select.heading"},(null===(t=ie[e])||void 0===t?void 0:t.displayName)||e),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"GatewayEnvironments.AddEditGWEnvironment.mode.select .helper"},(null===(a=ie[e])||void 0===a?void 0:a.helperText)||e)))}))),n.createElement(Fa.A,null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.mode.helper.text",defaultMessage:"Select the deployability or discoverability of APIs"}))),("READ_ONLY"===H||"READ_WRITE"===H)&&n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"scheduledInterval",value:Z,onChange:te,disabled:B,type:"number",label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.mode .scheduled.interval",defaultMessage:"API Discovery Scheduling Interval"}),required:!0,error:ne("scheduledInterval",q.scheduledInterval,A),helperText:ne("scheduledInterval",q.scheduledInterval,A)||a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.mode.scheduledInterval.help",defaultMessage:"Provide interval in minutes for scheduling API discovery"}),sx:{width:350,mt:3},variant:"outlined"}))),u&&u.length>0&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"GatewayEnvironments.AddEditGWEnvironment.connector.configurations.header"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.connector.configurations",defaultMessage:"Gateway Connector Configurations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"GatewayEnvironments.AddEditGWEnvironment.connector.configurations.body"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.connector.configurations .description",defaultMessage:"Provide connection params for the selected Gateway Environment."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement($n,{gatewayConfigurations:u,additionalProperties:Se()(X),setAdditionalProperties:(e,t)=>{const a=Se()(X);void 0===t?delete a[e]:a[e]=t,W({field:"additionalProperties",value:a})},hasErrors:ne,validating:A,gatewayId:Se()(I),isReadOnly:B})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"GatewayEnvironment.type",defaultMessage:"Key Type"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.type.description",defaultMessage:"Key type supported by the Gateway Environment"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(jt.A,{variant:"outlined",fullWidth:!0},n.createElement(Rn.A,{id:"demo-simple-select-label"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.label",defaultMessage:"Type"})),n.createElement(Gt.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:K,name:"type",label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.label",defaultMessage:"Type"}),onChange:te,disabled:L},n.createElement(Ut.A,{value:"hybrid"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.hybrid.option",defaultMessage:"Hybrid"})),n.createElement(Ut.A,{value:"production"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.prod.option",defaultMessage:"Production"})),n.createElement(Ut.A,{value:"sandbox"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.sandbox.option",defaultMessage:"Sandbox"}))),n.createElement(Fa.A,null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.type.helper.text",defaultMessage:"Supported Key Type of the Gateway Environment"})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"GatewayEnvironment.visibility",defaultMessage:"Visibility"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.visibility.add.description",defaultMessage:"Visibility of the Gateway Environment"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0},n.createElement(Rn.A,{id:"demo-simple-select-label",sx:{position:"relative"}},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility",defaultMessage:"Visibility"})),n.createElement(Gt.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:$,name:"GatewayPermissionRestrict",label:n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility.select",defaultMessage:"Visibility"}),onChange:te,disabled:B},n.createElement(Ut.A,{key:"PUBLIC",value:"PUBLIC"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility.public.option",defaultMessage:"Public"})),n.createElement(Ut.A,{key:"Restricted",value:"ALLOW"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility.allow.option",defaultMessage:"Allow for role(s)"})),n.createElement(Ut.A,{key:"Restricted",value:"DENY"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility.deny.option",defaultMessage:"Deny for role(s)"}))),n.createElement(Fa.A,null,n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.visibility.helper.text",defaultMessage:"Visibility of the Gateway Environment"})),n.createElement(w.A,{component:"div",m:1},("ALLOW"===$||"DENY"===$)&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center",margin:"dense",classes:{root:t.chipInputBox}},n.createElement(Aa.b,{fullWidth:!0,label:"Roles",InputLabelProps:{shrink:!0},name:"GatewayEnvironmentPermissions",variant:"outlined",value:Q.concat(o,s),alwaysShowPlaceholder:!1,placeholder:"Enter roles and press Enter",disabled:B,blurBehavior:"clear","data-testid":"gateway-permission-roles",InputProps:{endAdornment:!d&&n.createElement(ba.A,{position:"end",sx:{position:"absolute",right:"25px",top:"50%"}},n.createElement(ha.A,{color:"error"}))},onAddChip:e=>{ee.validateSystemRole(Ea().encode(e)).then((()=>{Q.includes(e)||o.includes(e)||s.includes(e)?Dt.error("Role already added: "+e):(l(o.concat(e)),0===s.length?m(!0):m(!1))})).catch((t=>{404===t.status?(c(s.concat(e)),m(!1)):(Dt.error("Error when validating role: "+e),console.error("Error when validating role "+t))}))},renderChip:(e,t,a)=>n.createElement(e,{key:a.label,label:a.label,onDelete:()=>(e=>{if(s.includes(e)){const t=s.filter((t=>t!==e));c(t),0===t.length&&m(!0)}else Q.includes(e)?J(Q.filter((t=>t!==e))):l(o.filter((t=>t!==e)))})(a.label),"data-testid":a.label,style:{backgroundColor:s.includes(a.label)?va.A[300]:null,margin:"8px 8px 8px 0",float:"left"}}),error:!d,helperText:d?["ALLOW"===$?n.createElement(b.A,{id:"Gateway.AddEditGWEnvironment.permission. allowed",defaultMessage:'Use of this Gateway Environment is "Allowed" for above roles.'}):n.createElement(b.A,{id:"Gateway.AddEditGWEnvironment.permission .denied",defaultMessage:'Use of this Gateway Environment is "Denied" for above roles.'})," ",n.createElement(b.A,{id:"Gateway.AddEditGWEnvironment.permission.help",defaultMessage:"Enter a valid role and press `Enter`"})]:n.createElement(b.A,{id:"Gateway.AddEditGWEnvironment.permission.Invalid",defaultMessage:"Invalid Role(s) Found"})})))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"GatewayEnvironment.vhosts",defaultMessage:"Vhosts"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.visibility.add.description",defaultMessage:"Configure vhosts"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(Vn,{initialVhosts:V,onVhostChange:te,gatewayType:F,isEditMode:L,isReadOnly:B}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ir,null))),n.createElement(v.Ay,{item:!0,xs:12,mb:2},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{id:"gateway-add",variant:"contained",color:"primary",onClick:()=>{if(y(!0),""!==(()=>{let e="";const t=ne("name",z,!0),n=ne("displayName",G,!0),r=ne("vhosts",V,!0),i=ne("scheduledInterval",Z,!0);t&&(e+=t+"\n"),n&&(e+=n+"\n"),r&&(e+=r+"\n"),i&&(e+=i+"\n");let o=!1;const l=e=>{for(const t of e){if(t.required&&(!X[t.name]||""===X[t.name]))return!0;if(t.values&&t.values.length>0&&X[t.name]){const e=t.values.find((e=>"string"==typeof e?e===X[t.name]:e.name===X[t.name]));if(e&&"object"==typeof e&&e.values&&l(e.values))return!0}}return!1};return o=l(u),o&&(e+=a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.gateway.config.has.errors",defaultMessage:"Connector configuration has errors"})+"\n"),e})())return Dt.error(a.formatMessage({id:"GatewayEnvironments.AddEditGWEnvironment.form.has.errors",defaultMessage:"One or more fields contain errors"})),!1;C(!0);const e=[];"Regular"===F?V.forEach((t=>{e.push({host:t.host,httpContext:t.httpContext,httpPort:t.httpPort,httpsPort:t.httpsPort,wsPort:t.wsPort,wssPort:t.wssPort})})):"APK"===F&&V.forEach((t=>{e.push({host:t.host,httpContext:t.httpContext,httpPort:t.httpPort,httpsPort:t.httpsPort})}));let t="wso2";["Regular","APK"].includes(F)||(V.forEach((t=>{e.push({host:t.host,httpContext:t.httpContext,httpPort:t.httpPort,httpsPort:t.httpsPort})})),t="external"),Y.permissionType=q.permissions.permissionType,Y.roles=Q.concat(o);const n=[];let r;return Object.keys(q.additionalProperties).forEach((e=>{n.push({key:e,value:q.additionalProperties[e]})})),I?r=ee.updateGatewayEnvironment(I,z.trim(),G,K,U,F,H,Z,e,Y,n,t):(r=ee.addGatewayEnvironment(z.trim(),G,K,U,F,H,Z,e,Y,n,t),r.then((()=>a.formatMessage({id:"Environment.add.success",defaultMessage:"Gateway Environment added successfully."})))),r.then((()=>{I?Dt.success("".concat(z," ").concat(a.formatMessage({id:"Environment.edit.success",defaultMessage:" - Gateway Environment edited successfully."}))):Dt.success("".concat(z," ").concat(a.formatMessage({id:"Environment.add.success",defaultMessage:" - Gateway Environment added successfully."}))),C(!1),x.push("/settings/environments/")})).catch((e=>{const{response:t}=e;t.body&&Dt.error(t.body.description),C(!1)})),!0},disabled:!d||B,"data-testid":"form-dialog-base-save-btn"},h?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,I?n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.update.btn",defaultMessage:"Update"}):n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.add",defaultMessage:"Add"})))),n.createElement(M.N_,{to:"/settings/environments"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"GatewayEnvironments.AddEditGWEnvironment.form.cancel",defaultMessage:"Cancel"})))))))}sr.defaultProps={dataRow:null},sr.propTypes={dataRow:i().shape({id:i().string.isRequired,name:i().string.isRequired,displayName:i().string.isRequired,description:i().string.isRequired,isReadOnly:i().bool.isRequired,vhosts:i().shape([])}),triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired};const cr=sr;var dr=a(60195),mr=a(69554);function ur(e){const{type:t,roles:a}=e;let r="";r="PUBLIC"===t?"No Visibility Restrictions!":"ALLOW"===t?"Allowed for : "+a.toString():"Denied for : "+a.toString();const i="ALLOW"===t||"DENY"===t?"RESTRICTED":t,[o,l]=(0,n.useState)(null),s=()=>{l(null)},c=Boolean(o);return n.createElement("div",null,n.createElement(mr.A,{size:"small",label:i,sx:{cursor:"default"},onMouseEnter:e=>{l(e.currentTarget)},onMouseLeave:s}),n.createElement(tt.Ay,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:c,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:s,disableRestoreFocus:!0},n.createElement(E.A,{sx:{p:1,backgroundColor:"white",color:"black",border:"1px solid #ccc",maxWidth:"300px",wordWrap:"break-word",whiteSpace:"normal"}},r)))}var pr=a(74353),gr=a.n(pr),fr=a(6279),Ar=a.n(fr);function yr(e){let{open:t,onClose:a,environmentId:r,environmentName:i}=e;const o=(0,_.A)(),[l,s]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)([]),p={ACTIVE:"success",EXPIRED:"error"};(0,n.useEffect)((()=>{t&&r&&(()=>{s(!0),d(null),u([]);const e=new Be;let t=r;/[^A-Za-z0-9]/.test(r)&&(t=btoa(r)),e.getEnvironmentGateways(t).then((e=>{e.body&&Array.isArray(e.body.list)?u(e.body.list):u([])})).catch((e=>{d((null==e?void 0:e.message)||"Failed to fetch gateway instances"),Dt.error((null==e?void 0:e.message)||"Failed to fetch gateway instances")})).finally((()=>s(!1)))})()}),[t,r]);const g=[{name:"gatewayId",label:o.formatMessage({id:"AdminPages.Gateways.GatewayInstances.table.header.gatewayID",defaultMessage:"Gateway ID"}),options:{filter:!1,sort:!0}},{name:"lastActive",label:o.formatMessage({id:"AdminPages.Gateways.GatewayInstances.table.header.lastActive",defaultMessage:"Last Active"}),options:{filter:!1,sort:!0,customBodyRender:e=>e?gr()(e).fromNow():"-"}},{name:"status",label:o.formatMessage({id:"AdminPages.Gateways.GatewayInstances.table.header.status",defaultMessage:"Status"}),options:{filter:!0,sort:!0,customBodyRender:e=>n.createElement(mr.A,{label:e,color:p[e]||"default",variant:"outlined",size:"small"})}}],f={filterType:"checkbox",selectableRows:"none",filter:!0,search:!0,print:!1,download:!1,viewColumns:!1,customToolbar:!1,responsive:"stacked",sortOrder:{name:"lastActive",direction:"desc"},textLabels:{body:{noMatch:o.formatMessage({id:"AdminPages.Gateways.GatewayInstances.table.no.records.found",defaultMessage:"No live gateway instances found for this environment."})},pagination:{rowsPerPage:o.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:o.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return n.createElement(St.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0},n.createElement(Rt.A,null,n.createElement(b.A,{id:"AdminPages.Gateways.GatewayInstances.dialog.title",defaultMessage:"Gateways in {env} Environment",values:{env:i}})),n.createElement(xt.A,null,l&&n.createElement(ut.A,null),c&&n.createElement(E.A,{color:"error",variant:"body2"},c),!l&&!c&&n.createElement(w.A,{px:3},n.createElement(mt.Ay,{title:null,data:m,columns:g,options:f}))),n.createElement(It.A,null,n.createElement(P.A,{onClick:a},n.createElement(b.A,{id:"AdminPages.Gateways.GatewayInstances.dialog.close",defaultMessage:"Close"}))))}gr().extend(Ar()),yr.propTypes={open:i().bool.isRequired,onClose:i().func.isRequired,environmentId:i().string,environmentName:i().string},yr.defaultProps={environmentId:"",environmentName:""};const Er=["className"];function hr(e){return function(e){if(Array.isArray(e))return br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return br(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?br(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function vr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(a),!0).forEach((function(t){Pr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wr.apply(null,arguments)}const Cr=(0,k.Ay)((e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,Er);return n.createElement(nt.A,wr({},a,{classes:{popper:t}}))}))((e=>{let{theme:t}=e;return{"& .MuiTooltip-tooltip":{backgroundColor:t.palette.common.white,color:t.palette.text.primary,fontSize:t.typography.pxToRem(14),boxShadow:t.shadows[4],borderRadius:t.shape.borderRadius,border:"1px solid ".concat(t.palette.divider)}}}));function Tr(){return(new Be).getGatewayEnvironmentList().then((e=>e.body.list.map((e=>Mr(Mr({},e),{},{id:R.A.encodeEnvironmentId(e.id)}))))).catch((e=>{throw e}))}function Sr(){const e=(0,_.A)(),{settings:t}=Ve(),[a,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[l,s]=(0,n.useState)(""),c=t.gatewayTypes.length>=2,d=[{name:"name",options:{display:!1}},{name:"displayName",label:e.formatMessage({id:"AdminPages.Gateways.table.header.displayName",defaultMessage:"Name"}),options:{sort:!0}}].concat(hr(c?[{name:"gatewayType",label:e.formatMessage({id:"AdminPages.Gateways.table.header.gatewayType",defaultMessage:"Gateway Type"}),options:{sort:!1}}]:[]),[{name:"type",label:e.formatMessage({id:"AdminPages.Gateways.table.header.type",defaultMessage:"Type"}),options:{sort:!1}},{name:"description",label:e.formatMessage({id:"AdminPages.Gateways.table.header.description",defaultMessage:"Description"}),options:{sort:!1}},{name:"vhosts",label:e.formatMessage({id:"AdminPages.Gateways.table.header.vhosts",defaultMessage:"Virtual Host(s)"}),options:{sort:!1,customBodyRender:e=>e.map((e=>n.createElement("div",{key:"".concat(e.host,":").concat(e.httpsPort)},"https://"+e.host+(443===e.httpsPort?"":":"+e.httpsPort)+(e.httpContext?"/"+e.httpContext.replace(/^\//g,""):""))))}},{name:"permissions",label:e.formatMessage({id:"AdminPages.Gateways.table.header.permission",defaultMessage:"Visibility"}),options:{sort:!1,customBodyRender:e=>n.createElement("div",null,n.createElement(ur,{type:e.permissionType,roles:e.roles}))}}],hr(t.isGatewayNotificationEnabled?[{name:"gatewayInstances",label:e.formatMessage({id:"AdminPages.Gateways.table.header.gatewayInstances",defaultMessage:"Gateway Instances"}),options:{sort:!1,customBodyRender:(t,a)=>{if("object"==typeof a.rowData){const t=a.rowData[c?8:7],i=a.rowData[1],l="Regular"!==(c?a.rowData[2]:"Regular"),d=n.createElement(V.A,{onClick:()=>((e,t)=>{o(e),s(t),r(!0)})(t,i),disabled:l},n.createElement(dr.A,{"aria-label":"gateway-instances-list-icon"}));return l?n.createElement(Cr,{title:e.formatMessage({id:"AdminPages.Gateways.table.gatewayInstances.tooltip.notSupported",defaultMessage:"Not supported for this gateway type"})},n.createElement("span",null,d)):d}return n.createElement("div",null)}}}]:[]),[{name:"id",options:{display:!1}}]),m={triggerButtonText:e.formatMessage({id:"AdminPages.Gateways.List.addButtonProps.triggerButtonText",defaultMessage:"Add Gateway Environment"}),title:e.formatMessage({id:"AdminPages.Gateways.List.addButtonProps.title",defaultMessage:"Add Gateway Environment"})},u={searchPlaceholder:e.formatMessage({id:"AdminPages.Gateways.List.search.default",defaultMessage:"Search Gateway by Name, Description or Host"}),active:!0},p={pageStyle:"half",title:e.formatMessage({id:"AdminPages.Gateways.List.title",defaultMessage:"Gateway Environments"})},g={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"AdminPages.Gateways.List.empty.content.Gateways",defaultMessage:"It is possible to create a Gateway environment with virtual hosts to access APIs. API revisions can be attached with Vhost to access it."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"AdminPages.Gateways.List.empty.title",defaultMessage:"Gateway Environments"}))};return n.createElement(n.Fragment,null,n.createElement(wt,{columProps:d,pageProps:p,addButtonProps:m,searchProps:u,emptyBoxProps:g,apiCall:Tr,EditComponent:cr,addButtonOverride:n.createElement(P.A,{component:M.N_,to:"/settings/environments/create",variant:"contained",color:"primary",size:"small","data-testid":"form-dialog-base-trigger-btn"},e.formatMessage({id:"Gateways.ListGatewayEnvironments.addNewGatewayEnvironment",defaultMessage:"Add Gateway Environment"})),editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Gateway Label",routeTo:"/settings/environments/"},DeleteComponent:xn}),n.createElement(yr,{open:a,onClose:()=>{r(!1),o(null),s("")},environmentId:i,environmentName:l}))}const Ir=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/settings/environments",component:Sr}),n.createElement(o.qh,{exact:!0,path:"/settings/environments/create",component:cr}),n.createElement(o.qh,{exact:!0,path:"/settings/environments/:id",component:cr}),n.createElement(o.qh,{component:I}))}));function xr(e){let{updateList:t,dataRow:a}=e;const{policyId:r,displayName:i}=a,o=(0,_.A)();return n.createElement(Bt,{title:o.formatMessage({id:"Throttling.Advanced.Delete.title",defaultMessage:"Delete Policy"}),saveButtonText:o.formatMessage({id:"Throttling.Advanced.Delete.save.text",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"delete-advanced-policies"}),formSaveCallback:()=>(new Be).deleteThrottlingPoliciesAdvanced(r).then((()=>(t(),"".concat(i," ").concat(o.formatMessage({id:"Throttling.Advanced.Delete.success",defaultMessage:"Policy Deleted Successfully"}))))).catch((e=>{const{response:t,message:a}=e;t&&t.body?Dt.error(t.body.description):a&&Dt.error(a)}))},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Advanced.Delete.confirm.text",defaultMessage:"Policy deletion might affect current subscriptions. Are you sure you want to delete this policy?"})))}xr.propTypes={updateList:i().number.isRequired,dataRow:i().shape({policyId:i().number.isRequired,displayName:i().string.isRequired}).isRequired};const Rr=xr;function kr(){return n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/introducing-throttling-use-cases/",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Advanced.List.help.link.one",defaultMessage:"Introducing Rate Limiting Use-Cases"})}))),n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/adding-new-throttling-policies/#adding-a-new-advanced-throttling-policy",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Advanced.List.help.link.two",defaultMessage:"Adding a new advanced rate limiting policy"})})))))}function Or(){return(new Be).getThrottlingPoliciesAdvanced().then((e=>{const{body:{list:t}}=e;return t.forEach((e=>{e.defaultLimit.bandwidth?(e.quotaPolicy="Bandwidth Volume",e.quota=e.defaultLimit.bandwidth.dataAmount+e.defaultLimit.bandwidth.dataUnit,e.unitTime=e.defaultLimit.bandwidth.unitTime+e.defaultLimit.bandwidth.timeUnit):(e.quotaPolicy="Request Count",e.quota=e.defaultLimit.requestCount.requestCount,e.unitTime=e.defaultLimit.requestCount.unitTime+e.defaultLimit.requestCount.timeUnit)})),t})).catch((e=>{throw e}))}function Dr(){const e=(0,_.A)(),t=[{name:"policyName",label:e.formatMessage({id:"Admin.Throttling.Advanced.Throttling.policy.table.header.name",defaultMessage:"Name"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const a=t.rowData[t.rowData.length-2];return n.createElement(M.N_,{to:"/throttling/advanced/".concat(a),"aria-label":"advanced-policies+".concat(a)},e)}return n.createElement("div",null)},filter:!1,sort:!0}},{name:"quotaPolicy",label:e.formatMessage({id:"Admin.Throttling.Advanced.Throttling.policy.table.header.quota.policy",defaultMessage:"Quota Policy"})},{name:"quota",label:e.formatMessage({id:"Admin.Throttling.Advanced.Throttling.policy.table.header.quota",defaultMessage:"Quota"})},{name:"unitTime",label:e.formatMessage({id:"Admin.Throttling.Advanced.Throttling.policy.table.header.unit.time",defaultMessage:"Unit Time"})},{name:"policyId",options:{display:!1}}],a={triggerButtonText:e.formatMessage({id:"Throttling.Advanced.List.addButtonProps.triggerButtonText",defaultMessage:"Add Policy"}),title:e.formatMessage({id:"Throttling.Advanced.List.addButtonProps.title",defaultMessage:"Add Policy"})},r={searchPlaceholder:e.formatMessage({id:"Throttling.Advanced.List.search.default",defaultMessage:"Search by Advanced Policy name"}),active:!0},i={help:n.createElement(kr,null),pageStyle:"half",title:e.formatMessage({id:"Throttling.Advanced.List.title.main",defaultMessage:"Advanced Rate Limiting Policies"})},o={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Throttling.Advanced.List.empty.content",defaultMessage:"It is possible to create a Microgateway distribution for a group of APIs. In order to group APIs, a label needs to be created and attached to the APIs that need to be in a single group."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Throttling.Advanced.List.empty.title",defaultMessage:"Advanced Throttling Policies"}))},l=n.createElement(M.N_,{to:"/throttling/advanced/create"},n.createElement(P.A,{variant:"contained",color:"primary",size:"small","data-testid":"Add New Policy-btn"},n.createElement(b.A,{id:"Throttling.Advanced.List.add.new.polcy",defaultMessage:"Add New Policy"})));return n.createElement(wt,{columProps:t,pageProps:i,addButtonProps:a,searchProps:r,emptyBoxProps:o,apiCall:Or,editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Policy",routeTo:"/throttling/advanced/"},DeleteComponent:Rr,addButtonOverride:l})}function Lr(e){const t=(0,_.A)(),{onChange:a,updateGroup:r,hasErrors:i,limit:o,validating:l}=e,{requestCount:s,bandwidth:c}=o;let d="",m="",u="";s?(d=s.timeUnit,m=s.unitTime,u="REQUESTCOUNTLIMIT"):(d=c.timeUnit,m=c.unitTime,u="BANDWIDTHLIMIT");const p=e=>{if(a){const{name:t,value:n}=e.target;return void("requestCount"===t||"dataAmount"===t||"unitTime"===t?(""===n||Number(n)>=0)&&a(e):a(e))}const t=e.target.name,{value:n}=e.target;if("defaultLimit"===t)if("REQUESTCOUNTLIMIT"===n){const{timeUnit:e,unitTime:t}=c;o.requestCount={timeUnit:e,unitTime:t,requestCount:0},o.bandwidth=null,o.type="REQUESTCOUNTLIMIT"}else{const{timeUnit:e,unitTime:t}=s;o.bandwidth={timeUnit:e,unitTime:t,dataAmount:0,dataUnit:"KB"},o.requestCount=null,o.type="BANDWIDTHLIMIT"}else s?s[t]=n:c[t]=n;r()};return n.createElement(n.Fragment,null,n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1",sx:{ml:1}},n.createElement(Kn.A,{component:"legend"},n.createElement(b.A,{id:"Throttling.Advanced.AddEditExecution.default.limit.option",defaultMessage:"Default Limit Option"}))),n.createElement(qt.A,{"aria-label":"Default Limits",name:"defaultLimit",value:u,onChange:p,sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(Wt.A,{value:"REQUESTCOUNTLIMIT",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Advanced.AddEditExecution.default.limit.option.request.count.label",defaultMessage:"Request Count"})}),n.createElement(Wt.A,{value:"BANDWIDTHLIMIT",control:n.createElement(zt.A,null),label:n.createElement(b.A,{id:"Throttling.Advanced.AddEditExecution.default.limit.option.request.bandwith.label",defaultMessage:"Request Bandwidth"})}))),n.createElement(w.A,{component:"div",m:1},s&&n.createElement(lt.A,{margin:"dense",name:"requestCount",value:s.requestCount,onChange:p,label:n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.requestCount.label",defaultMessage:"Request Count"}),fullWidth:!0,type:"number",error:i("requestCount",s.requestCount,l),helperText:i("requestCount",s.requestCount,l)||t.formatMessage({id:"Throttling.Advanced.AddEdit.form.request.count.allowed.help",defaultMessage:"Number of requests allowed"}),variant:"outlined"}),c&&n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"dataAmount",value:c.dataAmount,onChange:p,type:"number",label:n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.dataAmount.label",defaultMessage:"Data Bandwidth"}),sx:{width:350,mr:1},error:i("dataAmount",c.dataAmount,l),helperText:i("dataAmount",c.dataAmount,l)||t.formatMessage({id:"Throttling.Advanced.AddEdit.form.bandwidth.allowed.help",defaultMessage:"Bandwidth allowed"}),variant:"outlined"}),n.createElement(jt.A,{variant:"outlined",sx:{pt:1,pl:.5}},n.createElement(Gt.A,{variant:"outlined",name:"dataUnit",value:c.dataUnit,onChange:p,sx:{width:120}},n.createElement(Ut.A,{value:"KB"},"KB"),n.createElement(Ut.A,{value:"MB"},"MB")))),n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{margin:"dense",name:"unitTime",value:m,onChange:p,type:"number",label:n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.unit.time.label",defaultMessage:"Unit Time"}),sx:{width:350,mr:1},error:i("unitTime",m,l),helperText:i("unitTime",m,l)||t.formatMessage({id:"Throttling.Advanced.AddEdit.form.unit.time.help",defaultMessage:"Time configuration"}),variant:"outlined"}),n.createElement(jt.A,{variant:"outlined",sx:{pt:1,pl:.5}},n.createElement(Gt.A,{variant:"outlined",name:"timeUnit",value:d,onChange:p,sx:{width:120}},n.createElement(Ut.A,{value:"min"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.timeUnit.minute",defaultMessage:"Minute(s)"})),n.createElement(Ut.A,{value:"hour"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.timeUnit.hour",defaultMessage:"Hour(s)"})),n.createElement(Ut.A,{value:"days"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.timeUnit.day",defaultMessage:"Day(s)"})),n.createElement(Ut.A,{value:"month"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.timeUnit.month",defaultMessage:"Month(s)"})))))))}Lr.defaultProps={limit:null,validating:!1},Lr.propTypes={onChange:i().func.isRequired,updateGroup:i().func.isRequired,hasErrors:i().func.isRequired,limit:i().shape({}),validating:i().bool,match:i().shape({}).isRequired,history:i().shape({}).isRequired};const Nr=Lr;var Br=a(63901);const jr="IPCONDITION",qr="HEADERCONDITION",Wr="QUERYPARAMETERCONDITION",zr="JWTCLAIMSCONDITION",Gr="IPRANGE",Ur="IPSPECIFIC",Vr=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Kr(e){const t=(0,_.A)(),{row:a}=e,{row:{labelPrefix:r,description:i,name:o},callBack:l,item:s}=e;let c="",d="";s&&(s.type===qr?(c=s.headerCondition.headerName,d=s.headerCondition.headerValue):s.type===Wr?(c=s.queryParameterCondition.parameterName,d=s.queryParameterCondition.parameterValue):s.type===zr&&(c=s.jwtClaimsCondition.claimUrl,d=s.jwtClaimsCondition.attribute));const[m,u]=(0,n.useState)(c),[p,g]=(0,n.useState)(d),[f,A]=(0,n.useState)(!1),y=e=>{const{target:{name:t,value:a}}=e;switch(t){case"name":u(a);break;case"value":g(a)}},E=(e,t,a)=>{let n=!1;if(!a)return!1;switch(e){case"name":case"value":n=""===t&&e+" is Empty"}return n};return n.createElement(Bt,{title:s?"".concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.dialog.tilte.add.new",defaultMessage:"Add New "})).concat(o):"".concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.dialog.tilte.edit",defaultMessage:"Edit "})).concat(o),saveButtonText:t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.dialog.btn.save",defaultMessage:"Save"}),triggerButtonText:s?null:t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.dialog.trigger.add",defaultMessage:"Add"}),icon:s?n.createElement(Br.A,null):null,triggerButtonProps:{color:"primary",variant:"contained",size:"small"},formSaveCallback:()=>(A(!0),!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!E("name",m,e)&&!E("value",p,e))}(!0)&&(e=>{l(a,{name:m,value:p},s),e(!1)}))},n.createElement(Tt.A,null,i),n.createElement(lt.A,{margin:"dense",name:"name",value:m,onChange:y,label:n.createElement("span",null,r," ",n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicy.form.name",defaultMessage:"Name"}),n.createElement(Vr,null,"*")),fullWidth:!0,multiline:!0,helperText:E("name",m,f)||t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.form.name.help",defaultMessage:"Provide Name"}),variant:"outlined",error:E("name",m,f)}),n.createElement(lt.A,{margin:"dense",name:"value",value:p,onChange:y,label:n.createElement("span",null,r," ",n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicy.form.value",defaultMessage:"Value"}),n.createElement(Vr,null,"*")),fullWidth:!0,multiline:!0,helperText:E("value",p,f)||t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicy.form.value.help",defaultMessage:"Provide Value"}),variant:"outlined",error:E("value",p,f)}))}Kr.propTypes={dataRow:i().shape({id:i().number.isRequired}).isRequired};const Fr=Kr;function _r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Zr=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Yr(e,t){let{field:a,value:n}=t;const r=Se()(e);switch(a){case"all":return n;case"ipConditionType":case"specificIP":case"startingIP":case"endingIP":return r.ipCondition[a]=n,r;default:return r}}function Xr(e){const t=(0,_.A)(),{row:a,callBack:r,item:i}=e,{row:{description:o}}=e,l=1===a.items.length,[s,c]=(0,n.useState)(!1);let d={type:"IPCONDITION",invertCondition:!1,headerCondition:null,ipCondition:{ipConditionType:"IPSPECIFIC",specificIP:"",startingIP:null,endingIP:null},jwtClaimsCondition:null,queryParameterCondition:null};i&&(d=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(a),!0).forEach((function(t){Hr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i));const[m,u]=(0,n.useReducer)(Yr,d),p=e=>{u({field:e.target.name,value:e.target.value})},{ipCondition:{ipConditionType:g,specificIP:f,startingIP:A,endingIP:y}}=m,E=function(e,a){let n=!1;if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return!1;switch(e){case"specificIP":""===a?n="".concat(e).concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.is.empty.error",defaultMessage:" is empty"})):""===a||(r=a,new RegExp("((^s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))s*$)|(^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*$))").test(r))||(n="".concat(e).concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.valid.ip.address.error",defaultMessage:"Invalid IP Addresss"})));break;case"startingIP":case"endingIP":""===a?n="".concat(e).concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.is.empty.error",defaultMessage:" is empty"})):""===a||function(e,t){if(null===e||null===t||""===e||""===t)return!1;if(e.includes(".")&&t.includes(".")){const a=e.split("."),n=t.split(".");let r=0,i=0;for(let e=0;e<4;e++)r+=a[e]*256**(3-e);for(let e=0;e<4;e++)i+=n[e]*256**(3-e);return r<i}if(e.includes(":")&&t.includes(":")){const a=e.split(":"),n=t.split(":");let r=!0;for(let e=0;e<7;e++)if(a[e]>n[e]){r=!1;break}return r}return!1}(A,y)||(n="".concat(e).concat(t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.valid.ip.range.error",defaultMessage:"Invalid IP Range"})))}var r;return n};return n.createElement(Bt,{title:i?t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.dialog.tilte.add.new",defaultMessage:"Add New IP Condition Policy"}):t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.dialog.title.edit",defaultMessage:"Edit IP Condition Policy"}),saveButtonText:t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.dialog.btn.save",defaultMessage:"Save"}),triggerButtonText:i?null:t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.dialog.trigger.add",defaultMessage:"Add"}),icon:i?n.createElement(Br.A,null):null,triggerButtonProps:{color:"primary",variant:"contained",size:"small",disabled:l},formSaveCallback:()=>(c(!0),!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!(E("specificIP",f,e)&&"IPSPECIFIC"===g||E("endingIP",y,e)&&"IPRANGE"===g||E("startingIP",A,e)&&"IPRANGE"===g)}(!0)&&(e=>{r({ipConditionType:g,specificIP:f,startingIP:A,endingIP:y},i),e(!1)}))},n.createElement(Tt.A,null,o),n.createElement(jt.A,{variant:"outlined",sx:{width:"100%",mb:1}},n.createElement(Gt.A,{variant:"standard",name:"ipConditionType",value:g,onChange:p,sx:{padding:"11.5px 14px"}},n.createElement(Ut.A,{value:"IPSPECIFIC"},n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.specific.ip",defaultMessage:"Specific IP"})),n.createElement(Ut.A,{value:"IPRANGE"},n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.ip.range",defaultMessage:"IP Range"}))),n.createElement(Rn.A,{sx:{position:"relative",mt:1.5}},n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.ip.condition.type",defaultMessage:"IP Condition Type"}))),"IPSPECIFIC"===g?n.createElement(w.A,{display:"flex",flexDirection:"column"},n.createElement(lt.A,{margin:"dense",name:"specificIP",value:f,onChange:p,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.form.specific.ip",defaultMessage:"Specific IP"}),n.createElement(Zr,null,"*")),fullWidth:!0,helperText:E("specificIP",f,s)||t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.form.specific.ip.help",defaultMessage:"Provide Valid IP"}),variant:"outlined",error:E("specificIP",f,s)})):n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(lt.A,{sx:{pr:10},margin:"dense",name:"startingIP",value:A||"",onChange:p,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.form.start.ip",defaultMessage:"Start IP"}),n.createElement(Zr,null,"*")),fullWidth:!0,helperText:E("specificIP",f,s)||t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.form.start.ip.help",defaultMessage:"Provide Valid IP"}),variant:"outlined",error:E("startingIP",A,s)}),n.createElement(lt.A,{margin:"dense",name:"endingIP",value:y||"",onChange:p,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Advanced.AddEditConditionPolicyIP.form.end.ip",defaultMessage:"End IP"}),n.createElement(Zr,null,"*")),fullWidth:!0,helperText:E("endingIP",f,s)||t.formatMessage({id:"Throttling.Advanced.AddEditConditionPolicyIP.form.end.ip.help",defaultMessage:"Provide Valid IP"}),variant:"outlined",error:E("endingIP",y,s)})))}Xr.propTypes={dataRow:i().shape({id:i().number.isRequired}).isRequired};const Qr=Xr;var Jr=a(67034);function $r(e){let{row:t,item:a,callBack:r}=e;return n.createElement(Bt,{title:t.name,saveButtonText:"Delete",icon:n.createElement(Jr.default,null),formSaveCallback:()=>e=>{r(a),e(!1)}},n.createElement(Tt.A,null,a.type===jr&&a.ipConditionType===Gr&&n.createElement(b.A,{id:"Throttling.Advanced.Delete.ip.iprange",defaultMessage:"IP Range"}),a.type===jr&&a.ipConditionType===Ur&&n.createElement(b.A,{id:"Throttling.Advanced.Delete.ip.specific",defaultMessage:"Specific IP"}),a.type===qr&&a.headerName,a.type===Wr&&a.parameterName,a.type===zr&&a.claimUrl,n.createElement(b.A,{id:"Throttling.Advanced.Delete.will.be.deleted",defaultMessage:" will be deleted."})))}$r.propTypes={row:i().shape({}).isRequired,callBack:i().func.isRequired,item:i().shape({}).isRequired};const ei=$r;function ti(e){let{deleteThisGroup:t}=e;return n.createElement(w.A,{textAlign:"right"},n.createElement(Bt,{triggerButtonProps:{variant:"outlined",size:"small"},triggerButtonText:n.createElement(n.Fragment,null,n.createElement(Jr.default,null),n.createElement(b.A,{id:"Throttling.Advanced.DeleteConditionGroup.title",defaultMessage:"Delete Condition Group"})),title:n.createElement(b.A,{id:"Throttling.Advanced.DeleteConditionGroup.title",defaultMessage:"Delete Condition Group"}),saveButtonText:"Delete",formSaveCallback:()=>e=>{t(),e(!1)}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Advanced.DeleteConditionGroup.question",defaultMessage:"Do you want to remove this condition group?"}))))}ti.propTypes={row:i().shape({}).isRequired,deleteThisGroup:i().func.isRequired,item:i().shape({}).isRequired};const ai=ti;var ni=a(54937);const ri="ConditionalGroup",ii={root:"".concat(ri,"-root"),heading:"".concat(ri,"-heading"),secondaryHeading:"".concat(ri,"-secondaryHeading"),table:"".concat(ri,"-table"),expandContentRoot:"".concat(ri,"-expandContentRoot"),subsubTitle:"".concat(ri,"-subsubTitle"),alert:"".concat(ri,"-alert"),hr:"".concat(ri,"-hr"),descriptionBox:"".concat(ri,"-descriptionBox")},oi=(0,k.Ay)("div")((e=>{let{theme:t}=e;return{["&.".concat(ii.root)]:{width:"100%",marginBottom:20},["& .".concat(ii.heading)]:{fontSize:t.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,flex:1,alignItems:"center"},["& .".concat(ii.secondaryHeading)]:{fontSize:t.typography.pxToRem(15),color:t.palette.text.secondary,display:"flex",alignItems:"center"},["& .".concat(ii.table)]:{marginBottom:40,background:"#efefef","& th":{background:"#ccc"},"& td":{"word-break":"break-all","white-space":"normal"}},["& .".concat(ii.expandContentRoot)]:{flexDirection:"column"},["& .".concat(ii.subsubTitle)]:{fontSize:"0.81rem"},["& .".concat(ii.alert)]:{flex:1},["& .".concat(ii.hr)]:{border:"solid 1px #efefef",width:"100%"},["& .".concat(ii.descriptionBox)]:{marginLeft:t.spacing(1)}}}));function li(e){const t=(0,_.A)(),[a,r]=n.useState(!1),{group:i,updateGroup:o,hasErrors:l,index:s,deleteGroup:c}=e,d=e=>{const t=[];for(let a=0;a<i.conditions.length;a++)i.conditions[a].type===e&&(i.conditions[a].id=Math.random().toString(36).substring(2)+Date.now().toString(36),t.push(i.conditions[a]));return t},m=[{name:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.ip",defaultMessage:"IP Condition Policy"}),description:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.ip.help",defaultMessage:"This configuration is used to throttle by IP address."}),items:d(jr),type:jr,labelPrefix:""},{name:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.header",defaultMessage:"Header Condition Policy"}),description:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.header.help",defaultMessage:"This configuration is used to throttle based on Headers."}),items:d(qr),type:qr,labelPrefix:"Header "},{name:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.query.param",defaultMessage:"Query Param Condition Policy"}),description:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.query.param.help",defaultMessage:"This configuration is used to throttle based on query parameters."}),items:d(Wr),type:Wr,labelPrefix:"Param "},{name:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.jwt",defaultMessage:"JWT Condition Policy"}),description:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.jwt.help",defaultMessage:"This configuration is used to define JWT claims conditions"}),items:d(zr),type:zr,labelPrefix:"Claim "}],u=e=>e===jr?{type:jr,invertCondition:!1,headerCondition:null,ipCondition:{ipConditionType:"IPSPECIFIC",specificIP:"",startingIP:null,endingIP:null},jwtClaimsCondition:null,queryParameterCondition:null}:e===qr?{type:qr,invertCondition:!1,headerCondition:{headerName:"",headerValue:""},ipCondition:null,jwtClaimsCondition:null,queryParameterCondition:null}:e===Wr?{type:Wr,invertCondition:!1,headerCondition:null,ipCondition:null,jwtClaimsCondition:null,queryParameterCondition:{parameterName:"",parameterValue:""}}:e===zr?{type:zr,invertCondition:!1,headerCondition:null,ipCondition:null,jwtClaimsCondition:{claimUrl:"",attribute:""},queryParameterCondition:null}:{},p=(e,t)=>{const{name:a,value:n}=t,{type:r}=e,l=u(r);r===qr?(l.headerCondition.headerName=a,l.headerCondition.headerValue=n):r===Wr?(l.queryParameterCondition.parameterName=a,l.queryParameterCondition.parameterValue=n):r===zr&&(l.jwtClaimsCondition.claimUrl=a,l.jwtClaimsCondition.attribute=n),i.conditions.push(l),o()},g=e=>{const{ipConditionType:t,specificIP:a,startingIP:n,endingIP:r}=e,l=u(jr);t===Gr?(l.ipCondition.specificIP=null,l.ipCondition.startingIP=n,l.ipCondition.endingIP=r,l.ipCondition.ipConditionType=t):(l.ipCondition.specificIP=a,l.ipCondition.startingIP=null,l.ipCondition.endingIP=null,l.ipCondition.ipConditionType=t),i.conditions.push(l),o()},f=e=>{for(let t=0;t<i.conditions.length;t++)i.conditions[t].id===e.id&&i.conditions.splice(t,1);o()},A=(e,t,a)=>{const{type:n}=e,{name:r,value:l}=t;for(let e=0;e<i.conditions.length;e++)i.conditions[e].id===a.id&&(n===qr?(i.conditions[e].headerCondition.headerName=r,i.conditions[e].headerCondition.headerValue=l):n===Wr?(i.conditions[e].queryParameterCondition.parameterName=r,i.conditions[e].queryParameterCondition.parameterValue=l):n===zr&&(i.conditions[e].jwtClaimsCondition.claimUrl=r,i.conditions[e].jwtClaimsCondition.attribute=l));o()},y=(e,t)=>{const{ipConditionType:a,specificIP:n,startingIP:r,endingIP:l}=e;for(let e=0;e<i.conditions.length;e++)i.conditions[e].id===t.id&&(i.conditions[e].ipCondition.ipConditionType=a,i.conditions[e].ipCondition.specificIP=n,i.conditions[e].ipCondition.startingIP=r,i.conditions[e].ipCondition.endingIP=l);o()},h=e=>{let t=!1;const{items:a}=e;return a&&a.length>0&&(t=a[0].invertCondition),t};return n.createElement(oi,{className:ii.root},n.createElement(On.A,{expanded:"panel1"===a,onChange:(e,t)=>{r(!!t&&"panel1")}},n.createElement(Dn.A,{expandIcon:n.createElement(Nn.A,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},n.createElement("div",{className:ii.heading},!a&&n.createElement(E.A,{variant:"caption"},i.description)),!a&&n.createElement(E.A,{className:ii.secondaryHeading},n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.expand.label",defaultMessage:"Expand to edit"})),a&&n.createElement(E.A,{className:ii.secondaryHeading},n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.hide.label",defaultMessage:"Hide group"}))),n.createElement(Ln.A,{classes:{root:ii.expandContentRoot}},n.createElement(w.A,{marginBottom:2},n.createElement(yt.A,{severity:"warning"},n.createElement(ni.A,null,n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.alert.title",defaultMessage:"Warning"})),n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.alert",defaultMessage:"To add rate limiting with different parameters for Query Params, Header Data and JWT token claim, you must enable them in the deployment.toml file."}))),n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.condition.policies",defaultMessage:"Condition Policies"}))),m.map((e=>n.createElement(n.Fragment,null,n.createElement("hr",{className:ii.hr}),n.createElement(w.A,{component:"div",marginLeft:1,display:"flex",alignItems:"center"},n.createElement(w.A,{flex:1},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",className:ii.subsubTitle},e.name),n.createElement(E.A,{variant:"caption"},e.description)),n.createElement(w.A,{component:"span",m:1},e.items.length>0&&n.createElement(Wt.A,{control:n.createElement(_a.A,{checked:h(e),onChange:t=>((e,t)=>{const{checked:a}=e.target;for(let e=0;e<i.conditions.length;e++)i.conditions[e].type===t&&(i.conditions[e].invertCondition=a);o()})(t,e.type),name:"invertCondition"}),label:t.formatMessage({id:"Throttling.Advanced.ConditionalGroup.invert.condition",defaultMessage:"Invert Condition"})})),n.createElement(w.A,{component:"span",m:1},e.type===jr?n.createElement(Qr,{row:e,callBack:g}):n.createElement(Fr,{row:e,callBack:p}))),e.items.length>0&&n.createElement(w.A,{component:"div",marginLeft:1},n.createElement(sa.A,{className:ii.table,size:"small","aria-label":"a dense table"},n.createElement(ca.A,null,n.createElement(oa.A,null,n.createElement(la.A,null,e.type===jr?n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.ip.header.name",defaultMessage:"IP Condition Type"}):n.createElement(n.Fragment,null,e.labelPrefix," ",n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.header.name",defaultMessage:"Name"}))),n.createElement(la.A,null,e.type===jr?n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.ip.header.value",defaultMessage:"IP Address"}):n.createElement(n.Fragment,null,e.labelPrefix," ",n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.header.value",defaultMessage:"Value"}))),n.createElement(la.A,null))),n.createElement(da.A,null,e.items.map((t=>n.createElement(oa.A,{key:t.headerName},n.createElement(la.A,{component:"td",scope:"row"},t.type===jr&&t.ipCondition.ipConditionType===Gr&&n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.ip.iprange",defaultMessage:"IP Range"}),t.type===jr&&t.ipCondition.ipConditionType===Ur&&n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.ip.specific",defaultMessage:"Specific IP"}),t.type===qr&&t.headerCondition.headerName,t.type===Wr&&t.queryParameterCondition.parameterName,t.type===zr&&t.jwtClaimsCondition.claimUrl),n.createElement(la.A,{component:"td",scope:"row"},t.type===jr&&t.ipCondition.ipConditionType===Gr&&n.createElement(n.Fragment,null,n.createElement("strong",null,n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.from",defaultMessage:"From:"})),t.ipCondition.startingIP," ",n.createElement("strong",null,n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.to",defaultMessage:"To:"})),t.ipCondition.endingIP),t.type===jr&&t.ipCondition.ipConditionType===Ur&&t.ipCondition.specificIP,t.type===qr&&t.headerCondition.headerValue,t.type===Wr&&t.queryParameterCondition.parameterValue,t.type===zr&&t.jwtClaimsCondition.attribute),n.createElement(la.A,{width:100,className:ii.actionColumn},n.createElement(w.A,{display:"flex"},e.type===jr?n.createElement(Qr,{row:e,item:t,callBack:y}):n.createElement(Fr,{row:e,item:t,callBack:A}),n.createElement(ei,{item:t,row:e,callBack:f})))))))))))),n.createElement("hr",{className:ii.hr}),n.createElement(Nr,{updateGroup:o,limit:i.limit,hasErrors:l,title:n.createElement(b.A,{id:"Throttling.Advanced.ConditionalGroup.execution.policy",defaultMessage:"Execution Policy"})}),n.createElement(lt.A,{margin:"dense",name:"description",value:i.description,onChange:e=>{i[e.target.name]=e.target.value,o()},label:t.formatMessage({id:"Throttling.Advanced.ConditionalGroups.form.description",defaultMessage:"Description"}),className:ii.descriptionBox,fullWidth:!0,multiline:!0,helperText:t.formatMessage({id:"Throttling.Advanced.AddEdit.ConditionalGroups.form.description.help",defaultMessage:"Description of this group"}),variant:"outlined"}),n.createElement(ai,{deleteThisGroup:()=>{c(s),r(!1)}}))))}li.propTypes={dataRow:i().shape({id:i().number.isRequired}).isRequired};const si=li;function ci(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function di(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const mi=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),ui=(0,k.Ay)("hr")({border:"solid 1px #efefef"});function pi(e,t){let{field:a,value:n}=t;const r=Se()(e);switch(a){case"all":return n;case"policyName":case"description":case"conditionalGroups":return r[a]=n,r;case"defaultLimit":if("REQUESTCOUNTLIMIT"===n){const{defaultLimit:{bandwidth:{timeUnit:e,unitTime:t}}}=r;r.defaultLimit.requestCount={timeUnit:e,unitTime:t,requestCount:0},r.defaultLimit.type="REQUESTCOUNTLIMIT",r.defaultLimit.bandwidth=null}else{const{defaultLimit:{requestCount:{timeUnit:e,unitTime:t}}}=r;r.defaultLimit.bandwidth={timeUnit:e,unitTime:t,dataAmount:0,dataUnit:"KB"},r.defaultLimit.type="BANDWIDTHLIMIT",r.defaultLimit.requestCount=null}return r;case"dataUnit":case"requestCount":case"timeUnit":case"dataAmount":case"unitTime":return r.defaultLimit.requestCount?r.defaultLimit.requestCount[a]=n:r.defaultLimit.bandwidth[a]=n,r;default:return r}}function gi(e){const[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),o=(0,_.A)(),{match:{params:{id:l}},history:s}=e,c=void 0!==l,[d,m]=(0,n.useReducer)(pi,{policyName:"",description:"",conditionalGroups:[],defaultLimit:{requestCount:{timeUnit:"min",unitTime:"",requestCount:""},type:"REQUESTCOUNTLIMIT",bandwidth:null}});(0,n.useEffect)((()=>{const e=new Be;l&&e.getThrottlingPoliciesAdvancedPolicyId(l).then((e=>{const{body:t}=e;return t})).then((e=>{m({field:"all",value:e})})).catch((e=>{throw e}))}),[]);const u=e=>{m({field:e.target.name,value:e.target.value})},p=(e,t,a)=>{let n=!1;if(!a)return!1;switch(e){case"policyName":""===t?n="Policy name ".concat(o.formatMessage({id:"Throttling.Advanced.AddEdit.is.empty.error",defaultMessage:" is empty"})):t.length>60?n=o.formatMessage({id:"Throttling.Advanced.AddEdit.policy.name.too.long.error.msg",defaultMessage:"Throttling policy name is too long"}):""!==t&&/\s/g.test(t)?n="Policy name ".concat(o.formatMessage({id:"Throttling.Advanced.AddEdit.empty.error",defaultMessage:" contains white spaces."})):/[^A-Za-z0-9_]/.test(t)&&(n="Policy name ".concat(o.formatMessage({id:"Throttling.Advanced.AddEdit.special.characters.error",defaultMessage:" contains invalid characters."})));break;case"requestCount":case"dataAmount":case"unitTime":n=""===t&&e+" is Empty"}return n},{policyName:g,description:f,defaultLimit:A,conditionalGroups:y}=d,h=Se()(y),C=()=>{m({field:"conditionalGroups",value:h})},T=e=>{const t=h.slice(0,e).concat(h.slice(e+1,h.length));m({field:"conditionalGroups",value:t})};return n.createElement(ae,{pageStyle:"half",title:l?"".concat(o.formatMessage({id:"Throttling.Advanced.AddEdit.title.edit",defaultMessage:"Advance Rate Limiting Policy - Edit "})," ").concat(g):o.formatMessage({id:"Throttling.Advanced.AddEdit.title.new",defaultMessage:"Advanced Rate Limiting Policy - Create new"}),help:n.createElement(kr,null)},n.createElement(w.A,{component:"div",m:2,sx:{mb:15}},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.general.details.description",defaultMessage:"Provide name and description of the policy.The policy can be refered from the name."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"policyName",disabled:c,value:g,onChange:u,label:n.createElement("span",null,n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.policyName",defaultMessage:"Name"}),n.createElement(mi,null,"*")),fullWidth:!0,error:p("policyName",g,t),helperText:p("policyName",g,t)||o.formatMessage({id:"Throttling.Advanced.AddEdit.form.name.help",defaultMessage:"Name of the throttle policy."}),variant:"outlined"}),n.createElement(lt.A,{margin:"dense",name:"description",value:f,onChange:u,label:o.formatMessage({id:"Throttling.Advanced.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,multiline:!0,helperText:o.formatMessage({id:"Throttling.Advanced.AddEdit.form.description.help",defaultMessage:"Description of the throttle policy."}),variant:"outlined"}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ui,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.default.limits",defaultMessage:"Default Limits"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.default.limits.description",defaultMessage:"Request Count and Request Bandwidth are the two options for default limit. You can use the option according to your requirement."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(Nr,{limit:Se()(A),onChange:u,hasErrors:p,validating:t}))),n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ui,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.add.conditional.group",defaultMessage:"Conditional groups"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.conditional.group.description",defaultMessage:"To add throttling limits with different parameters base on IP, Header, Query Param, and JWT Claim conditions, click Add Conditional Group. "}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"}),n.createElement(P.A,{variant:"contained",onClick:()=>{h.push({description:"Sample description about condition group",conditions:[],limit:{requestCount:{timeUnit:"min",unitTime:1,requestCount:1e3},bandwidth:null,type:"REQUESTCOUNTLIMIT"}}),C()}},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.add.conditional.group.add",defaultMessage:"Add Conditional Group"}))),n.createElement(w.A,{component:"div",m:1},h.map(((e,t)=>n.createElement(si,{key:t,index:t,group:e,defaultLimit:A,updateGroup:C,hasErrors:p,deleteGroup:T})))),n.createElement(w.A,{m:4})),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(ui,null))),n.createElement(v.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>{if(a(!0),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!p("policyName",g,e)&&!p("description",f,e))}(!0))return Dt.error(o.formatMessage({id:"Throttling.Advanced.AddEdit.form.has.errors",defaultMessage:"One or more fields contain errors."})),!1;const e=new Be;let t=null;const n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(a),!0).forEach((function(t){di(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ci(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},d);return n.conditionalGroups.forEach((e=>{e.conditions.length&&e.conditions.forEach((e=>{e.id&&delete e.id}))})),i(!0),t=l?e.putThrottlingPoliciesAdvanced(l,n).then((()=>o.formatMessage({id:"Throttling.Advanced.AddEdit.edit.success",defaultMessage:"Policy Updated Successfully"}))):e.postThrottlingPoliciesAdvanced(n).then((()=>o.formatMessage({id:"Throttling.Advanced.AddEdit.add.success",defaultMessage:"Policy Added Successfully"}))),t.then((e=>{Dt.success("".concat(g," ").concat(e)),s.push("/throttling/advanced/")})).catch((e=>{const{response:t,message:a}=e;return t&&t.body?Dt.error(t.body.description):a&&Dt.error(a),null})).finally((()=>{i(!1)})),!0},"data-testid":"throttling-advanced-save-button"},r?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,l?n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.update.btn",defaultMessage:"Update"}):n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.add.btn",defaultMessage:"Add"})))),n.createElement(M.N_,{to:"/throttling/advanced"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.cancel",defaultMessage:"Cancel"})))))))}gi.propTypes={match:i().shape({}).isRequired,history:i().shape({}).isRequired};const fi=gi,Ai=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/throttling/advanced",component:Dr}),n.createElement(o.qh,{exact:!0,path:"/throttling/advanced/create",component:fi}),n.createElement(o.qh,{path:"/throttling/advanced/:id/",component:fi}),n.createElement(o.qh,{component:I}))}));function yi(e){const t=new Be,{dataRow:a,updateList:r}=e,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"Throttling.Custom.Policy.policy.delete.title",defaultMessage:"Delete Custom Policy?"}),saveButtonText:i.formatMessage({id:"Throttling.Custom.Policy.policy.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"delete-custom-policies"}),formSaveCallback:()=>{const{policyId:e}=a;return t.deleteCustomPolicy(e).then((()=>(r(),i.formatMessage({id:"Throttling.Custom.Policy.policy.delete.success",defaultMessage:"Custom Policy successfully deleted."})))).catch((()=>(Dt.error(i.formatMessage({id:"Throttling.Custom.Policy.policy.delete.error",defaultMessage:"Custom Policy could not be deleted."})),!1)))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"Throttling.Custom.Policy.policy.dialog.delete.error",defaultMessage:"Custom Policy will be deleted."})))}yi.propTypes={updateList:i().number.isRequired,selectedPolicyName:i().shape({name:i().number.isRequired}).isRequired,dataRow:i().shape({policyId:i().number.isRequired}).isRequired};const Ei=yi;function hi(){const e=(0,_.A)(),t=new Be,a={triggerButtonText:e.formatMessage({id:"Throttling.Custom.Policy.List.addButtonProps.triggerButtonText",defaultMessage:"Define Policy"}),title:e.formatMessage({id:"Throttling.Custom.Policy.List.addButtonProps.title",defaultMessage:"Define Custom Policy "})},r={searchPlaceholder:e.formatMessage({id:"Throttling.Custom.Policy.List.search.default",defaultMessage:"Search by Custom Policy name"}),active:!0},i={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/rate-limiting/advanced-topics/custom-throttling/",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Throttling.Custom.Policy.List.help.link.one",defaultMessage:"Custom Throttling Policy"})}))))),pageStyle:"half",title:e.formatMessage({id:"Throttling.Custom.Policy.search.default",defaultMessage:"Custom Rate Limiting Policies"})},o=[{name:"policyName",label:e.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.table.header.name",defaultMessage:"Name"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const a=t.rowData[t.rowData.length-2];return n.createElement(M.N_,{to:"/throttling/custom/".concat(a)},e)}return n.createElement("div",null)},filter:!1,sort:!0}},{name:"description",label:e.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.table.header.description",defaultMessage:"Description"}),options:{filter:!0,sort:!1}},{name:"keyTemplate",label:e.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.table.header.key.template",defaultMessage:"Key Template"}),options:{filter:!0,sort:!1}},{name:"policyId",options:{display:!1}}],l={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Throttling.Custom.Policy.List.empty.content.custom.policies and abuse by",defaultMessage:"Custom throttling allows system administrators to define dynamic rules for specific use cases, which are applied globally across all tenants."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Throttling.Custom.Policy.List.empty.title.custom.policies",defaultMessage:"Custom Policies"}))},s=n.createElement(M.N_,{to:"/throttling/custom/create"},n.createElement(P.A,{variant:"contained",color:"primary",size:"small",role:"button","data-testid":"throttling-custom-add-button"},n.createElement(b.A,{id:"Throttling.Custom.List.add.new.polcy",defaultMessage:"Define Policy"})));return n.createElement(wt,{columProps:o,pageProps:i,addButtonProps:a,searchProps:r,emptyBoxProps:l,apiCall:function(){return t.customPoliciesGet().then((e=>e.body.list.map((e=>({policyId:e.policyId,policyName:e.policyName,description:e.description,keyTemplate:e.keyTemplate}))))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description;return null}))},DeleteComponent:Ei,editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Policy",routeTo:"/throttling/custom/"},addButtonOverride:s})}var bi=a(77244);function vi(e){const{title:t,message:a,labelCancel:r,labelOk:i,open:o,callback:l}=e;function s(e){e===vi.Action.OK?l(!0):l(!1)}return n.createElement(St.A,{open:o,onClose:s},n.createElement(Rt.A,null,t),n.createElement(xt.A,null,n.createElement(Tt.A,null,a)),n.createElement(It.A,null,n.createElement(P.A,{onClick:()=>s(vi.Action.CANCEL),color:"primary"},r),n.createElement(P.A,{onClick:()=>s(vi.Action.OK),color:"primary"},i)))}vi.defaultProps={title:n.createElement(b.A,{id:"Apis.Shared.ConfirmDialog.please.confirm",defaultMessage:"Please Confirm"}),message:n.createElement(b.A,{id:"Apis.Shared.ConfirmDialog.are.you.sure",defaultMessage:"Are you sure?"}),labelOk:n.createElement(b.A,{id:"Apis.Shared.ConfirmDialog.ok",defaultMessage:"OK"}),labelCancel:n.createElement(b.A,{id:"Apis.Shared.ConfirmDialog.cancel",defaultMessage:"Cancel"}),callback:()=>{}},vi.propTypes={title:i().string,message:i().string,labelCancel:i().string,labelOk:i().string,open:i().bool.isRequired,callback:i().func,intl:i().shape({formatMessage:i().func}).isRequired},vi.Action={OK:"ok",CANCEL:"cancel"};var Mi=a(46942),Pi=a.n(Mi);function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wi.apply(null,arguments)}const Ci="InteractiveButton",Ti={wrapper:"".concat(Ci,"-wrapper"),buttonSuccess:"".concat(Ci,"-buttonSuccess"),buttonProgress:"".concat(Ci,"-buttonProgress")},Si=(0,k.Ay)("div")((e=>{let{theme:t}=e;return{["&.".concat(Ti.wrapper)]:{margin:t.spacing(1),position:"relative"},["& .".concat(Ti.buttonSuccess)]:{backgroundColor:Ha.A[500],"&:hover":{backgroundColor:Ha.A[700]}},["& .".concat(Ti.buttonProgress)]:{color:Ha.A[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Ii=e=>{const{loading:t,success:a,children:r,color:i,disableFocusRipple:o,disableRipple:l,fullWidth:s,href:c,mini:d,size:m,variant:u}=e,p={color:i,disableFocusRipple:o,disableRipple:l,fullWidth:s,href:c,mini:d,size:m,variant:u},g=Pi()({[Ti.buttonSuccess]:a});return n.createElement(Si,{className:Ti.wrapper},n.createElement(P.A,wi({},p,{className:g,disabled:t}),r),t&&n.createElement(ut.A,{size:24,className:Ti.buttonProgress}))};Ii.defaultProps={loading:!1,success:!1,color:"default",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"flat",disableRipple:!1,href:""},Ii.propTypes={loading:i().bool,success:i().bool,children:i().node.isRequired,classes:i().shape({buttonSuccess:i().string,wrapper:i().string,buttonProgress:i().string}).isRequired,color:i().oneOf(["default","inherit","primary","secondary"]),disabled:i().bool,disableFocusRipple:i().bool,disableRipple:i().bool,fullWidth:i().bool,href:i().string,mini:i().bool,size:i().oneOf(["small","medium","large"]),type:i().string,variant:i().oneOf(["flat","raised","fab"])};var xi=a(85072),Ri=a.n(xi),ki=a(97825),Oi=a.n(ki),Di=a(77659),Li=a.n(Di),Ni=a(55056),Bi=a.n(Ni),ji=a(10540),qi=a.n(ji),Wi=a(41113),zi=a.n(Wi),Gi=a(72082),Ui={};Ui.styleTagTransform=zi(),Ui.setAttributes=Bi(),Ui.insert=Li().bind(null,"head"),Ui.domAPI=Oi(),Ui.insertStyleElement=qi(),Ri()(Gi.A,Ui),Gi.A&&Gi.A.locals&&Gi.A.locals;i().string.isRequired;var Vi=a(92728),Ki=a(75166);const Fi=(0,k.Ay)("div")({borderRight:"solid 1px #ccc"});function _i(e){const{height:t=30,marginLeft:a=1,marginRight:r=1}=e;return n.createElement(n.Fragment,null,n.createElement(Fi,{sx:{height:t,ml:a,mr:r}}))}_i.propTypes={height:i().shape({}).isRequired,marginLeft:i().shape({}).isRequired,marginRight:i().shape({}).isRequired};const Hi=_i;function Zi(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$i(n.key),n)}}function Yi(e,t,a){return t=Qi(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xi()?Reflect.construct(t,a||[],Qi(e).constructor):t.apply(e,a))}function Xi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xi=function(){return!!e})()}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}function Ji(e,t){return Ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ji(e,t)}function $i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}const eo=(0,k.Ay)(h.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",paddingLeft:t.spacing(2),borderRadius:t.shape.borderRadius,border:"solid 1px "+t.palette.secondary.main,"& span.material-icons.info":{fontSize:80,color:t.palette.primary.main},"& span.material-icons.warning":{fontSize:80,color:Ki.A[700]}}})),to=(0,k.Ay)("div")({pt:1,pb:1,pr:1});let ao=function(e){function t(){var e,a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return a=e=Yi(this,t,[].concat(o)),r=()=>{e.setState((e=>({expanded:!e.expanded})))},(n=$i(n="handleExpandClick"))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ji(e,t)}(t,e),a=t,(r=[{key:"render",value:function(){const{height:e,type:t,children:a}=this.props;return n.createElement(eo,this.props,n.createElement(Vi.A,{className:t},t),n.createElement(Hi,{height:e}),n.createElement(to,null,a))}}])&&Zi(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);ao.propTypes={classes:i().shape({root:i().string,iconItem:i().string,content:i().string}).isRequired,height:i().number,type:i().string,children:i().shape({}).isRequired},ao.defaultProps={height:100,type:"info"};const no=ao;var ro=a(86172),io=a(58807);function oo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(a),!0).forEach((function(t){so(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oo(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function so(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}io.wG.config({monaco:ro});const co=(0,bi.GP)("FROM RequestStream SELECT userId, ( userId == 'admin@carbon.super' ) AS isEligible , str:concat('admin@carbon.super','') as throttleKey INSERT INTO EligibilityStream; FROM EligibilityStream[isEligible==true]#throttler:timeBatch(1 min) SELECT throttleKey, (count(userId) >= 5) as isThrottled, expiryTimeStamp group by throttleKey INSERT ALL EVENTS into ResultStream;",{language:"spark"});function mo(e,t){let{field:a,value:n}=t;switch(a){case"policyName":return lo(lo({},e),{},{[a]:n});case"description":return lo(lo({},e),{},{[a]:n});case"keyTemplate":return lo(lo({},e),{},{[a]:n});case"siddhiQuery":return lo(lo({},e),{},{[a]:n});case"editDetails":return n;default:return e}}function uo(e){const{updateList:t,history:a}=e,r=(0,_.A)(),[i,o]=(0,n.useState)({policyName:"",description:"",keyTemplate:"",siddhiQuery:co}),[l,s]=(0,n.useReducer)(mo,i),{policyName:c,description:d,keyTemplate:m,siddhiQuery:u}=l,[p,g]=(0,n.useState)([]),f=new Be,{policyId:A}=e.match.params,y="create"!==A;(0,n.useEffect)((()=>{y&&f.customPolicyGet(A).then((e=>{const t=(0,bi.GP)(e.body.siddhiQuery,{language:"spark"}),a={policyName:e.body.policyName,description:e.body.description,keyTemplate:e.body.keyTemplate,siddhiQuery:t};s({field:"editDetails",value:a})})),o({policyName:"",description:"",defaultLimit:{requestCount:"",timeUnit:"min",unitTime:"",type:"RequestCountLimit",dataAmount:"",dataUnit:"KB"}})}),[]);const h=e=>{s({field:e.target.name,value:e.target.value})},C=(e,t)=>{let a,n="";const i=Kt().string().regex(/^[^~!@#;:%^*()+={}|\\<>"',&$\s+]*$/),o=["$userId","$apiContext","$apiVersion","$resourceKey","$appTenant","$apiTenant","$appId","$clientIp","$customProperty"];let l=!1;switch(e){case"policyName":n=""===t?r.formatMessage({id:"Throttling.Custom.Policy.policy.name.empty",defaultMessage:"Name is Empty"}):-1!==t.indexOf(" ")?r.formatMessage({id:"Throttling.Custom.Policy.policy.name.space",defaultMessage:"Name contains spaces"}):t.length>60?r.formatMessage({id:"Throttling.Custom.Policy.policy.name.too.long.error.msg",defaultMessage:"Custom policy name is too long"}):!!i.validate(t).error&&r.formatMessage({id:"Throttling.Custom.Policy.policy.name.invalid.character",defaultMessage:"Name contains one or more illegal characters"}),g({policyName:n});break;case"keyTemplate":a=t.split(":"),l=a.map((e=>{let t=!1;return t=o.includes(e),t||-1===e.indexOf("$customProperty")||(t=!0),t})).includes(!1),n=""===t?e+" is Empty":!(-1===t.indexOf(" ")&&!l)&&r.formatMessage({id:"Throttling.Custom.Policy.policy.invalid.key.template",defaultMessage:"Invalid Key Template"}),g({keyTemplate:n});break;case"siddhiQuery":n=""===t&&e+" is Empty",g({siddhiQuery:n})}return n};return n.createElement(ae,{pageStyle:"half",title:y?r.formatMessage({id:"Throttling.Custom.AddEdit.title.edit",defaultMessage:"Custom Rate Limiting Policy - Edit"}):r.formatMessage({id:"Throttling.Custom.AddEdit.title.add",defaultMessage:"Custom Rate Limiting Policy - Define Policy"})},n.createElement(w.A,{component:"div",m:2,sx:{mb:15}},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"policyName",label:r.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.add.field.name",defaultMessage:"Name"}),fullWidth:!0,required:!0,variant:"outlined",value:c,disabled:y,onChange:h,InputProps:{id:"policyName",onBlur:e=>{let{target:{value:t}}=e;C("policyName",t)}},error:p.policyName,helperText:p.policyName?p.policyName:n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.policy.name",defaultMessage:"Name of the throttle policy"})}),n.createElement(lt.A,{margin:"dense",name:"description",label:r.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.add.field.description",defaultMessage:"Description"}),fullWidth:!0,variant:"outlined",value:d,onChange:h,helperText:n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.policy.description",defaultMessage:"Description of the throttle policy"})}),n.createElement(lt.A,{margin:"dense",name:"keyTemplate",label:r.formatMessage({id:"Admin.Throttling.Custom.Throttling.policy.add.field.key.template",defaultMessage:"Key Template"}),fullWidth:!0,required:!0,variant:"outlined",value:m,onChange:h,InputProps:{id:"keyTemplate",onBlur:e=>{let{target:{value:t}}=e;C("keyTemplate",t)}},error:p.keyTemplate,helperText:p.keyTemplate?p.keyTemplate:n.createElement(b.A,{id:"dsdds",defaultMessage:"The specific combination of attributes being checked in the policy need to be defined as the key template. Allowed values are : $userId, $apiContext, $apiVersion, $resourceKey, $appTenant, $apiTenant, $appId, $clientIp, $customProperty, $customProperty.somevalue"})}),n.createElement(Fa.A,{sx:e=>({color:Ha.A[600],ml:1,fontSize:e.spacing(1.6)})},n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.key.template.helper.text",defaultMessage:"Eg: $userId:$apiContext:$apiVersion"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12},n.createElement(E.A,{sx:{mb:1}},n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.siddhi.query",defaultMessage:"Siddhi Query: "})),!y&&n.createElement(no,{type:"info",height:50,sx:{mt:1,mb:2}},n.createElement("div",null,n.createElement(E.A,null,n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.siddhi.query.description",defaultMessage:"The following sample query will allow 5 requests per minute for an Admin user."})),n.createElement(E.A,null,n.createElement(b.A,{id:"Admin.Throttling.Custom.policy.add.siddhi.query.key.template",defaultMessage:"Key Template : $userId"})))),n.createElement(n.Suspense,{fallback:n.createElement(se.A,null)},n.createElement(io.KE,{language:"sql",height:"250px",theme:"vs-dark",value:u,onChange:e=>{s({field:"siddhiQuery",value:e})}}))),n.createElement(w.A,{component:"span",sx:{mt:2,mb:2,ml:2}},n.createElement(P.A,{sx:{mr:2},variant:"contained",onClick:()=>{const e=(()=>{let e="";return e+=C("policyName",c)+C("keyTemplate",m)+C("siddhiQuery",u),e.replace("false","")})();if(""!==e&&"0"!==e)return Dt.error(e),!1;let n;const i=lo(lo({},l),{},{siddhiQuery:l.siddhiQuery.replace(/\n/g," ")});return y?(n=f.updateCustomPolicy(A,i),n.then((()=>{Dt.success(r.formatMessage({id:"Throttling.Custom.Policy.policy.edit.success",defaultMessage:"Custom Policy edited successfully"})),a.push("/throttling/custom")})).catch((e=>{const{response:t}=e;return t.body&&Dt.error(t.body.description),null})).finally((()=>{t&&t()}))):(n=f.addCustomPolicy(i),n.then((()=>{Dt.success(r.formatMessage({id:"Throttling.Custom.Policy.policy.add.success",defaultMessage:"Custom Policy added successfully."})),a.push("/throttling/custom")})).catch((e=>{const{response:t}=e;return t.body&&Dt.error(t.body.description),null})).finally((()=>{t&&t()})))},disabled:p&&0!==p.length&&!1!==Object.values(p)[0],"data-testid":"throttling-custom-save-button"},!y&&n.createElement(b.A,{id:"Throttling.Custom.AddEdit.form.add",defaultMessage:"Add"}),y&&n.createElement(b.A,{id:"Throttling.Custom.AddEdit.form.edit",defaultMessage:"Edit"})),n.createElement(M.N_,{to:"/throttling/custom"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"Throttling.Custom.AddEdit.form.cancel",defaultMessage:"Cancel"})))))))}uo.propTypes={updateList:i().func.isRequired,triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired,match:i().shape({params:i().shape({policyId:i().string})}).isRequired};const po=uo,go=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/throttling/custom",component:hi}),n.createElement(o.qh,{path:"/throttling/custom/:policyId",component:po}),n.createElement(o.qh,{path:"/throttling/custom/create",component:po}),n.createElement(o.qh,{component:I}))}));var fo=a(1471),Ao=a(44448),yo=a(83882);function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Eo.apply(null,arguments)}function ho(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(a),!0).forEach((function(t){vo(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ho(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vo(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;const n=t?1e3:1024;if(Math.abs(a)<n)return a+" B";const r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let i=-1;do{a/=n,++i}while(Math.abs(a)>=n&&i<r.length-1);return a.toFixed(1)+" "+r[i]}const Po={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"100px 20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},wo={borderColor:"#2196f3"},Co={borderColor:"#00e676"},To={borderColor:"#ff1744"};function So(e){const{message:t,onDrop:a,error:r,children:i,accept:o,baseStyle:l}=e;l&&Object.assign(Po,l);const s=(0,yo.VB)({onDrop:a}),{getRootProps:c,getInputProps:d,isDragActive:m,isDragAccept:u,isDragReject:p}=s,g=(0,n.useMemo)((()=>bo(bo(bo(bo({},Po),m?wo:{}),u?Co:{}),p?To:{})),[m,p,r]),f={fontFamily:(0,O.A)().typography.fontFamily,textAlign:"center"};return n.createElement("section",{className:"container",style:f},n.createElement("div",c({style:g}),n.createElement("input",Eo({},d(),{multiple:!1,accept:o})),i||n.createElement("p",null,t)))}So.defaultProps={message:"Drag 'n' drop some files here, or click to select files",onDrop:()=>{},showFilesList:!0,children:null,error:!1,accept:"*",baseStyle:null},So.propTypes={message:i().string,onDrop:i().func,accept:i().string,showFilesList:i().bool,children:i().oneOfType([i().element,i().array]),error:i().oneOfType([i().bool,i().shape({})]),baseStyle:i().shape({})};var Io=a(46e3);const xo="UploadTheme",Ro={error:"".concat(xo,"-error"),addEditFormControl:"".concat(xo,"-addEditFormControl"),gridRoot:"".concat(xo,"-gridRoot"),paper:"".concat(xo,"-paper"),warningPaper:"".concat(xo,"-warningPaper"),downloadPaper:"".concat(xo,"-downloadPaper"),main:"".concat(xo,"-main"),paperUpload:"".concat(xo,"-paperUpload"),uploadButtonGrid:"".concat(xo,"-uploadButtonGrid"),dropbox:"".concat(xo,"-dropbox"),browseFileButton:"".concat(xo,"-browseFileButton"),button:"".concat(xo,"-button"),buttonIcon:"".concat(xo,"-buttonIcon"),uploadFilesHeading:"".concat(xo,"-uploadFilesHeading"),downloadBox:"".concat(xo,"-downloadBox"),fileIcon:"".concat(xo,"-fileIcon"),fileName:"".concat(xo,"-fileName"),fileUploadError:"".concat(xo,"-fileUploadError")},ko=(0,k.Ay)("div")((e=>{let{theme:t}=e;return{["& .".concat(Ro.error)]:{color:t.palette.error.dark},["& .".concat(Ro.addEditFormControl)]:{minHeight:t.spacing(40),maxHeight:t.spacing(40),minWidth:t.spacing(55)},["& .".concat(Ro.gridRoot)]:{paddingLeft:0},["& .".concat(Ro.paper)]:{maxWidth:936,margin:"auto",overflow:"hidden"},["& .".concat(Ro.warningPaper)]:{maxWidth:936,margin:"auto",overflow:"hidden",marginTop:t.spacing(2)},["& .".concat(Ro.downloadPaper)]:{maxWidth:936,height:t.spacing(8),margin:"auto",marginTop:t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:t.spacing(2),borderRadius:t.shape.borderRadius,border:"solid 1px "+t.palette.secondary.main},["& .".concat(Ro.main)]:{flex:1,padding:t.spacing(6,4),background:"#eaeff1"},["& .".concat(Ro.paperUpload)]:{maxWidth:750,margin:"auto",overflow:"hidden",marginTop:t.spacing(5)},["& .".concat(Ro.uploadButtonGrid)]:{display:"grid",padding:"0px 345px 10px"},["& .".concat(Ro.dropbox)]:{maxWidth:500,margin:"auto",overflow:"hidden",marginTop:t.spacing(4),marginBottom:t.spacing(2)},["& .".concat(Ro.browseFileButton)]:{marginTop:t.spacing(1)},["& .".concat(Ro.button)]:{marginLeft:t.spacing(3),fontWeight:600},["& .".concat(Ro.buttonIcon)]:{marginLeft:t.spacing(4),fontSize:"50px"},["& .".concat(Ro.uploadFilesHeading)]:{display:"flex",justifyContent:"center",marginTop:t.spacing(2)},["& .".concat(Ro.downloadBox)]:{display:"flex",justifyContent:"center"},["& .".concat(Ro.fileIcon)]:{fontSize:45},["& .".concat(Ro.fileName)]:{marginTop:t.spacing(1.5),marginLeft:t.spacing(5)},["& .".concat(Ro.fileUploadError)]:{marginTop:t.spacing(2)}}}));function Oo(){const[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(),[i,o]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1),c=(0,_.A)(),d=new Be;return(0,n.useEffect)((()=>{d.exportTenantTheme().then((e=>{const t=e.headers["content-disposition"].split("filename=")[1];r(t.slice(1,-1))}))}),[]),n.createElement(ko,null,n.createElement(F.A,{className:Ro.root},n.createElement(v.Ay,{container:!0,alignItems:"center",spacing:1,classes:{root:Ro.gridRoot}},n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(E.A,{color:"inherit",variant:"h5",component:"h1"},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.page.heading",defaultMessage:"Manage Tenant Theme"}))),n.createElement(v.Ay,{item:!0},n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"reference/customize-product/customizations/customizing-the-developer-portal/overriding-developer-portal-theme/#tenant-theming",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"TenantTheme.Upload.Theme.help.link.one",defaultMessage:"Tenant theming"})})))))))),n.createElement("main",{className:Ro.main},n.createElement(h.A,{className:Ro.paperUpload},n.createElement(v.Ay,{item:!0,xs:!0,className:Ro.uploadFilesHeading},n.createElement(E.A,{color:"inherit",variant:"h5",component:"h1"},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.upload.files",defaultMessage:"Upload/Download Theme"}))),n.createElement(v.Ay,{item:!0,xs:!0,className:Ro.uploadFilesHeading},n.createElement(E.A,{component:"p",className:Ro.content},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.info.message",defaultMessage:"The theme should be a zip file containing CSS and images compliant with the "}),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"reference/customize-product/customizations/customizing-the-developer-portal/overriding-developer-portal-theme/#tenant-theming",underline:"hover"}," ",n.createElement(b.A,{id:"TenantTheme.Upload.Theme.info.message.link",defaultMessage:"API Manager theme format"})))),a&&n.createElement(v.Ay,{className:Ro.uploadFilesHeading},n.createElement(w.A,{boxShadow:2,p:1,className:Ro.downloadBox},n.createElement(Vi.A,{style:{fontSize:40}},"file_copy"),n.createElement(E.A,{color:"inherit",variant:"h6",className:Ro.fileName},a),n.createElement(P.A,{size:"small",className:Ro.button,onClick:()=>{d.exportTenantTheme().then(R.A.forceDownload).catch((()=>{Dt.error(c.formatMessage({id:"TenantTheme.Upload.Theme.download.error",defaultMessage:"Error downloading Tenant theme ZIP file"}))}))}},n.createElement(Vi.A,{style:{fontSize:40}},"arrow_downward")))),l&&n.createElement(yt.A,{severity:"warning",className:Ro.fileUploadError},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.warning.message",defaultMessage:"Zip file contains unsupported files. Upload only supported files."})),n.createElement(v.Ay,{className:Ro.dropbox},e&&e.name?n.createElement(Qe.A,null,n.createElement(Je.Ay,{key:e&&e.path},n.createElement(fo.A,null,n.createElement(U.A,null,n.createElement(Io.A,null))),n.createElement(et.A,{primary:"".concat(e&&e.path," - \n                                    ").concat(Mo(e&&e.size))}),n.createElement(Ao.A,null,n.createElement(V.A,{edge:"end","aria-label":"delete",onClick:()=>{t(null),o(!1)},size:"large"},n.createElement(Jr.default,null))))):n.createElement(So,{error:i,onDrop:e=>{o(!0),t(e[0])},files:e&&e.name,accept:".zip"},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.drag.and.drop.message",defaultMessage:"Drag & Drop files here {break} or {break}",values:{break:n.createElement("br",null)}}),n.createElement(P.A,{color:"primary",variant:"contained",className:Ro.browseFileButton},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.browse.files.to.upload",defaultMessage:"Browse File to Upload"})))),n.createElement(v.Ay,{className:Ro.uploadButtonGrid},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>d.uploadTenantTheme(e).then((()=>{s(!1),Dt.success(c.formatMessage({id:"TenantTheme.Upload.Theme.upload.successful",defaultMessage:"Theme uploaded successfully"})),t([])})).catch((e=>{s(!0),t([]);const{response:a}=e;a.body&&Dt.error(a.body.description)})),disabled:!i},n.createElement(b.A,{id:"TenantTheme.Upload.Theme.button.upload",defaultMessage:"Upload"}))))))}Oo.propTypes={triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired,pageProps:i().shape({}).isRequired};const Do=Oo;function Lo(e){let{updateList:t,dataRow:a,isDisabled:r}=e;const{id:i,type:o,isGlobal:l}=a,{isSuperTenant:s,user:{_scopes:c}}=Ve(),d=s&&c.includes("apim:admin_settings"),m=(0,_.A)();return n.createElement(Bt,{title:m.formatMessage({id:"AdminPages.KeyManagers.Delete.form.delete.dialog.title",defaultMessage:"Delete KeyManager ?"}),saveButtonText:m.formatMessage({id:"AdminPages.KeyManagers.Delete.form.delete.dialog.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"key-manager-delete-icon"}),formSaveCallback:()=>new Promise(((e,a)=>{const r=new Be;(l?r.deleteGlobalKeyManager(i):r.deleteKeyManager(i)).then((()=>{e(n.createElement(b.A,{id:"AdminPages.KeyManagers.Delete.form.delete.successful",defaultMessage:"KeyManager deleted successfully"}))})).catch((e=>{a(e.response.body.description)})).finally((()=>{t()}))})),triggerIconProps:{color:"primary",component:"span",disabled:"default"===o||l&&!d||r}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.KeyManager.Delete.form.delete.confirmation.message",defaultMessage:"Are you sure you want to delete this KeyManager ?"})))}Lo.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().number.isRequired}).isRequired};const No=Lo;var Bo=a(43756),jo=a(87558),qo=a(1275),Wo=a(88116),zo=a(6325);function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Go.apply(null,arguments)}function Uo(e){const{content:t,title:a,pageProps:r}=e;return n.createElement(ae,Go({},r,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(w.A,{display:"flex",flexDirection:"row"},n.createElement(zo.A,{sx:e=>({fontSize:44,color:e.palette.warning.dark})}),n.createElement(E.A,{variant:"h5",component:"h2"},a)),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},t))))}var Vo=a(10423),Ko=a(5733),Fo=a(38339),_o=a(38354);function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ho.apply(null,arguments)}const Zo={searchInput:e=>({fontSize:e.typography.fontSize}),block:{display:"block"},contentWrapper:e=>({margin:e.spacing(2)}),approveButton:e=>({textDecoration:"none",backgroundColor:e.palette.success.light}),rejectButton:e=>({textDecoration:"none",backgroundColor:e.palette.error.light}),pageTitle:{minHeight:43,backgroundColor:"#f6f6f6"}},Yo=(0,k.Ay)("div")({});function Xo(e){const t=(0,_.A)(),[a,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),l=new Be,[s,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(null),{id:u}=e,[p,g]=(0,n.useState)("1"),f=()=>{r(null),l.getKeyManagerApiUsages(u).then((e=>e.body)).catch((e=>{const{status:a}=e;if(401!==a)throw Dt.error(t.formatMessage({id:"KeyManagers.ListKeyManagerAPIUsages.error",defaultMessage:"Unable to get Key Manager API usage details"})),e;c(!1)})).then((e=>{r(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),m(e.message)})),o(null),l.getKeyManagerApplicationUsages(u).then((e=>e.body)).catch((e=>{const{status:a}=e;if(401!==a)throw Dt.error(t.formatMessage({id:"KeyManagers.ListKeyManagerApplicationUsages.error",defaultMessage:"Unable to get Key Manager application usage details"})),e;c(!1)})).then((e=>{o(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),m(e.message)}))};(0,n.useEffect)((()=>{f()}),[]);const A={pageStyle:"half",title:t.formatMessage({id:"KeyManagers.AddEditKeyManager.usages",defaultMessage:"Key Manager Usage"})},y=[{name:"name",label:t.formatMessage({id:"Api.Name",defaultMessage:"API Name"}),options:{sort:!1,filter:!0}},{name:"version",label:t.formatMessage({id:"Api.Version",defaultMessage:"Version"}),options:{sort:!1,filter:!0}},{name:"provider",label:t.formatMessage({id:"Api.Provider",defaultMessage:"Provider"}),options:{sort:!1,filter:!0}}],M=[{name:"name",label:t.formatMessage({id:"Application.Name",defaultMessage:"Application Name"}),options:{sort:!1,filter:!0}},{name:"owner",label:t.formatMessage({id:"Application.Owner",defaultMessage:"Application Owner"}),options:{sort:!1,filter:!0}},{name:"organization",label:t.formatMessage({id:"Application.organization",defaultMessage:"Application Organization"}),options:{sort:!1,filter:!0}}],P=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),C=[].concat(y),T=[].concat(M),S={filterType:"checkbox",selectableRows:"none",filter:!0,search:!0,print:!1,download:!1,viewColumns:!1,customToolbar:!1,responsive:"stacked",textLabels:{toolbar:{search:t.formatMessage({id:"Mui.data.table.search.icon.label",defaultMessage:"Search"}),filterTable:t.formatMessage({id:"Mui.data.table.filter.icon.label",defaultMessage:"Filter Table"})},body:{noMatch:t.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:t.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:t.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return a&&0===a.length?n.createElement(ae,Ho({},A,{pageStyle:"small"}),n.createElement(ne.A,{sx:Zo.root},n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"KeyManagers.ListKeyManagerUsages.empty.title",defaultMessage:"Key Manager Usages"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"KeyManagers.ListKeyManagerUsages.empty.content",defaultMessage:"There are no Key Manger usages."}))),n.createElement(dt.A,null,n.createElement("span",Ho({updateList:f},{}))))):s?d||a?d?n.createElement(ae,A,n.createElement(yt.A,{severity:"error"},d)):n.createElement(n.Fragment,null,n.createElement(Ko.Ay,{value:p},n.createElement(w.A,{sx:{borderBottom:1,borderColor:"divider"}},n.createElement(Fo.A,{onChange:(e,t)=>{g(t)},"aria-label":"key manager usage tabs"},n.createElement(Vo.A,{label:t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.tab.API.usages",defaultMessage:"API Usages"}),value:"1",sx:{fontSize:"0.9rem"}}),n.createElement(Vo.A,{label:t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.tab.Application.usages",defaultMessage:"Application Usages"}),value:"2",sx:{fontSize:"0.9rem"}}))),n.createElement(_o.A,{value:"1"},n.createElement(v.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{position:"relative"},a.apiCount>0?n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},1===a.apiCount?t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.API.usages.count.one",defaultMessage:"1 API is using this key manager specifically."}):t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.API.usages.count.multiple",defaultMessage:"{count} APIs are using this key manager specifically"},{count:a.apiCount})))),n.createElement(w.A,{mt:4,backgroundColor:"black"}),n.createElement(w.A,{pl:2},n.createElement(h.A,null,a&&a.apis.length>0&&n.createElement(mt.Ay,{title:null,data:a.apis,columns:C,options:S}),a&&0===a.apis.length&&n.createElement(Yo,{sx:Zo.contentWrapper},n.createElement(E.A,{color:"textSecondary",align:"center"},P))))):n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.api.no.usages",defaultMessage:"No API usages for this key manager specifically."})))))))),n.createElement(_o.A,{value:"2"},n.createElement(v.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start"},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{position:"relative"},(null==i?void 0:i.applicationCount)>0?n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},1===i.applicationCount?t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.Application.usages.count.one",defaultMessage:"1 Application is using this key manager specifically."}):t.formatMessage({id:"KeyManagers.ListKeyManagerUsages.Application.usages.count.multiple",defaultMessage:"{count} Applications are using this key manager specifically"},{count:i.applicationCount})))),n.createElement(w.A,{mt:4,backgroundColor:"black"}),n.createElement(w.A,{pl:2},n.createElement(h.A,null,i&&i.applications.length>0&&n.createElement(mt.Ay,{title:null,data:i.applications,columns:T,options:S}),i&&0===i.applicationCount.length&&n.createElement(Yo,{sx:Zo.contentWrapper},n.createElement(E.A,{color:"textSecondary",align:"center"},P))))):n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.application.no.usages",defaultMessage:"No Application usages for this key manager specifically."})))))))))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:A,title:n.createElement(b.A,{id:"KeyManagers.ListKeyManagerUsages.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"KeyManagers.ListKeyManagerUsages.permission.denied.content",defaultMessage:"You dont have enough permission to view Key Manager Usages. Please contact the site administrator."})})}Xo.propTypes={id:i().string.isRequired,name:i().string.isRequired,dialogOpen:i().bool.isRequired,closeDialog:i().func.isRequired};const Qo=Xo;function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Jo.apply(null,arguments)}function $o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function el(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tl(e){return function(e){if(Array.isArray(e))return al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return al(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?al(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const nl={searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},contentWrapper:{margin:"40px 16px"},button:{borderColor:"rgba(255, 255, 255, 0.7)"},tableCellWrapper:{"& td":{"word-break":"break-all","white-space":"normal"}}},rl=(0,k.Ay)("div")({}),il=["local","global"];function ol(){return(new Be).getKeyManagersList().then((e=>{const t=e.body.list;return t.forEach((e=>{"DIRECT"===e.tokenType?e.tokenType=n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Direct"}):"BOTH"===e.tokenType?e.tokenType=n.createElement("div",null,n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Direct"}),n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Exchange"})):e.tokenType=n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Exchange"})})),t})).catch((e=>{throw e}))}function ll(){return(new Be).getGlobalKeyManagersList().then((e=>{const t=e.body.list;return t.forEach((e=>{"DIRECT"===e.tokenType?e.tokenType=n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Direct"}):"BOTH"===e.tokenType?e.tokenType=n.createElement("div",null,n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Direct"}),n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Exchange"})):e.tokenType=n.createElement(mr.A,{variant:"outlined",color:"primary",size:"small",label:"Exchange"})})),t})).catch((e=>{throw e}))}function sl(){const{isSuperTenant:e,user:{_scopes:t}}=Ve(),a=e&&t.includes("apim:admin_settings"),[r,i]=(0,n.useState)(!1),l=(0,_.A)(),[s,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(null),[u,p]=(0,n.useState)(""),[g,f]=(0,n.useState)(null),A={},y=(0,o.W6)(),[w,C]=(0,n.useState)(!1),T=n.useRef(null),[S,I]=(0,n.useState)(0),[x,R]=(0,n.useState)(!1),[k,O]=(0,n.useState)(null),[D,L]=(0,n.useState)(null),N=(e,t)=>{const a=t||[];c([].concat(tl(e||[]),tl(a))),m(a)},B=()=>{let e,t;c(null),ol&&ol().then((a=>{a?(e=a,void 0!==t&&N(a,t),f(null)):f(l.formatMessage({id:"AdminPages.Addons.ListBase.noDataError",defaultMessage:"Error while retrieving data."}))})).catch((e=>{f(e.message)})),ll&&ll().then((a=>{a?(t=a,e&&N(e,a),f(null)):f(l.formatMessage({id:"AdminPages.Addons.ListBase.noDataError",defaultMessage:"Error while retrieving data."}))})).catch((e=>{f(e.message)})),p("")},j=[e=>{const{rowData:t,updateList:r}=e,o=t[5];return n.createElement(pa.A,{disabled:!!t[7]&&!a,checked:o,onChange:()=>{const e=new Be,a=t[0],n=t[6],o=t[7];(o?e.globalKeyManagerGet(n):e.keyManagerGet(n)).then((t=>{let s;null!==t.body.name&&(s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(a),!0).forEach((function(t){el(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.body)),s.enabled=!s.enabled,(o?e.updateGlobalKeyManager(n,s):e.updateKeyManager(n,s)).then((()=>{Dt.success(" ".concat(a," ").concat(l.formatMessage({id:"KeyManagers.ListKeyManagers.edit.success",defaultMessage:" Key Manager updated successfully."}))),i(!1),r()})).catch((e=>{const{response:t}=e;t.body&&Dt.error(t.body.description),i(!1),r()}))}))},color:"primary",size:"small"})}],q=()=>{O(null),R(!1)},W=[{name:"name",label:l.formatMessage({id:"KeyManagers.ListKeyManagers.table.header.label.name",defaultMessage:"Name"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const a=t.rowData[6];return n.createElement(M.N_,{to:{pathname:"/settings/key-managers/".concat(a),state:{isGlobal:t.rowData[7]}}},e," ",t.rowData[7]&&n.createElement(mr.A,{size:"small",label:"Global",color:"primary",style:{marginLeft:10}}))}return n.createElement("div",null)}}},{name:"description",label:l.formatMessage({id:"KeyManagers.ListKeyManagers.table.header.label.description",defaultMessage:"Description"}),options:{sort:!1}},{name:"tokenType",label:l.formatMessage({id:"KeyManagers.ListKeyManagers.table.header.label.tokenType",defaultMessage:"Type"}),options:{sort:!1}},{name:"type",label:l.formatMessage({id:"KeyManagers.ListKeyManagers.table.header.label.provider",defaultMessage:"Provider"}),options:{sort:!1}},{name:"usage",label:l.formatMessage({id:"KeyManagers.ListKeyManagers.table.header.label.usage",defaultMessage:"Usage"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const e=t.rowData[6],r=t.rowData[0],i=t.rowData[7];return n.createElement(V.A,{disabled:i&&!a,onClick:()=>((e,t)=>{O(e),L(t),R(!0)})(e,r)},n.createElement(dr.A,{"aria-label":"key-manager-usage-icon"}))}return n.createElement("div",null)}}},{name:"enabled",options:{display:!1}},{name:"id",options:{display:!1}},{name:"isGlobal",options:{display:!1}},{name:"",label:"Actions",options:{filter:!1,sort:!1,customBodyRender:(e,t)=>{const r=s[t.rowIndex],i="object"==typeof t.rowData?t.rowData[0]:"";if(A&&A.routeTo){if("object"==typeof t.rowData){const e=t.rowData[6];let o="";return r.isGlobal&&!a?o=l.formatMessage({id:"KeyManagers.ListKeyManagers.table.global.delete.tooltip",defaultMessage:"Global Key Manager only can be deleted by the super admin user"}):r.isUsed&&(o=l.formatMessage({id:"KeyManagers.ListKeyManagers.table.is.used.delete.tooltip",defaultMessage:"Key manager is used by an API or an Application"})),n.createElement("div",{"data-testid":"".concat(i,"-actions")},n.createElement(M.N_,{to:A.routeTo+e},n.createElement(V.A,{color:"primary",component:"span"},n.createElement(At.A,null))),n.createElement(nt.A,{title:o},n.createElement("span",null,n.createElement(No,{dataRow:r,updateList:B,isDisabled:r.isGlobal&&!a||r.isUsed}))),j&&j.map((e=>{const a=e;return n.createElement(a,{rowData:t.rowData,updateList:B})})))}return n.createElement("div",null)}let o="";return r.isGlobal&&!a?o=l.formatMessage({id:"KeyManagers.ListKeyManagers.table.global.delete.tooltip",defaultMessage:"Global Key Manager only can be deleted by the super admin user"}):r.isUsed&&(o=l.formatMessage({id:"KeyManagers.ListKeyManagers.table.is.used.delete.tooltip",defaultMessage:"Key manager is used by an API or an Application"})),n.createElement("div",{"data-testid":"".concat(i,"-actions")},n.createElement(nt.A,{title:o},n.createElement("span",null,n.createElement(No,{dataRow:r,updateList:B,isDisabled:r.isGlobal&&!a||r.isUsed}))),j&&j.map((e=>{const a=e;return n.createElement(a,{rowData:t.rowData,updateList:B})})))},setCellProps:()=>({style:{width:200}})}}],z={pageStyle:"paperLess",title:l.formatMessage({id:"KeyManagers.ListKeyManagers.List.title",defaultMessage:"Key Managers"})},G=e=>{1===e?y.push({pathname:"/settings/key-managers/create",state:{isGlobal:!0}}):y.push("/settings/key-managers/create")},U=e=>"global"===e?l.formatMessage({id:"KeyManagers.ListKeyManagers.addGlobalKeyManager",defaultMessage:"Add Global Key Manager"}):l.formatMessage({id:"KeyManagers.ListKeyManagers.addButtonProps.triggerButtonText",defaultMessage:"Add Key Manager"}),K=()=>d&&d.length>0?n.createElement(P.A,{variant:"contained",color:"primary",size:"small",onClick:()=>G(0)},U("local")):n.createElement(n.Fragment,null,n.createElement(Bo.A,{variant:"contained",color:"primary",ref:T,"aria-label":"split button"},n.createElement(P.A,{size:"small",onClick:()=>G(S),"data-testid":"add-key-manager-button"},U(1===S?"global":"local")),n.createElement(P.A,{color:"primary",size:"small","aria-controls":w?"split-button-menu":void 0,"aria-expanded":w?"true":void 0,"aria-label":"select key store type","aria-haspopup":"menu",onClick:()=>{C((e=>!e))}},n.createElement(ma.A,null))),n.createElement(jo.A,{open:w,anchorEl:T.current,style:{zIndex:99999999}},n.createElement(h.A,null,n.createElement(qo.x,{onClickAway:e=>{T.current&&T.current.contains(e.target)||C(!1)}},n.createElement(Wo.A,{id:"split-button-menu"},il.map(((e,t)=>n.createElement(Ut.A,{key:e,style:{fontSize:"0.7rem"},disabled:2===t,selected:t===S,onClick:()=>{I(t),C(!1)}},U(e))))))))),H={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p",id:"AdminPages.KeyManagers.List.empty.content.keymanagers.body"},n.createElement(b.A,{id:"AdminPages.KeyManagers.List.empty.content.keymanagers",defaultMessage:"It is possible to register an OAuth Provider."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2",id:"KeyManagers.ListKeyManagers.empty.header"},n.createElement(b.A,{id:"KeyManagers.ListKeyManagers.empty.title",defaultMessage:"Key Managers"}))};(0,n.useEffect)((()=>{B()}),[]);const Z={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"stacked",searchText:u,onColumnSortChange:(e,t)=>{const a=tl(s).sort(((e,t,a)=>{const n=t=>t[e];return t=t?-1:1,(e,a)=>{const r=n(e),i=n(a);return t*((r>i)-(i>r))}})(e,"descending"===t));c(a)},textLabels:{body:{noMatch:l.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:l.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:l.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return!ol&&!ll||s&&0===s.length?n.createElement(ae,Jo({},z,{pageStyle:"small"}),n.createElement(ne.A,{sx:nl.root},n.createElement(re.A,null,H.title,H.content),n.createElement(dt.A,null,K()))):!g&&ol&&ll&&!s?n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):g?n.createElement(ae,z,n.createElement(yt.A,{severity:"error"},g)):n.createElement(n.Fragment,null,n.createElement(ae,z,n.createElement("div",null,n.createElement(ot.A,{sx:nl.searchBar,position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{sx:nl.block,color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:"",sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{p(e.target.value)},value:u})),n.createElement(v.Ay,{item:!0},K(),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:B},n.createElement(ct.A,{sx:nl.block,color:"inherit"}))))))),n.createElement(rl,{sx:nl.tableCellWrapper},s&&s.length>0&&n.createElement(mt.Ay,{title:null,data:s,columns:W,options:Z})),s&&0===s.length&&n.createElement(rl,{sx:nl.contentWrapper},n.createElement(E.A,{color:"textSecondary",align:"center"},n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}))),n.createElement(St.A,{open:x,onClose:q,maxWidth:"md",fullWidth:!0},n.createElement(Rt.A,null,n.createElement(b.A,{id:"AdminPages.KeyManagers.Usages.dialog.title",defaultMessage:"Key Manager Usages -"})," ",D),n.createElement(xt.A,null,n.createElement(Qo,{id:k})),n.createElement(It.A,null,n.createElement(P.A,{onClick:q},n.createElement(b.A,{id:"AdminPages.KeyManagers.Usages.dialog.close.btn",defaultMessage:"Close"})))))))}const cl=(0,k.Ay)("div")((()=>({position:"fixed",background:"#000",left:0,top:0,width:"100%",height:"100%",opacity:.6,zIndex:2,"& .apim-dual-ring span":{color:"#fff",marginLeft:0,paddingBottom:10}})));function dl(e){let{message:t}=e;return n.createElement(cl,null,n.createElement(se.A,{message:t}))}dl.propTypes={message:i().shape({id:i().number.isRequired}).isRequired};const ml=dl;var ul=a(48335),pl=a(17532);const gl={};function fl(e){const t=(0,_.A)(),{certificates:{type:a,value:r},dispatch:i,showJwks:o=!0}=e,[l,s]=(0,n.useState)(0),[c,d]=(0,n.useState)(null);gl[a]=r;const m=e=>{const{value:t,name:n}=e.target;i("certificateType"===n?{field:"certificates",value:{type:t,value:gl[t]}}:{field:"certificates",value:{type:a,value:"certificateValueUrl"===n?t:btoa(t)}})};return n.createElement(n.Fragment,null,n.createElement(jt.A,{variant:"standard",component:"fieldset"},n.createElement(qt.A,{style:{flexDirection:"row"},"aria-label":"certificate",name:"certificateType",value:a,onChange:m},n.createElement(Wt.A,{id:"pem-certificate",value:"PEM",control:n.createElement(zt.A,null),label:"PEM"}),o&&n.createElement(Wt.A,{id:"jwks-certificate",value:"JWKS",control:n.createElement(zt.A,null),label:"JWKS"}))),o&&"JWKS"===a&&n.createElement(lt.A,{id:"jwks-url",label:t.formatMessage({id:"KeyManagers.Certificates.jwks.url",defaultMessage:"URL"}),fullWidth:!0,variant:"outlined",value:r,name:"certificateValueUrl",onChange:m}),"PEM"===a&&n.createElement(n.Fragment,null,n.createElement(ot.A,{position:"static",color:"default"},n.createElement(pl.A,{value:l,onChange:(e,t)=>{s(t)}},n.createElement(Vo.A,{label:"Paste"}),n.createElement(Vo.A,{label:"Upload"}))),0===l?n.createElement(lt.A,{id:"KeyManagers.Certificates.paste.label.header",label:t.formatMessage({id:"KeyManagers.Certificates.paste.label",defaultMessage:"Paste the content of the PEM file"}),multiline:!0,fullWidth:!0,rows:6,variant:"outlined",value:atob(r),name:"certificateValue",onChange:m}):n.createElement(n.Fragment,null,c&&c.name&&n.createElement(w.A,{m:1,display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(ul.A,null),n.createElement(w.A,{flex:"1"},c.name),n.createElement(E.A,{variant:"caption",id:"KeyManagers.Certificates.override.message.body"},n.createElement(b.A,{id:"KeyManagers.Certificates.override.message",defaultMessage:"Upload new file to override the current certificate"}))),n.createElement(So,{onDrop:e=>{const n=new FileReader;d(e[0]),n.readAsText(e[0],"UTF-8"),n.onload=e=>{i({field:"certificates",value:{type:a,value:btoa(e.target.result)}})},n.onerror=()=>{Dt.success(t.formatMessage({id:"KeyManagers.Certificates.file.error",defaultMessage:"Error reading file"}))}},files:r&&r.name,accept:".pem",baseStyle:{padding:"16px 20px"}},n.createElement(b.A,{id:"KeyManagers.Certificates.drag.and.drop.message",defaultMessage:"Drag and Drop files here {break} or {break}",values:{break:n.createElement("br",null)}}),n.createElement(P.A,{variant:"contained"},n.createElement(b.A,{id:"KeyManagers.Certificates.browse.files.to.upload",defaultMessage:"Browse File to Upload"}))))))}fl.defaultProps={showJwks:!0},fl.propTypes={certificates:i().shape({}).isRequired,dispatch:i().func.isRequired,showJwks:i().bool};var Al=a(12092);function yl(e){const[t,a]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),{claimMappings:o,setClaimMapping:l}=e,[s,c]=(0,n.useState)([]),d=e=>{const{id:t,value:n}=e.target;"remoteClaim"===t?a(n):"localClaim"===t&&i(n)},m=(e,t)=>{let a="";return a=null===t||""===t?"Claim is Empty":"",c({fieldName:a}),a},u=()=>{i(null),a(null)};return n.createElement(w.A,{mt:2},n.createElement(sa.A,{sx:{margin:.5,"& tr td, & tr th":{padding:.5,margin:0}},"aria-label":"simple table"},n.createElement(ca.A,null,n.createElement(oa.A,null,n.createElement(la.A,null,n.createElement(b.A,{id:"Keymanager.Remote.Claim",defaultMessage:"Remote Claim"})),n.createElement(la.A,{align:"left"},n.createElement(b.A,{id:"Keymanager.Local.Claim",defaultMessage:"Local Claim"})),n.createElement(la.A,{align:"right",sx:{width:50}},n.createElement(b.A,{id:"Keymanager.Claim.Action",defaultMessage:"Action"})))),n.createElement(da.A,null,n.createElement(oa.A,{key:"Add new"},n.createElement(la.A,{component:"th",scope:"row"},n.createElement(lt.A,{id:"remoteClaim",label:n.createElement(b.A,{id:"Keymanager.Remote.Claim",defaultMessage:"Remote Claim"}),variant:"outlined",margin:"dense",onChange:d,error:s.remoteClaim,helperText:s.remoteClaim&&s.remoteClaim,value:null===t?"":t,fullWidth:!0})),n.createElement(la.A,{align:"right"},n.createElement(lt.A,{id:"localClaim",label:n.createElement(b.A,{id:"Keymanager.Local.Claim",defaultMessage:"Local Claim"}),value:null===r?"":r,onChange:d,error:s.localClaim,helperText:s.localClaim&&s.localClaim,variant:"outlined",margin:"dense",fullWidth:!0})),n.createElement(la.A,null,n.createElement(w.A,{display:"flex"},n.createElement(V.A,{id:"delete","aria-label":n.createElement(b.A,{id:"Keymanager.Local.Claim.remove",defaultMessage:"Remove"}),onClick:()=>{const e=m(0,t);if(""!==m(0,r)||""!==e)return Dt.error(e),u(),!1;{let e=!1;if(o.map((a=>{let{remoteClaim:r}=a;return r===t&&(Dt.error(n.createElement(b.A,{id:"Claim.Mapping.already.exists",defaultMessage:"Claim Mapping already exists."})),u(),e=!0),!1})),!e){const e={remoteClaim:t,localClaim:r};o.push(e),l(o),u()}return!0}},size:"large"},n.createElement(fa.A,null)),n.createElement(V.A,{id:"delete","aria-label":"Clear",onClick:u,size:"large"},n.createElement(Al.default,null))))),o.map((e=>{let{remoteClaim:t,localClaim:a}=e;return n.createElement(oa.A,{key:a},n.createElement(la.A,{component:"th",scope:"row"},n.createElement(E.A,{variant:"body1",gutterBottom:!0,id:"claim.mapping..remote.claim.body"},t)),n.createElement(la.A,{align:"right"},n.createElement(E.A,{variant:"body1",gutterBottom:!0,id:"claim.mapping.local.claim.body"},a)),n.createElement(la.A,{align:"right"},n.createElement(V.A,{id:"delete","aria-label":"Remove",onClick:()=>{(e=>{const t=o.filter((t=>{let{remoteClaim:a}=t;return a!==e}));l(t)})(t)},size:"large"},n.createElement(Jr.default,null))))})))))}yl.defaultProps={claimMappings:[],required:!1,helperText:n.createElement(b.A,{id:"KeyManager.Claim.Helper.text",defaultMessage:"Add Claim Mappings"})};var El=a(52848);function hl(e){const{value:t,onChange:a,name:r,required:i,validating:o,hasErrors:l}=e,[s,c]=(0,n.useState)(!1);return n.createElement(Fn.A,{type:s?"text":"password",value:t,onChange:a,endAdornment:n.createElement(ba.A,{position:"end"},n.createElement(V.A,{"aria-label":"toggle password visibility",onClick:()=>c(!s),onMouseDown:()=>c(!s),edge:"end",size:"large"},s?n.createElement(_n.A,null):n.createElement(Hn.A,null))),name:r,error:i&&l("keyconfig",t,o),labelWidth:70,margin:"dense"})}function bl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vl(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?vl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const Ml=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Pl(e){const{keymanagerConnectorConfigurations:t,additionalProperties:a,setAdditionalProperties:r,hasErrors:i,validating:o,keyManagerId:l}=e,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=[];return e.forEach((e=>{const n=t?"".concat(t,".").concat(e.name):e.name;a.push(e.name),e.values&&e.values.length>0&&e.values.forEach((e=>{"object"==typeof e&&e.values&&a.push.apply(a,bl(s(e.values,n)))}))})),a},c=(e,t)=>{if(!e.values||!t)return[];const a=e.values.find((e=>"string"==typeof e?e===t:e.name===t));return a&&a.values?a.values:[]},d=(e,t)=>{if(!e.values||!e.values.length)return;const n=[];e.values.forEach((e=>{"object"==typeof e&&e.values&&n.push.apply(n,bl(s(e.values)))}));const i=[],o=c(e,t);o.length>0&&i.push.apply(i,bl(s(o))),n.filter((e=>!i.includes(e))).forEach((e=>{void 0!==a[e]&&r(e,void 0)}))},m=e=>{let n;const{name:i,value:o,type:l}=e.target;if("checkbox"===l)if(n=a[i]?a[i]:[],e.target.checked)n.push(o);else{const t=n.filter((t=>t!==e.target.value));n=t}else n=o;const s=e=>{for(const t of e){if(t.name===i)return t;if(t.values&&t.values.length>0)for(const e of t.values)if("object"==typeof e&&e.values){const t=s(e.values);if(t)return t}}return null},c=s(t);!c||"dropdown"!==c.type&&"options"!==c.type&&"select"!==c.type||d(c,n),r(i,n)},u=e=>{const{name:n,checked:i}=e.target,o=e=>{for(const t of e){if(t.name===n)return t;if(t.values&&t.values.length>0)for(const e of t.values)if("object"==typeof e&&e.values){const t=o(e.values);if(t)return t}}return null},l=o(t);var c;l&&"checkbox"===l.type&&!i&&(c=l).values&&c.values.length&&c.values.forEach((e=>{"object"==typeof e&&e.values&&s(e.values).forEach((e=>{void 0!==a[e]&&r(e,void 0)}))})),r(n,i)};(0,n.useEffect)((()=>{if(!t||0===t.length)return;const e=s(t);Object.keys(a).forEach((t=>{e.includes(t)||r(t,void 0)})),t.forEach((e=>{if(("dropdown"===e.type||"options"===e.type||"select"===e.type)&&e.values&&e.values.length>0&&e.values.some((e=>"object"==typeof e&&e.values))){const t=a[e.name];t&&d(e,t)}}))}),[t,a]);const p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((e=>{const s=t?"".concat(t,".").concat(e.name):e.name,d=e.values&&e.values.length>0&&e.values.some((e=>"object"==typeof e&&e.values));return n.createElement(w.A,{key:"".concat(s),mb:3},(e=>{let t="";const s=Boolean(e.updateDisabled&&l);if(a[e.name])t=a[e.name];else if(!l&&(e.default||e.defaultValue)){const t=e.default||e.defaultValue;"string"==typeof t&&["input","select","options","dropdown"].includes(e.type)?m({target:{name:e.name,value:t,type:e.type}}):"boolean"==typeof t&&"checkbox"===e.type?u({target:{name:e.name,checked:t}}):"certificate"===e.type&&t&&r(e.name,{type:"PEM",value:t})}return"input"===e.type?e.mask?n.createElement(jt.A,{variant:"outlined",fullWidth:!0,disabled:s},n.createElement(Rn.A,{sx:{bgcolor:"white"}},e.label,e.required&&n.createElement(Ml,null,"*")),n.createElement(hl,{value:t,onChange:m,name:e.name,required:e.required,hasErrors:i,validating:o}),n.createElement(Fa.A,null,i("keyconfig",t,o)||e.tooltip)):n.createElement(lt.A,{id:e.name,margin:"dense",name:e.name,label:n.createElement("span",null,e.label,e.required&&n.createElement(Ml,null,"*")),fullWidth:!0,error:e.required&&i("keyconfig",t,o),helperText:i("keyconfig",t,o)||e.tooltip,variant:"outlined",value:t,defaultValue:e.default||e.defaultValue,onChange:m,disabled:s}):"select"===e.type?n.createElement(jt.A,{variant:"standard",component:"fieldset",disabled:s},n.createElement(Kn.A,{component:"legend"},n.createElement("span",null,e.label,e.required&&n.createElement(Ml,null,"*"))),n.createElement(kn.A,null,e.values.map((a=>n.createElement(Wt.A,{key:a,control:n.createElement(_a.A,{checked:t.includes(a),onChange:m,value:a,color:"primary",name:e.name}),label:a}))))):"checkbox"===e.type?n.createElement(jt.A,{variant:"standard",component:"fieldset",disabled:s},n.createElement(Kn.A,{component:"legend"},n.createElement("span",null,e.label,e.required&&n.createElement(Ml,null,"*"))),n.createElement(kn.A,null,e.values.map((a=>n.createElement(Wt.A,{key:a,control:n.createElement(_a.A,{checked:""!==t&&t,onChange:u,value:a,color:"primary",name:e.name}),label:a}))))):"options"===e.type?n.createElement(jt.A,{variant:"standard",component:"fieldset",disabled:s},n.createElement(Kn.A,{component:"legend"},n.createElement("span",null,e.label,e.required&&n.createElement(Ml,null,"*"))),n.createElement(qt.A,{"aria-label":e.label,name:e.name,value:t,onChange:m},e.values.map((e=>{const t="string"==typeof e?e:e.name,a="string"==typeof e?e:e.label;return n.createElement(Wt.A,{key:t,value:t,control:n.createElement(zt.A,null),label:a})})))):"dropdown"===e.type?n.createElement(jt.A,{variant:"outlined",fullWidth:!0,disabled:s},n.createElement(Rn.A,{sx:{bgcolor:"white"}},e.label,e.required&&n.createElement(Ml,null,"*")),n.createElement(Gt.A,{name:e.name,value:t,onChange:m,label:e.label},e.values.map((e=>{const t="string"==typeof e?e:e.name,a="string"==typeof e?e:e.label;return n.createElement(Ut.A,{key:t,value:t},a)}))),n.createElement(Fa.A,null,i("keyconfig",t,o)||e.tooltip)):"certificate"===e.type?n.createElement(w.A,null,n.createElement(Kn.A,{component:"legend"},n.createElement("span",null,e.label,e.required&&n.createElement(Ml,null,"*"))),n.createElement(fl,{certificates:{type:(null===(c=t)||void 0===c?void 0:c.type)||"PEM",value:(null===(d=t)||void 0===d?void 0:d.value)||""},dispatch:t=>{"certificates"===t.field&&r(e.name,t.value)},showJwks:!1})):n.createElement(lt.A,{id:e.name,margin:"dense",name:e.name,label:e.label,fullWidth:!0,required:!0,variant:"outlined",value:t,defaultValue:e.default||e.defaultValue,onChange:m,disabled:s});var c,d})(e),d&&a[e.name]&&n.createElement(w.A,{ml:2,mt:2},p(c(e,a[e.name]),s)))}))};return n.createElement("div",null,p(t))}Pl.defaultProps={keymanagerConnectorConfigurations:[],required:!1,helperText:n.createElement(b.A,{id:"KeyManager.Connector.Configuration.Helper.text",defaultMessage:"Add Key Manager Connector Configurations"}),hasErrors:()=>{},validating:!1};var wl=a(68479),Cl=a.n(wl);function Tl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Sl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(a),!0).forEach((function(t){Il(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Il(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xl(e){const{tokenValidation:t,setTokenValidation:a}=e,[r,i]=(0,n.useState)({}),[o,l]=(0,n.useState)({JWT:{body:{}},REFERENCE:"",CUSTOM:""}),s=(e,t)=>{let a="";return a=""===t?"Calim is Empty":"",a},c=()=>{i({claimKey:"",claimValueRegex:""})},d=e=>{const{name:n,value:r}=e.target;if("type"===n){const e=Sl({},o);e[t.type]=t.value,l(e),t.type=r,"JWT"===t.type?t.value=o[r]:t.value=""}else"value"===n&&(t.value=r);a(t)},m=e=>{const t=Sl({},r);t[e.target.name]=e.target.value,i(t)};return n.createElement(n.Fragment,null,n.createElement(w.A,{display:"flex",flexDirection:"row",mt:2},n.createElement(jt.A,{variant:"outlined",sx:{width:180,mr:2,mt:1,paddingLeft:1}},n.createElement(Rn.A,{sx:{position:"absolute",top:"-10px"}},n.createElement(b.A,{id:"KeyManager.KeyValidation.token.validation.type",defaultMessage:"Type"})),n.createElement(Gt.A,{variant:"outlined",name:"type",value:t.type,onChange:d,fullWidth:!0},n.createElement(Ut.A,{value:"NONE"},n.createElement(b.A,{id:"KeyManager.KeyValidation.NONE",defaultMessage:"NONE"})),n.createElement(Ut.A,{value:"REFERENCE"},n.createElement(b.A,{id:"KeyManager.KeyValidation.REFERENCE",defaultMessage:"REFERENCE"})),n.createElement(Ut.A,{value:"JWT"},n.createElement(b.A,{id:"KeyManager.KeyValidation.JWT",defaultMessage:"JWT"})),n.createElement(Ut.A,{value:"CUSTOM"},n.createElement(b.A,{id:"KeyManager.KeyValidation.CUSTOM",defaultMessage:"CUSTOM"})))),("REFERENCE"===t.type||"CUSTOM"===t.type)&&n.createElement(lt.A,{margin:"dense",name:"value",label:"",fullWidth:!0,required:!0,variant:"outlined",value:t.value,onChange:d})),n.createElement(w.A,{display:"flex",flexDirection:"row"},"JWT"===t.type&&n.createElement(sa.A,{"aria-label":"simple table"},n.createElement(ca.A,null,n.createElement(oa.A,null,n.createElement(la.A,null,n.createElement(b.A,{id:"Keymanager.KeyValidation.ClaimKey",defaultMessage:"Claim Key"})),n.createElement(la.A,{align:"right"},n.createElement(b.A,{id:"Keymanager.KeyValidation.ClaimValue.Regex",defaultMessage:"Claim Value Regex"})),n.createElement(la.A,{align:"right"},n.createElement(b.A,{id:"Keymanager.KeyValidation.Action",defaultMessage:"Action"})))),n.createElement(da.A,null,n.createElement(oa.A,null,n.createElement(la.A,{component:"th",scope:"row"},n.createElement(lt.A,{name:"claimKey",label:n.createElement(b.A,{id:"Keymanager.KeyValidation.ClaimKey",defaultMessage:"Claim Key"}),variant:"outlined",margin:"dense",fullWidth:!0,onChange:m,value:r.claimKey})),n.createElement(la.A,{align:"right"},n.createElement(lt.A,{name:"claimValueRegex",label:n.createElement(b.A,{id:"Keymanager.KeyValidation.ClaimValue.Regex",defaultMessage:"Claim Value Regex"}),value:r.claimValueRegex,onChange:m,variant:"outlined",margin:"dense",fullWidth:!0})),n.createElement(la.A,{sx:{width:50}},n.createElement(w.A,{display:"flex"},n.createElement(V.A,{id:"delete","aria-label":n.createElement(b.A,{id:"Keymanager.Local.Claim.remove",defaultMessage:"Remove"}),onClick:()=>{const e=s(0,r.claimKey),i=s(0,r.claimValueRegex);if(""!==e||""!==i)return Dt.error(i),!1;{let e=!1;if(t.value&&t.value.body)Object.entries(t.value.body).map((t=>(t.key===r.claimKey&&(Dt.error(n.createElement(b.A,{id:"Claim.Mapping.already.exists",defaultMessage:"Claim Mapping already exists."})),e=!0,c()),!1))),e||(t.value.body[r.claimKey]=r.claimValueRegex,a(t));else{const e={};e[r.claimKey]=r.claimValueRegex,t.value&&(t.value.body=e),a(t)}return c(),!0}},size:"large"},n.createElement(fa.A,null)),n.createElement(V.A,{id:"delete","aria-label":"Clear",onClick:c,size:"large"},n.createElement(Al.default,null))))),t.value.body&&Object.entries(t.value.body).map((e=>{let[r,i]=e;return n.createElement(oa.A,{key:r},n.createElement(la.A,{component:"th",scope:"row"},n.createElement(E.A,{variant:"body1",gutterBottom:!0,id:"key.validation.key.body"},r)),n.createElement(la.A,{align:"right"},n.createElement(E.A,{variant:"body1",gutterBottom:!0,id:"key.validation.value.body"},i)),n.createElement(la.A,{align:"right"},n.createElement(V.A,{id:"delete",onClick:()=>{(e=>{const n=Sl({},t);n.value.body&&delete n.value.body[e],a(n)})(r)},size:"large"},n.createElement(Jr.default,null))))}))))))}function Rl(e){const{tokenValidations:t,setTokenValidations:a}=e,r=e=>{const n=t.filter((t=>t.id!==e.id));n.push(e),a(n)};return Cl()(t,["id"]).map((e=>n.createElement(xl,{tokenValidation:e,setTokenValidation:r})))}xl.defaultProps={required:!1},Rl.defaultProps={required:!1,helperText:"Add Key Manager Configuration"};var kl=a(62383),Ol=a.n(kl),Dl=a(27234),Ll=a(13272),Nl=a(69360);function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bl.apply(null,arguments)}function jl(e){return function(e){if(Array.isArray(e))return ql(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ql(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Wl(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zl(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(a),!0).forEach((function(t){Gl(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wl(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Gl(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ul=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),Vl=(0,k.Ay)("hr")({border:"solid 1px #efefef"}),Kl=n.createElement(Ll.A,{fontSize:"small"}),Fl=n.createElement(Nl.A,{fontSize:"small"}),_l=(0,k.Ay)(Nn.A)((e=>{let{theme:t}=e;return{"&.expand":{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},"&.expandOpen":{transform:"rotate(180deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}})),Hl=(0,k.Ay)(ae)({"@global":{".MuiFormControl-root":{marginTop:"20px"},".MuiFormControl-root:first-of-type":{marginTop:"0"}}}),Zl="Resident Key Manager";function Yl(e,t){const{field:a,value:n}=t;switch(a){case"name":case"description":case"type":case"introspectionEndpoint":case"clientRegistrationEndpoint":case"tokenEndpoint":case"displayTokenEndpoint":case"revokeEndpoint":case"displayRevokeEndpoint":case"userInfoEndpoint":case"authorizeEndpoint":case"issuer":case"scopeManagementEndpoint":case"enableTokenGeneration":case"enableTokenEncryption":case"enableTokenHashing":case"enableMapOAuthConsumerApps":case"enableOAuthAppCreation":case"enableSelfValidationJWT":case"roles":case"claimMapping":case"additionalProperties":case"availableGrantTypes":case"tokenValidation":case"displayName":case"consumerKeyClaim":case"alias":case"scopesClaim":case"certificates":case"wellKnownEndpoint":return zl(zl({},e),{},{[a]:n});case"all":return n;case"permissionStatus":return zl(zl({},e),{},{permissions:zl(zl({},e.permissions),{},{[a]:n})});default:return t}}function Xl(e){const t=(0,_.A)(),[a,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!0),{match:{params:{id:u}},history:p}=e,[g,f]=(0,n.useState)([]),[A,y]=(0,n.useState)([]),[h,C]=(0,n.useState)(!0),{settings:T,isSuperTenant:S,user:{_scopes:I}}=Ve(),x=(0,o.zy)(),{isGlobal:R}=x&&x.state||!1,k=S&&I.includes("apim:admin_settings"),[O,D]=(0,n.useState)([]),[L,N]=(0,n.useState)(null),B=T.keyManagerConfiguration&&T.keyManagerConfiguration.length>0?T.keyManagerConfiguration[0].type:"",[j]=(0,n.useState)({name:"",description:"",displayName:"",type:B,introspectionEndpoint:"",clientRegistrationEndpoint:"",tokenEndpoint:"",displayTokenEndpoint:"",revokeEndpoint:"",displayRevokeEndpoint:"",userInfoEndpoint:"",authorizeEndpoint:"",issuer:"",scopeManagementEndpoint:"",alias:"",availableGrantTypes:[],enableTokenGeneration:!0,enableMapOAuthConsumerApps:!0,enableOAuthAppCreation:!0,enableSelfValidationJWT:!0,permissions:{roles:[],permissionStatus:"PUBLIC"},claimMapping:[],tokenValidation:[{id:1,type:"",value:"",enable:!0}],enabled:!0,scopesClaim:"",consumerKeyClaim:"",additionalProperties:{},certificates:{type:"PEM",value:""},wellKnownEndpoint:"",allowedOrganizations:[]}),[q,W]=(0,n.useReducer)(Yl,j),{name:z,description:G,type:U,displayName:K,wellKnownEndpoint:F,introspectionEndpoint:H,clientRegistrationEndpoint:Z,tokenEndpoint:Y,revokeEndpoint:X,displayTokenEndpoint:Q,displayRevokeEndpoint:J,userInfoEndpoint:$,authorizeEndpoint:ee,issuer:te,scopeManagementEndpoint:ae,availableGrantTypes:ne,consumerKeyClaim:re,scopesClaim:ie,enableTokenGeneration:oe,enableMapOAuthConsumerApps:le,certificates:se,enableOAuthAppCreation:ce,enableSelfValidationJWT:de,claimMapping:me,tokenValidation:ue,additionalProperties:pe,alias:ge,permissions:fe}=q;let Ae="";fe&&(Ae=q.permissions.permissionStatus);const[ye,Ee]=(0,n.useState)(!1),[he,be]=(0,n.useState)([]),[ve,Me]=(0,n.useState)(!1),[Pe,we]=(0,n.useState)(!0),[Ce,Te]=(0,n.useState)([]),Ie=new Be,xe=e=>{T.keyManagerConfiguration&&T.keyManagerConfiguration.map((t=>{let{type:a,defaultConsumerKeyClaim:n,defaultScopesClaim:r,configurations:i,authConfigurations:o}=t;return a===e&&(u||(n&&W({field:"consumerKeyClaim",value:n}),r&&W({field:"scopesClaim",value:r})),be([].concat(jl(Array.isArray(o)?o:[]),jl(i))),!0)}))};(0,n.useEffect)((()=>{u?(R?Ie.globalKeyManagerGet(u):Ie.keyManagerGet(u)).then((e=>{let t;if(null!==e.body.name){const a=0===e.body.tokenValidation.length?[{id:1,type:"",value:"",enable:!0}]:e.body.tokenValidation;t=zl(zl({},e.body),{},{tokenValidation:a,permissions:null===e.body.permissions||"PUBLIC"===e.body.permissions?{permissionStatus:"PUBLIC"}:{permissionStatus:e.body.permissions.permissionType,roles:g}}),"EXCHANGED"===e.body.tokenType?(we(!1),Me(!0)):"BOTH"===e.body.tokenType&&Me(!0),e.body.name!==Zl||"default"!==e.body.type&&"WSO2-IS"!==e.body.type||c(!0)}D(e.body.allowedOrganizations),e.body.allowedOrganizations.includes("ALL")||0===e.body.allowedOrganizations.length?N("ALL"):e.body.allowedOrganizations.includes("NONE")?N("NONE"):N("SELECT"),f(e.body.permissions&&e.body.permissions.roles?e.body.permissions.roles:[]),W({field:"all",value:t}),xe(t.type)})):(xe(B),N("ALL")),Ie.organizationsListGet().then((e=>{Te(e.body.list)})).catch((e=>{Dt.error("Error when fetching organizations"),console.error("Error when fetching organizations: "+e)}))}),[]);const Re=(e,a,n)=>{let r=!1;if(!n)return!1;switch(e){case"name":""===a?r="Key Manager name ".concat(t.formatMessage({id:"KeyManagers.AddEditKeyManager.is.empty.error",defaultMessage:" is empty"})):""!==a&&a!==Zl&&/\s/g.test(a)&&(r=t.formatMessage({id:"KeyManagers.AddEditKeyManager.space.error",defaultMessage:"Key Manager name contains white spaces."}));break;case"keyconfig":case"displayName":case"issuer":case"clientRegistrationEndpoint":case"introspectionEndpoint":case"tokenEndpoint":case"revokeEndpoint":case"userInfoEndpoint":case"scopeManagementEndpoint":""===a&&(r=t.formatMessage({id:"KeyManagers.AddEditKeyManager.is.empty.error.key.config",defaultMessage:"Required field is empty."}));break;case"selectOrgs":"SELECT"===L&&0===O.length&&(r=t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.orgs.error",defaultMessage:"At least one organization should be selected."}))}return r},ke=e=>{"KeyManagerPermissionRestrict"===e.target.name?(Ae=e.target.value,W({field:"permissionStatus",value:Ae})):"checkbox"===e.target.type?"enableDirectToken"===e.target.name||"enableExchangeToken"===e.target.name?(!Pe&&!ve||e.target.checked?m(e.target.checked):m(Pe&&ve||!1),"enableDirectToken"===e.target.name?(we(e.target.checked),W({field:"additionalProperties",value:{}})):Me(e.target.checked)):W({field:e.target.name,value:e.target.checked}):("type"===e.target.name&&xe(e.target.value),"enableSelfValidationJWT"===e.target.name?W({field:e.target.name,value:"selfValidate"===e.target.value}):W({field:e.target.name,value:e.target.value}))},Oe=e=>{W({field:"claimMapping",value:e})},De=()=>{const e=["name","description","displayName","alias"],t={url:F,type:U};l(!0),Ie.keyManagersDiscover(t).then((t=>{const{obj:{value:a}}=t;for(const t of Object.keys(a))e.includes(t)?a[t]=q[t]:null===a[t]&&"additionalProperties"===t?a[t]={}:null!==a[t]||"enableMapOAuthConsumerApps"!==t&&"enableOAuthAppCreation"!==t&&"enableSelfValidationJWT"!==t&&"enableTokenEncryption"!==t&&"enableTokenGeneration"!==t&&"enableTokenHashing"!==t&&"enabled"!==t?null===a[t]?a[t]="":"tokenValidation"===t&&a[t]&&0===a[t].length&&(a[t]=q.tokenValidation):a[t]=!1,"id"===t&&delete a[t];const n=zl(zl({},a),{},{displayTokenEndpoint:a.tokenEndpoint,displayRevokeEndpoint:a.revokeEndpoint});W({field:"all",value:n}),xe(n.type),l(!1)})).catch((e=>{const{response:t}=e;t.body&&Dt.error(t.body.description),l(!1)}))},[Le,Ne]=n.useState(!1),je=()=>{Ne(!Le)};let qe;return qe=R?u?"".concat(t.formatMessage({id:"KeyManagers.AddEditKeyManager.title.editGlobal",defaultMessage:"Global Key Manager - Edit "})," ").concat(z):t.formatMessage({id:"KeyManagers.AddEditKeyManager.title.newGlobal",defaultMessage:"Global Key Manager - Create new"}):u?"".concat(t.formatMessage({id:"KeyManagers.AddEditKeyManager.title.edit",defaultMessage:"Key Manager - Edit "})," ").concat(z):t.formatMessage({id:"KeyManagers.AddEditKeyManager.title.new",defaultMessage:"Key Manager - Create new"}),(0,n.useEffect)((()=>{D((e=>"ALL"===L?["ALL"]:"NONE"===L?["NONE"]:O.length>0&&!O.includes("ALL")&&!O.includes("NONE")?e:[]))}),[L]),n.createElement(Hl,{pageStyle:"half",title:qe,help:n.createElement("div",null)},i&&n.createElement(ml,{message:t.formatMessage({id:"KeyManagers.AddEditKeyManager.importing.message",defaultMessage:"Importing..."})}),n.createElement(w.A,{component:"div",m:2,sx:e=>({mb:e.spacing(10)})},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.general.details.div"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.general.details.description.div"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.general.details.description",defaultMessage:"Provide name and description of the Key Manager."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},!s&&n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{id:"name",autoFocus:!0,margin:"dense",name:"name",label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.name",defaultMessage:"Name"}),n.createElement(Ul,null,"*")),fullWidth:!0,variant:"outlined",value:z,disabled:!!u,onChange:ke,error:Re("name",z,ye),helperText:Re("name",z,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.name.help",defaultMessage:"Name of the Key Manager."})})),n.createElement(v.Ay,{item:!0,xs:6},n.createElement(w.A,{ml:1},n.createElement(lt.A,{id:"display-name",autoFocus:!!u,margin:"dense",name:"displayName",fullWidth:!0,variant:"outlined",value:K,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.KeyManager.label.DisplayName",defaultMessage:"Display Name"}),n.createElement(Ul,null,"*")),error:Re("displayName",K,ye),helperText:Re("displayName",K,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.displayName.help",defaultMessage:"Display Name of the Key Manager."})})))),n.createElement(lt.A,{id:"description",multiline:!0,minRows:4,maxRows:10,margin:"dense",name:"description",label:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.description",defaultMessage:"Description"}),fullWidth:!0,variant:"outlined",value:G,onChange:ke,helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.description.help",defaultMessage:"Description of the Key Manager."})}))),!s&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"keyManager-type"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.KeyManager.type",defaultMessage:"Key Manager Type"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AddEditKeyManager.External.KeyManager.description.container"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.External.KeyManager.general.details.description",defaultMessage:"Identity Provider vendor and the  token usage mode"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0,error:Re("type",U,ye)},n.createElement(Rn.A,{sx:{position:"relative"}},n.createElement(b.A,{defaultMessage:"Key Manager Type",id:"Admin.KeyManager.form.type"}),n.createElement(Ul,null,"*")),n.createElement(Gt.A,{variant:"outlined",id:"Admin.KeyManager.form.type.select",name:"type",value:U,onChange:ke,"data-testid":"key-manager-type-select"},T.keyManagerConfiguration.sort(((e,t)=>e.displayName.localeCompare(t.displayName))).map((e=>n.createElement(Ut.A,{key:e.type,value:e.type},e.displayName||e.type))),n.createElement(Ut.A,{key:"other",value:"other",id:"Admin.KeyManager.form.type.menu"},"Other")),n.createElement(Fa.A,null,Re("type",U,ye)||n.createElement(b.A,{defaultMessage:"Select Key Manager Type",id:"KeyManagers.AddEditKeyManager.form.type.help"}))),n.createElement(jt.A,{required:!0,error:!d,variant:"outlined",fullWidth:!0},n.createElement(w.A,{display:"flex",marginTop:3,marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.api.invocation.method.div"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.api.invocation.method",defaultMessage:"API Invocation Method"}))),n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{container:!0,id:"grid2"},n.createElement(v.Ay,{item:!0,xs:6,md:4,lg:4,id:"grid1"},n.createElement(Wt.A,{id:"allow-direct-token",value:"enableDirectToken",control:n.createElement(_a.A,{id:"checkbox-allow-direct-token",checked:Pe,onChange:ke,name:"enableDirectToken",color:"primary",required:!d}),label:n.createElement(b.A,{id:"Admin.KeyManager.label.message.allow.direct.token",defaultMessage:"Direct Token"}),labelPlacement:"end"})),n.createElement(v.Ay,{item:!0,xs:6,md:4,lg:4},n.createElement(Wt.A,{id:"allow-exchange-token",value:"enableExchangeToken",control:n.createElement(_a.A,{id:"checkbox-allow-exchange-token",checked:ve,onChange:ke,name:"enableExchangeToken",color:"primary",required:!d}),label:n.createElement(b.A,{id:"Admin.KeyManager.label.allow.exchange.token",defaultMessage:"Token Exchange"}),labelPlacement:"end"}))))))),(Pe||Pe)&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.endpoints.div"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.endpoints",defaultMessage:"Key Manager Endpoints"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.endpoints.description.div"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.endpoints.description",defaultMessage:"Configure endpoints such as client registration endpoint, the token endpoint for this Key Manager."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},ve&&n.createElement(lt.A,{id:"token-audience",margin:"dense",name:"alias",label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.KeyManager.label.token.audience",defaultMessage:"Allowed Token Audience "}),n.createElement(Ul,null,"*")),onChange:ke,fullWidth:!0,variant:"outlined",value:ge,helperText:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.token.audience.help",defaultMessage:"The Audience of the authorization server which the access token is intended for."})}),n.createElement(w.A,{display:"flex",mt:2,alignItems:"flex-start"},n.createElement(lt.A,{id:"wellKnownUrl",margin:"dense",name:"wellKnownEndpoint",fullWidth:!0,variant:"outlined",value:F,onChange:ke,label:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.wellKnownUrl",defaultMessage:"Well-known URL"}),helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.wellKnownUrl.help",defaultMessage:"Provide a well-known URL and discover the Key Manager information."})}),n.createElement(w.A,{ml:1},n.createElement(P.A,{margin:"dense",variant:"outlined",disabled:!F,onClick:De,id:"import-button",sx:{mt:1}},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.import.button.message",defaultMessage:"Import"})))),n.createElement(lt.A,{id:"issuer",margin:"dense",name:"issuer",fullWidth:!0,variant:"outlined",value:te,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.Issuer",defaultMessage:"Issuer"}),n.createElement(Ul,null,"*")),error:Re("issuer",te,ye),helperText:Re("issuer",te,ye)||n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.issuer.help",defaultMessage:"E.g.,: https://localhost:9443/oauth2/token"})}),n.createElement(lt.A,{id:"clientRegistrationEndpoint",margin:"dense",name:"clientRegistrationEndpoint",fullWidth:!0,variant:"outlined",value:Z,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.clientRegistrationEndpoint",defaultMessage:"Client Registration Endpoint"}),n.createElement(Ul,null,"*")),error:Re("clientRegistrationEndpoint",Z,ye),helperText:Re("clientRegistrationEndpoint",Z,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.clientRegistrationEndpoint.help",defaultMessage:"E.g., https://localhost:9444/client-registration/v0.17/register"})}),n.createElement(lt.A,{id:"introspectionEndpoint",margin:"dense",name:"introspectionEndpoint",fullWidth:!0,variant:"outlined",value:H,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.introspectionEndpoint",defaultMessage:"Introspection Endpoint"}),n.createElement(Ul,null,"*")),error:Re("introspectionEndpoint",H,ye),helperText:Re("introspectionEndpoint",H,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.introspectionEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/introspect"})}),n.createElement(lt.A,{id:"tokenEndpoint",margin:"dense",name:"tokenEndpoint",fullWidth:!0,variant:"outlined",value:Y,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.tokenEndpoint",defaultMessage:"Token Endpoint"}),n.createElement(Ul,null,"*")),error:Re("tokenEndpoint",Y,ye),helperText:Re("tokenEndpoint",Y,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.tokenEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/token"})}),n.createElement(lt.A,{id:"displayTokenEndpoint",margin:"dense",name:"displayTokenEndpoint",fullWidth:!0,variant:"outlined",value:Q,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.displayTokenEndpoint",defaultMessage:"Display Token Endpoint"})),helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.tokenEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/token"})}),n.createElement(lt.A,{id:"revokeEndpoint",margin:"dense",name:"revokeEndpoint",fullWidth:!0,variant:"outlined",value:X,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.revokeEndpoint",defaultMessage:"Revoke Endpoint"}),n.createElement(Ul,null,"*")),error:Re("revokeEndpoint",X,ye),helperText:Re("revokeEndpoint",X,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.revokeEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/revoke"})}),n.createElement(lt.A,{id:"displayRevokeEndpoint",margin:"dense",name:"displayRevokeEndpoint",fullWidth:!0,variant:"outlined",value:J,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.displayRevokeEndpoint",defaultMessage:"Display Revoke Endpoint"})),helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.revokeEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/revoke"})}),n.createElement(lt.A,{id:"userInfoEndpoint",margin:"dense",name:"userInfoEndpoint",label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.userInfoEndpoint",defaultMessage:"UserInfo Endpoint"}),n.createElement(Ul,null,"*")),fullWidth:!0,variant:"outlined",value:$,onChange:ke,error:Re("userInfoEndpoint",$,ye),helperText:Re("userInfoEndpoint",$,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.userInfoEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/userInfo"})}),n.createElement(lt.A,{id:"authorizeEndpoint",margin:"dense",name:"authorizeEndpoint",label:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.authorizeEndpoint",defaultMessage:"Authorize Endpoint"}),fullWidth:!0,variant:"outlined",value:ee,onChange:ke,helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.authorizeEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/authorize"})}),n.createElement(lt.A,{id:"scopeManagementEndpoint",margin:"dense",name:"scopeManagementEndpoint",label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.scopeManagementEndpoint",defaultMessage:"Scope Management Endpoint"}),n.createElement(Ul,null,"*")),fullWidth:!0,variant:"outlined",value:ae,onChange:ke,error:Re("scopeManagementEndpoint",ae,ye),helperText:Re("scopeManagementEndpoint",ae,ye)||t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.scopeManagementEndpoint.help",defaultMessage:"E.g, https://localhost:9443/oauth2/scope"})}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"claim-uris"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.uris",defaultMessage:"Claim URIs"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.claim.uris.description.details"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.uris.description",defaultMessage:"Provide claim URIs for consumer key and scopes."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{id:"consumerKeyClaim",margin:"dense",name:"consumerKeyClaim",label:n.createElement(b.A,{id:"Admin.KeyManager.label.ConsumerKey.Claim",defaultMessage:"Consumer Key Claim URI"}),fullWidth:!0,variant:"outlined",value:re,onChange:ke,helperText:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.consumerKeyClaim.help",defaultMessage:"Provide consumer key claim URIs."})}),n.createElement(lt.A,{id:"scopesClaim",margin:"dense",name:"scopesClaim",label:n.createElement(b.A,{id:"Admin.KeyManager.label.Scopes.Claim",defaultMessage:"Scopes Claim URI"}),fullWidth:!0,variant:"outlined",value:ie,onChange:ke,helperText:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.scopesClaim.help",defaultMessage:"Provide scope claim URI."})}))))),!s&&!Pe&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"endpoints"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.endpoints",defaultMessage:"Key Manager Endpoints"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.endpoints.details"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.endpoints.description",defaultMessage:"Configure endpoints such as client registration endpoint, the token endpoint for this Key Manager."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{id:"token-audience",margin:"dense",name:"alias",label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.KeyManager.label.token.audience",defaultMessage:"Allowed Token Audience "}),n.createElement(Ul,null,"*")),onChange:ke,fullWidth:!0,variant:"outlined",value:ge,helperText:n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.exchange.token.form.token.audience.help",defaultMessage:"The Audience of the authorization server which the access token is intended for."})}),n.createElement(w.A,{display:"flex",mt:2,alignItems:"flex-start"},n.createElement(lt.A,{id:"wellKnownUrl",margin:"dense",name:"wellKnownEndpoint",fullWidth:!0,variant:"outlined",value:F,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditTokenExchangeIDP.form.wellKnownUrl",defaultMessage:"Well-known URL"}),n.createElement(Ul,null,"*")),helperText:n.createElement(b.A,{id:"KeyManagers.AddEditTokenExchangeIDP.form.wellKnownUrl.help",defaultMessage:"Provide a well-known URL and discover the Key Manager information."})}),n.createElement(w.A,{ml:1},n.createElement(P.A,{margin:"dense",variant:"outlined",disabled:!F,onClick:De},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.import.button.message",defaultMessage:"Import"})))),n.createElement(lt.A,{id:"issuer",margin:"dense",name:"issuer",fullWidth:!0,variant:"outlined",value:te,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditTokenExchangeIDP.form.Issuer",defaultMessage:"Issuer"}),n.createElement(Ul,null,"*")),error:Re("issuer",te,ye),helperText:Re("issuer",te,ye)||t.formatMessage({id:"KeyManagers.AddEditTokenExchangeIDP.form.issuer.help",defaultMessage:"E.g.,: https://localhost:9443/oauth2/token"})}),n.createElement(lt.A,{id:"tokenEndpoint",margin:"dense",name:"tokenEndpoint",fullWidth:!0,variant:"outlined",value:Y,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditTokenExchangeIDP.form.tokenEndpoint",defaultMessage:"Token Endpoint"}),n.createElement(Ul,null,"*")),error:Re("tokenEndpoint",Y,ye),helperText:Re("tokenEndpoint",Y,ye)||t.formatMessage({id:"KeyManagers.AddEditTokenExchangeIDP.form.tokenEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/token"})})))),s&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.endpoints.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.endpoints",defaultMessage:"Key Manager Endpoints"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.endpoints.details"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.resident.endpoints.description",defaultMessage:"Configure display endpoints such as display token endpoint, display revoke endpoint for this Key Manager."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{id:"displayTokenEndpoint",margin:"dense",name:"displayTokenEndpoint",fullWidth:!0,variant:"outlined",value:Q,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.displayTokenEndpoint",defaultMessage:"Display Token Endpoint"})),helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.tokenEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/token"})}),n.createElement(lt.A,{id:"displayRevokeEndpoint",margin:"dense",name:"displayRevokeEndpoint",fullWidth:!0,variant:"outlined",value:J,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.displayRevokeEndpoint",defaultMessage:"Display Revoke Endpoint"})),helperText:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.revokeEndpoint.help",defaultMessage:"E.g., https://localhost:9443/oauth2/revoke"})}),n.createElement(lt.A,{id:"issuer",margin:"dense",name:"issuer",fullWidth:!0,variant:"outlined",value:te,onChange:ke,label:n.createElement("span",null,n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.Issuer",defaultMessage:"Issuer"}),n.createElement(Ul,null,"*")),error:Re("issuer",te,ye),helperText:Re("issuer",te,ye)||n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.issuer.help",defaultMessage:"E.g.,: https://localhost:9443/oauth2/token"})})))),(Pe||s)&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.grant.types.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.grant.types",defaultMessage:"Grant Types"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.grant.types.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.grant.types.description",defaultMessage:"Add the supported grant types by the Key Manager. Press enter to add each grant."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(Aa.b,{variant:"outlined",fullWidth:!0,value:ne,onAddChip:e=>{ne.push(e)},onDeleteChip:e=>{const t=ne.filter((t=>t!==e));W({field:"availableGrantTypes",value:t})},placeholder:t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.claim.placeholder",defaultMessage:"Type Grant Types and press Enter"}),helperText:n.createElement("div",{style:{position:"absolute",marginTop:"10px"}},t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.claim.help",defaultMessage:"Type Available Grant Types and press Enter/Return to add them."}))})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.certificate.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.certificate",defaultMessage:"Certificates"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.certificate.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.certificate.description",defaultMessage:"Upload or provide the certificate inline."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(fl,{certificates:se,dispatch:W}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),Pe&&n.createElement(n.Fragment,null,!s&&he&&he.length>0&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.connector.configurations.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.connector.configurations",defaultMessage:"Connector Configurations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.connector.configurations.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.connector.configurations.description",defaultMessage:"Provide connection params for the selected Key Manager."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(Pl,{keymanagerConnectorConfigurations:he,additionalProperties:Se()(pe),keyManagerId:Se()(u),setAdditionalProperties:(e,t)=>{const a=Se()(pe);void 0===t?delete a[e]:a[e]=t,W({field:"additionalProperties",value:a})},hasErrors:Re,validating:ye}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))))),!R&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(w.A,{flex:"1"},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"KeyManager.permissions",defaultMessage:"Permissions"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"KeyManager.AddEditKeyManager.permissions.add.description",defaultMessage:"Permissions for the Key Manager"}))))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0},n.createElement(Rn.A,{sx:{position:"relative"}},n.createElement(b.A,{defaultMessage:"Key Manager Permission",id:"Admin.KeyManager.permission.type"}),n.createElement(Ul,null,"*")),n.createElement(Gt.A,{variant:"outlined",id:"Admin.KeyManager.form.permission.select",name:"KeyManagerPermissionRestrict",value:Ae,onChange:ke,"data-testid":"key-manager-permission-select"},n.createElement(Ut.A,{key:"PUBLIC",value:"PUBLIC"},"Public"),n.createElement(Ut.A,{key:"ALLOW",value:"ALLOW"},"Allow for role(s)"),n.createElement(Ut.A,{key:"DENY",value:"DENY"},"Deny for role(s)"))),("ALLOW"===Ae||"DENY"===Ae)&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center",sx:{m:"20px 0px"}},n.createElement(Aa.b,{fullWidth:!0,label:"Roles",InputLabelProps:{shrink:!0},name:"KeyManagerPermissions",variant:"outlined",value:g.concat(A),placeholder:"Type roles and press Enter",clearInputOnBlur:!0,"data-testid":"key-manager-permission-roles",InputProps:{endAdornment:!h&&n.createElement(ba.A,{position:"end",sx:{position:"absolute",right:"25px",top:"50%"}},n.createElement(ha.A,{color:"error"}))},onAddChip:e=>{Ie.validateSystemRole(Ea().encode(e)).then((()=>{f(g.concat(e)),0===A.length?C(!0):C(!1)})).catch((t=>{404===t.status?(y(A.concat(e)),C(!1)):(Dt.error("Error when validating role: "+e),console.error("Error when validating role "+t))}))},renderChip:(e,t,a)=>n.createElement(e,{key:a.label,label:a.label,onDelete:()=>(e=>{if(A.includes(e)){const t=A.filter((t=>t!==e));y(t),0===t.length&&C(!0)}else f(g.filter((t=>t!==e)))})(a.label),"data-testid":a.label,style:{backgroundColor:A.includes(a.label)?va.A[300]:null,margin:"8px 8px 8px 0",float:"left"}}),error:!h,helperText:h?["ALLOW"===Ae?n.createElement(b.A,{id:"KeyManager.enter.permission.allowed",defaultMessage:'Use of this Key-Manager is "Allowed" for above roles.'}):n.createElement(b.A,{id:"KeyManager.enter.permission.denied",defaultMessage:'Use of this Key-Manager is "Denied" for above roles.'})," ",n.createElement(b.A,{id:"KeyManager.AddEdit.roles.help",defaultMessage:"Enter a valid role and press `Enter`"})]:n.createElement(b.A,{id:"KeyManager.AddEdit.Invalid.Roles.Found",defaultMessage:"Invalid Role(s) Found"})})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null)))),T.orgAccessControlEnabled&&0!==Ce.length&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.certificate.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.orgs",defaultMessage:"Available Organizations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.certificate.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.org.description",defaultMessage:"Make this key manager available to selected organizations."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"standard",component:"fieldset"},n.createElement(qt.A,{style:{flexDirection:"row"},"aria-label":"organization",name:"selection",value:L,onChange:e=>{N(e.target.value)}},n.createElement(Wt.A,{id:"none",value:"NONE",control:n.createElement(zt.A,null),label:"None"}),n.createElement(Wt.A,{id:"select",value:"SELECT",control:n.createElement(zt.A,null),label:"Select"}),n.createElement(Wt.A,{id:"all",value:"ALL",control:n.createElement(zt.A,null),label:"All"}))),"SELECT"===L&&n.createElement(w.A,{display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(Dl.A,{multiple:!0,fullWidth:!0,limitTags:5,options:Ce,getOptionLabel:e=>e.displayName,noOptionsText:"No registered organizations",disableCloseOnSelect:!0,value:Ce.filter((e=>O.includes(e.organizationId))),onChange:(e,t)=>{const a=t.map((e=>e.organizationId));0===a.length?N("NONE"):D(a)},renderOption:(e,t,a)=>{let{selected:r}=a;return n.createElement("div",null,n.createElement("li",e,n.createElement(_a.A,{id:t.organizationId,key:t.organizationId,icon:Fl,checkedIcon:Kl,style:{marginRight:8},checked:r}),t.displayName))},renderInput:e=>n.createElement(lt.A,Bl({},e,{name:"selectOrgs",fullWidth:!0,label:n.createElement(b.A,{id:"Apis.Details.Configurations.organizations",defaultMessage:"Organizations"}),placeholder:t.formatMessage({id:"Apis.Details.Configurations.organizations.placeholder.text",defaultMessage:"Search Organizations"}),margin:"normal",variant:"outlined",id:"Organizations",error:Re("selectOrgs",O,ye),helperText:Re("selectOrgs",O,ye)}))})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null)))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.advanced.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.advanced",defaultMessage:"Advanced Configurations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"KeyManagers.AddEditKeyManager.advanced.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.advanced.description",defaultMessage:"Advanced options for the Key Manager"}))),(s||Pe)&&n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:6,md:4,lg:4},n.createElement(Wt.A,{value:"enableTokenGeneration",control:n.createElement(_a.A,{checked:oe,onChange:ke,name:"enableTokenGeneration",color:"primary"}),label:n.createElement(b.A,{id:"Admin.KeyManager.label.Enable.TokenGen",defaultMessage:"Token Generation"}),labelPlacement:"end"})),n.createElement(v.Ay,{item:!0,xs:6,md:4,lg:4},n.createElement(Wt.A,{value:"enableMapOAuthConsumerApps",control:n.createElement(_a.A,{checked:le,onChange:ke,name:"enableMapOAuthConsumerApps",color:"primary"}),label:n.createElement(b.A,{id:"Admin.KeyManager.label.Enable.OutOfBandProvisioning",defaultMessage:"Out Of Band Provisioning"}),labelPlacement:"end"})),n.createElement(v.Ay,{item:!0,xs:6,md:4,lg:4},n.createElement(Wt.A,{value:"enableOAuthAppCreation",control:n.createElement(_a.A,{checked:ce,onChange:ke,name:"enableOAuthAppCreation",color:"primary"}),label:n.createElement(b.A,{id:"Admin.KeyManager.label.Enable.EnableOAithAppCreation",defaultMessage:"Oauth App Creation"}),labelPlacement:"end"})))),n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",marginTop:3,marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.token.validation.method.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.token.validation.method",defaultMessage:"Token Validation Method"}))),n.createElement(w.A,null,n.createElement(jt.A,{variant:"standard",component:"fieldset"},n.createElement(qt.A,{"aria-label":t.formatMessage({id:"KeyManagers.AddEditKeyManager.token.validation.method",defaultMessage:"Token Validation Method"}),name:"enableSelfValidationJWT",value:de?"selfValidate":"useIntrospect",onChange:ke,style:{flexDirection:"row",paddingLeft:16}},n.createElement(Wt.A,{value:"selfValidate",control:n.createElement(zt.A,null),label:t.formatMessage({id:"KeyManagers.AddEditKeyManager.selfvalidate",defaultMessage:"Self validate JWT"})}),n.createElement(Wt.A,{value:"useIntrospect",control:n.createElement(zt.A,null),label:t.formatMessage({id:"KeyManagers.AddEditKeyManager.useIntrospect",defaultMessage:"Use introspect"})})))),n.createElement(w.A,{display:"flex",marginTop:3,marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"KeyManagers.AddEditKeyManager.token.handling.options.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.token.handling.options",defaultMessage:"Token Handling Options"}))),n.createElement(w.A,null,Ol()(ue)||n.createElement(Rl,{tokenValidations:ue,setTokenValidations:e=>{W({field:"tokenValidation",value:e})}})),n.createElement(w.A,{display:"flex",marginTop:3,marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"a",onClick:je,style:{cursor:"pointer"},id:"KeyManagers.AddEditKeyManager.claim.mappings.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.mappings.title",defaultMessage:"Claim Mappings"})),n.createElement(V.A,{sx:{marginLeft:"auto"},onClick:je,"aria-expanded":Le,"aria-label":"show more",size:"large"},n.createElement(_l,{className:Le?"expandOpen":"expand"}))),n.createElement(w.A,null,n.createElement(El.A,{in:Le,timeout:"auto",unmountOnExit:!0},n.createElement(yl,{claimMappings:Se()(me),setClaimMapping:Oe})),!Le&&n.createElement(E.A,{color:"inherit",variant:"caption",component:"div",style:{paddingLeft:16},id:"KeyManagers.AddEditKeyManager.claim.mappings.hidden.help.body"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.mappings.hidden.help",defaultMessage:"Expand to add edit claim mappings"}))))),ve&&!Pe&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{display:"flex",marginTop:3,marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"a",onClick:je,style:{cursor:"pointer"},id:"KeyManagers.AddEditKeyManager.claim.mappings.header"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.mappings.title",defaultMessage:"Claim Mappings"})),n.createElement(V.A,{sx:{marginLeft:"auto"},onClick:je,"aria-expanded":Le,"aria-label":"show more",size:"large"},n.createElement(_l,{className:Le?"expandOpen":"expand"}))),n.createElement(w.A,null,n.createElement(El.A,{in:Le,timeout:"auto",unmountOnExit:!0},n.createElement(yl,{claimMappings:Se()(me),setClaimMapping:Oe})),!Le&&n.createElement(E.A,{color:"inherit",variant:"caption",component:"div",style:{paddingLeft:16},id:"KeyManagers.AddEditKeyManager.claim.mappings.help.description"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.claim.mappings.hidden.help",defaultMessage:"Expand to add edit claim mappings"})))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Vl,null))),n.createElement(v.Ay,{item:!0,xs:12,mb:2},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{id:"keymanager-add",variant:"contained",color:"primary",onClick:()=>{if(Ee(!0),!s&&!d)return Dt.error(t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.tokentype.error",defaultMessage:"At least one API Invocation Method should supported by the Key Manager"})),!1;if(!s&&function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1;const a=e=>{for(const t of e){if(t.required&&(!pe[t.name]||""===pe[t.name]))return!0;if(t.values&&t.values.length>0&&pe[t.name]){const e=t.values.find((e=>"string"==typeof e?e===pe[t.name]:e.name===pe[t.name]));if(e&&"object"==typeof e&&e.values&&a(e.values))return!0}}return!1};return t=a(he),Pe?Re("name",z,e)||Re("displayName",K,e)||t||Re("issuer",te,e)||Re("clientRegistrationEndpoint",Z,e)||Re("introspectionEndpoint",H,e)||Re("tokenEndpoint",Y,e)||Re("revokeEndpoint",X,e)||Re("enableDirectToken",Pe,e)||Re("userInfoEndpoint",$,e)||Re("scopeManagementEndpoint",ae,e)||Re("selectOrgs",O,e):Re("name",z,e)||Re("displayName",K,e)||Re("issuer",te,e)||Re("tokenEndpoint",Y,e)||Re("alias",ge,e)}(!0))return Dt.error(t.formatMessage({id:"KeyManagers.AddEditKeyManager.form.has.errors",defaultMessage:"One or more fields contain errors."})),!1;let e;r(!0);const a=ue.length>0&&(""===ue[0].type||"NONE"===ue[0].type)?[]:ue;let n;n=Pe&&ve?"BOTH":ve?"EXCHANGED":"DIRECT";const i=zl(zl({},q),{},{tokenValidation:a,allowedOrganizations:O,tokenType:n,permissions:null===q.permissions||null===q.permissions.permissionStatus||"PUBLIC"===q.permissions.permissionStatus?null:{permissionType:q.permissions.permissionStatus,roles:g},global:R});return u?e=R?Ie.updateGlobalKeyManager(u,i):Ie.updateKeyManager(u,i):(e=R?Ie.addGlobalKeyManager(i):Ie.addKeyManager(i),e.then((()=>t.formatMessage({id:"KeyManager.add.success",defaultMessage:"Key Manager added successfully."})))),e.then((()=>{u?Dt.success("".concat(z," ").concat(t.formatMessage({id:"KeyManager.edit.success",defaultMessage:" - Key Manager edited successfully."}))):Dt.success("".concat(z," ").concat(t.formatMessage({id:"KeyManager.add.success.msg",defaultMessage:" - Key Manager added successfully."}))),r(!1),p.push("/settings/key-managers/")})).catch((e=>{const{response:t}=e;t.body&&Dt.error(t.body.description),r(!1)})),!0},disabled:R&&!k||!h},a?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,u?n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.update.btn",defaultMessage:"Update"}):n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.add",defaultMessage:"Add"})))),n.createElement(M.N_,{to:"/settings/key-managers"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"KeyManagers.AddEditKeyManager.form.cancel",defaultMessage:"Cancel"})))))))}Xl.defaultProps={dataRow:null},Xl.propTypes={dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,label:i().string.isRequired}),triggerButtonText:i().shape({}).isRequired,title:i().shape({}).isRequired};const Ql=Xl,Jl=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/settings/key-managers",component:sl}),n.createElement(o.qh,{exact:!0,path:"/settings/key-managers/create",component:Ql}),n.createElement(o.qh,{exact:!0,path:"/settings/key-managers/:id",component:Ql}),n.createElement(o.qh,{component:I}))}));function $l(e){let{updateList:t,dataRow:a}=e;const{id:r,builtInSupport:i}=a,o=(0,_.A)();return n.createElement(Bt,{title:o.formatMessage({id:"AiServiceProviders.DeleteAiServiceProvider.delete.dialog.title",defaultMessage:"Delete AI Service Provider ?"}),saveButtonText:o.formatMessage({id:"AiServiceProviders.DeleteAiServiceProvider.delete.dialog.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,{"aria-label":"ai-vendor-delete-icon"}),formSaveCallback:()=>(new Be).deleteAIServiceProvider(r).then((()=>n.createElement(b.A,{id:"AiServiceProviders.DeleteAiServiceProvider.Delete.form.delete.successful",defaultMessage:"AI Service Provider deleted successfully"}))).catch((e=>{throw new Error(e.response.body.description)})).finally((()=>{t()})),triggerIconProps:{color:"primary",component:"span",disabled:i}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AiServiceProviders.DeleteAiServiceProvider.delete.confirmation.message",defaultMessage:"Are you sure you want to delete this AI Service Provider ?"})))}$l.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired}).isRequired};const es=$l;function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ts.apply(null,arguments)}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const ns={searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},contentWrapper:{margin:"40px 16px"},button:{borderColor:"rgba(255, 255, 255, 0.7)"},tableCellWrapper:{"& td":{"word-break":"break-all","white-space":"normal"}}},rs=(0,k.Ay)("div")({});function is(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),[r,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(null),s=async()=>{a(null);try{const t=await(new Be).getAiServiceProviderList();t?(l(null),a(t.body.list)):l(e.formatMessage({id:"AdminPages.Addons.ListBase.noDataError",defaultMessage:"Error while retrieving data."}))}catch(e){l(e.message)}i("")},c=()=>n.createElement(P.A,{component:M.N_,to:"/settings/ai-service-providers/create",variant:"contained",color:"primary",size:"small"},e.formatMessage({id:"AiVendors.ListAiVendors.addNewAiVendor",defaultMessage:"Add AI Service Provider"})),d=[{name:"name",label:e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.table.header.label.aiVendorName",defaultMessage:"AI Service Provider Name"}),options:{customBodyRender:(e,a)=>{if("object"==typeof a.rowData){const r=t[a.rowIndex].id;return n.createElement(M.N_,{to:{pathname:"/settings/ai-service-providers/".concat(r)}},e)}return n.createElement("div",null)}}},{name:"description",label:e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.table.header.label.description",defaultMessage:"Description"}),options:{sort:!1,setCellProps:()=>({style:{maxWidth:200,whiteSpace:"nowrap"}}),customBodyRender:e=>n.createElement("div",{style:{maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e)}},{name:"apiVersion",label:e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.table.header.label.apiVersion",defaultMessage:"API Version"}),options:{sort:!1}},{name:"builtInSupport",label:e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.table.header.label.builtInSupport",defaultMessage:"Type"}),options:{sort:!1,customBodyRender:(e,a)=>{const n=t[a.rowIndex];return"object"==typeof a.rowData?n.builtInSupport?"Default":"Custom":""}}},{name:"id",options:{display:!1}},{name:"",label:"Actions",options:{filter:!1,sort:!1,customBodyRender:(a,r)=>{const i=t[r.rowIndex],o="object"==typeof r.rowData?r.rowData[0]:"";let l="";return i.builtInSupport&&(l=e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.table.is.used.delete.tooltip",defaultMessage:"Default AI Service Providers cannot be deleted"})),n.createElement("div",{"data-testid":"".concat(o,"-actions")},n.createElement(nt.A,{title:l},n.createElement("span",null,n.createElement(es,{dataRow:i,updateList:s}))))}}}],m={pageStyle:"paperLess",title:e.formatMessage({id:"AiServiceProviders.ListAiServiceProviders.List.title",defaultMessage:"AI Service Providers"})},u={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p",id:"AdminPages.AiVendors.List.empty.content.Aivendors.body"},n.createElement(b.A,{id:"AdminPages.AiVendors.List.empty.content.Aivendors",defaultMessage:"It is possible to register an AI Service Provider."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2",id:"AiServiceProviders.ListAiServiceProviders.empty.header"},n.createElement(b.A,{id:"AiServiceProviders.ListAiServiceProviders.empty.title",defaultMessage:"AI Service Providers"}))};(0,n.useEffect)((()=>{s()}),[]);const p={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"stacked",searchText:r,onColumnSortChange:(e,n)=>{const r=(i=t,function(e){if(Array.isArray(e))return as(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return as(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?as(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(((e,t,a)=>{const n=t=>t[e];return t=t?-1:1,(e,a)=>{const r=n(e),i=n(a);return t*((r>i)-(i>r))}})(e,"descending"===n));var i;a(r)},textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,ts({},m,{pageStyle:"small"}),n.createElement(ne.A,{sx:ns.root},n.createElement(re.A,null,u.title,u.content),n.createElement(dt.A,null,c()))):o||t?o?n.createElement(ae,m,n.createElement(yt.A,{severity:"error"},o)):n.createElement(n.Fragment,null,n.createElement(ae,m,n.createElement("div",null,n.createElement(ot.A,{sx:ns.searchBar,position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{sx:ns.block,color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:"",sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{i(e.target.value)},value:r})),n.createElement(v.Ay,{item:!0},c(),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:s},n.createElement(ct.A,{sx:ns.block,color:"inherit"}))))))),n.createElement(rs,{sx:ns.tableCellWrapper},t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:d,options:p})),t&&0===t.length&&n.createElement(rs,{sx:ns.contentWrapper},n.createElement(E.A,{color:"textSecondary",align:"center"},n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"})))))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null))}var os=a(54011),ls=a(74917);const ss=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function cs(e){const t=(0,_.A)(),{apiDefinition:a,dispatch:r,vendorName:i,file:o,setFile:l}=e,s=(e=>{try{return JSON.parse(e),"json"}catch(e){return"yaml"}})(a);return n.createElement(n.Fragment,null,a&&i?n.createElement(w.A,{m:1,display:"flex",flexDirection:"row",alignItems:"center"},n.createElement(ls.A,null),n.createElement(w.A,{flex:"1",ml:1},n.createElement("a",{href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(a)),download:"".concat(i,".").concat(s)},o&&o.name||"".concat(i,".").concat(s))),n.createElement(V.A,{edge:"end","aria-label":"delete",onClick:()=>{r({field:"apiDefinition",value:""}),l(null)},"data-testid":"ai-api-definition-delete-button",sx:{mr:1}},n.createElement(Jr.default,null))):n.createElement(n.Fragment,null,n.createElement(Rn.A,{sx:{position:"relative",marginBottom:1}},n.createElement(b.A,{id:"AiServiceProviders.AiApiDefinition.apiDefinition.upload",defaultMessage:"Upload API Definition"}),n.createElement(ss,null,"*")),n.createElement(So,{onDrop:e=>{const a=new FileReader;l(e[0]),a.readAsText(e[0],"UTF-8"),a.onload=e=>{r({field:"apiDefinition",value:e.target.result})},a.onerror=()=>{Dt.success(t.formatMessage({id:"AiVendors.OpenAPI.file.error",defaultMessage:"Error reading file"}))}},accept:".json, .yaml, .yml",baseStyle:{padding:"16px 20px"}},n.createElement(b.A,{id:"AiVendors.AiAPIDefinition.drag.and.drop.message",defaultMessage:"Drag and Drop files here {break} or {break}",values:{break:n.createElement("br",null)}}),n.createElement(P.A,{variant:"contained"},n.createElement(b.A,{id:"AiVendors.AiAPIDefinition.browse.files.to.upload",defaultMessage:"Browse File to Upload"})))))}function ds(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ms(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(a),!0).forEach((function(t){us(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ds(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function us(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ps(e){return function(e){if(Array.isArray(e))return gs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gs(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?gs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const fs=e=>{let{models:t,onModelsChange:a,hasErrors:r,validating:i,providerName:o}=e;const l=(0,_.A)(),s=e=>{const n=e.currentTarget.id,r=t.filter(((e,t)=>t!==parseInt(n,10)));a(r)};return n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{flex:"1"},n.createElement(P.A,{variant:"outlined",onClick:()=>{const e={id:(0,os.A)(),name:"",models:[]};a([].concat(ps(t),[e]))}},n.createElement(fa.A,{sx:{mr:1}}),n.createElement(b.A,{id:"AiServiceProviders.ModelProviders.add.model.provider",defaultMessage:"Add Model Provider"}))),t.map(((e,c)=>n.createElement(v.Ay,{container:!0,spacing:2,key:e.id,pt:1},n.createElement(v.Ay,{item:!0,xs:12,sm:3},n.createElement(lt.A,{fullWidth:!0,id:c,required:!0,name:"modelVendor",label:l.formatMessage({id:"AiServiceProviders.ModelProviders.model.provider.name",defaultMessage:"Provider Name"}),margin:"dense",variant:"outlined",value:e.name,onChange:n=>((e,n)=>{const r=t.map((t=>t.id===e?ms(ms({},t),{},{name:n.target.value}):t));a(r)})(e.id,n),error:r("providerName",e.name,i)})),n.createElement(v.Ay,{item:!0,xs:12,sm:8},n.createElement(Aa.b,{variant:"outlined",fullWidth:!0,value:e.models,onAddChip:n=>{const r=t.map((t=>t.id===e.id?ms(ms({},t),{},{models:[].concat(ps(t.models),[n])}):t));a(r)},onDeleteChip:n=>{const r=t.map((t=>t.id===e.id?ms(ms({},t),{},{models:t.models.filter((e=>e!==n))}):t));a(r)},placeholder:l.formatMessage("AWSBedrock"===o?{id:"AiServiceProviders.ModelProviders.model.provider.models.placeholder.modelId",defaultMessage:"Type model ID and press Enter"}:{id:"AiServiceProviders.ModelProviders.model.provider.models.placeholder",defaultMessage:"Type model name and press Enter"}),"data-testid":"ai-vendor-llm-models-".concat(c)})),n.createElement(v.Ay,{item:!0,xs:12,sm:1},n.createElement(nt.A,{title:n.createElement(b.A,{id:"AiServiceProviders.ModelProviders.model.provider.delete",defaultMessage:"Delete"}),placement:"right-end",interactive:!0},n.createElement(V.A,{id:c,onClick:s,size:"large"},n.createElement(Jt.A,null))))))))};fs.propTypes={models:i().arrayOf(i().shape({id:i().string.isRequired,name:i().string,values:i().arrayOf(i().string)})).isRequired,onModelsChange:i().func.isRequired,hasErrors:i().func.isRequired,validating:i().bool.isRequired,providerName:i().string.isRequired};const As=fs,ys=["id"];function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function hs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(a),!0).forEach((function(t){vs(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vs(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ms=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),Ps=(0,k.Ay)("hr")({border:"solid 1px #efefef"}),ws=(0,k.Ay)(ae)({"@global":{".MuiFormControl-root":{marginTop:"20px"},".MuiFormControl-root:first-of-type":{marginTop:"0"}}});function Cs(e,t){const{field:a,value:n}=t;switch(a){case"name":case"apiVersion":case"description":case"modelList":case"multipleModelProviderSupport":case"apiDefinition":case"models":return bs(bs({},e),{},{[a]:n});case"requestModel":case"responseModel":case"promptTokenCount":case"completionTokenCount":case"totalTokenCount":case"remainingTokenCount":return bs(bs({},e),{},{configurations:bs(bs({},e.configurations),{},{metadata:e.configurations.metadata.map((e=>e.attributeName===a?bs(bs({},e),n):e))})});case"authHeader":case"authQueryParameter":case"connectorType":return bs(bs({},e),{},{configurations:bs(bs({},e.configurations),{},{[a]:n})});case"all":return n;default:return e}}function Ts(e){var t;const a=(0,_.A)(),[r,i]=(0,n.useState)(!1),{match:{params:{id:l}},history:s}=e,c=["payload","header","queryParams","pathParams"],[d,m]=(0,n.useState)({enabled:"false",type:"none",parameters:{}}),[u,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(null),[A,y]=(0,n.useState)(!!l),h=(0,o.zy)(),[C]=(0,n.useState)({name:"",apiVersion:"",description:"",configurations:{metadata:[{attributeName:"requestModel",inputSource:"payload",attributeIdentifier:"",required:!1},{attributeName:"responseModel",inputSource:"payload",attributeIdentifier:"",required:!0},{attributeName:"promptTokenCount",inputSource:"payload",attributeIdentifier:"",required:!0},{attributeName:"completionTokenCount",inputSource:"payload",attributeIdentifier:"",required:!0},{attributeName:"totalTokenCount",inputSource:"payload",attributeIdentifier:"",required:!0},{attributeName:"remainingTokenCount",inputSource:"header",attributeIdentifier:"",required:!1}],connectorType:"",authQueryParameter:"",authHeader:""},multipleModelProviderSupport:!1,apiDefinition:"",modelList:[],models:[]}),[T,S]=(0,n.useReducer)(Cs,C),I=l?"".concat(a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.title.edit",defaultMessage:"AI Service Provider - Edit "})," ").concat(T.name):a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.title.new",defaultMessage:"AI Service Provider - Create new"});(0,n.useEffect)((()=>{(async()=>{if(l)try{const t=(await(new Be).getAiServiceProvider(l)).body;if(t){let a=[],n=[];if(t.modelProviders&&(a=t.modelProviders,n=a.find((e=>e.name===t.name)),n=n?n.models:[],a=a.map((e=>bs(bs({},e),{},{id:(0,os.A)()})))),t.configurations){const a=JSON.parse(t.configurations);if(a.authenticationConfiguration){var e;m({enabled:a.authenticationConfiguration.enabled,type:a.authenticationConfiguration.type,parameters:null!==(e=a.authenticationConfiguration.parameters)&&void 0!==e?e:{}})}else{const e=a.authHeader&&""!==a.authHeader.trim(),t=a.authQueryParameter&&""!==a.authQueryParameter.trim();m(e||t?{enabled:"true",type:"apikey",parameters:{headersEnabled:!!e,headerName:a.authHeader||"",queryParameterEnabled:!!t,queryParameterName:a.authQueryParameter||""}}:{enabled:"false",type:"none"})}}const r={name:t.name||"",apiVersion:t.apiVersion||"",description:t.description||"",configurations:JSON.parse(t.configurations),apiDefinition:t.apiDefinition||"",modelList:n,models:a,multipleModelProviderSupport:t.multipleModelProviderSupport||!1};S({field:"all",value:r}),f(new Blob([t.apiDefinition||""],{type:"text/plain;charset=utf-8"}))}}catch(e){console.error("Error fetching AI Service Provider data:",e)}finally{y(!1)}else y(!1)})()}),[l]),(0,n.useEffect)((()=>{var e;void 0!==(null===(e=h.state)||void 0===e?void 0:e.isSingleProvider)&&S({field:"multipleModelProviderSupport",value:!h.state.isSingleProvider})}),[]);const x=e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).replace(/\b(?!^)\w+/g,(e=>e.toLowerCase())),R=(e,t,n)=>{let r=!1;if(!n)return!1;switch(e){case"name":""===t.trim()&&(r="AI Service Provider name ".concat(a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error",defaultMessage:" is empty"})));break;case"apiVersion":""===t.trim()&&(r=a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error.apiVersion",defaultMessage:"Required field is empty."}));break;case"inputSource":""===t.trim()&&(r=a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error.inputSource",defaultMessage:"Input source is required."}));break;case"attributeIdentifier":t.required&&""===t.attributeIdentifier.trim()&&(r=a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error.attributeIdentifier",defaultMessage:"Attribute identifier is required."}));break;case"connectorType":""===t.trim()&&(r=a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error.connectorType",defaultMessage:"Connector type is required."}));break;case"providerName":""===t.trim()&&(r=a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.is.empty.error.providerName",defaultMessage:"Provider name is required."}))}return r};return A?n.createElement(ws,{pageStyle:"half",title:I,help:n.createElement("div",null)},n.createElement(w.A,{component:"div",m:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},n.createElement(ut.A,{size:48}))):n.createElement(ws,{pageStyle:"half",title:I,help:n.createElement("div",null)},n.createElement(w.A,{component:"div",m:2,sx:e=>({mb:e.spacing(10)})},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"AiServiceProviders.AddEditAiServiceProvider.general.details.div"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AiServiceProviders.AddEditAiServiceProvider.general.details.description.div"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.general.details.description",defaultMessage:"Provide name and description of the AI Service Provider"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{id:"name",autoFocus:!0,margin:"dense",name:"name",label:n.createElement("span",null,n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.name",defaultMessage:"Name"}),n.createElement(Ms,null,"*")),fullWidth:!0,variant:"outlined",value:T.name,disabled:!!l,onChange:e=>S({field:"name",value:e.target.value}),error:R("name",T.name,u),helperText:R("name",T.name,u)||a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.form.name.help",defaultMessage:"Name of the AI Service Provider."})})),n.createElement(v.Ay,{item:!0,xs:6},n.createElement(w.A,{ml:1},n.createElement(lt.A,{id:"api-version",margin:"dense",name:"apiVersion",fullWidth:!0,variant:"outlined",value:T.apiVersion,disabled:!!l,onChange:e=>S({field:"apiVersion",value:e.target.value}),label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.AiVendor.label.apiVersion",defaultMessage:"API Version"}),n.createElement(Ms,null,"*")),error:R("apiVersion",T.apiVersion,u),helperText:R("apiVersion",T.apiVersion,u)||a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.form.apiVersion.help",defaultMessage:"API Version of the AI Service Provider."})})))),n.createElement(lt.A,{id:"description",multiline:!0,minRows:4,maxRows:10,margin:"dense",name:"description",label:n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.description",defaultMessage:"Description"}),fullWidth:!0,variant:"outlined",value:T.description,onChange:e=>S({field:"description",value:e.target.value}),helperText:a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.form.description.help",defaultMessage:"Description of the AI Service Provider."})}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"AiServiceProviders.AddEditAiServiceProvider.model.providers.header"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.model.providers",defaultMessage:"Model Provider(s)"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AiServiceProviders.AddEditAiServiceProvider.model.providers.body"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.model.providers.description",defaultMessage:"Configure model provider(s) for the AI Service Provider"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(qt.A,{"aria-label":"multipleModelProviderSupport",name:"multipleModelProviderSupport",value:T.multipleModelProviderSupport?"true":"false",onChange:e=>{const t="true"===e.target.value;S({field:"multipleModelProviderSupport",value:t}),l||S(t?{field:"modelList",value:[]}:{field:"models",value:[]})},sx:{display:"flex",flexDirection:"row"}},n.createElement(Wt.A,{value:"false",control:n.createElement(zt.A,{disabled:!!l}),label:a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.single.model.provider",defaultMessage:"Single Model Provider"}),disabled:!!l}),n.createElement(Wt.A,{value:"true",control:n.createElement(zt.A,{disabled:!!l}),label:a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.multi.model.provider",defaultMessage:"Multi Model Provider"}),disabled:!!l}))),n.createElement(v.Ay,{item:!0,xs:12,mt:1},T.multipleModelProviderSupport?n.createElement(As,{models:T.models,onModelsChange:e=>S({field:"models",value:e}),hasErrors:R,validating:u,providerName:T.name}):n.createElement(Aa.b,{variant:"outlined",fullWidth:!0,value:T.modelList,onAddChip:e=>{const t=[].concat(function(e){if(Array.isArray(e))return Es(e)}(a=T.modelList)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return Es(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Es(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var a;S({field:"modelList",value:t})},onDeleteChip:e=>{const t=T.modelList.filter((t=>t!==e));S({field:"modelList",value:t})},placeholder:a.formatMessage((q=T.name,"AzureOpenAI"===q?{id:"AiServiceProviders.AddEditAiServiceProvider.modelList.placeholder.deploymentId",defaultMessage:"Type deployment ID and press Enter"}:{id:"AiServiceProviders.AddEditAiServiceProvider.modelList.placeholder",defaultMessage:"Type model name and press Enter"})),"data-testid":"ai-vendor-llm-model-list"}))))),n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"llm-configurations"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.AiVendor.configurations.llm",defaultMessage:"LLM Configurations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AddEditAiServiceProvider.External.AiVendor.configurations.llm.container"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.AiVendor.general.details.description.llm",defaultMessage:"Configure to extract LLM related metadata"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},T.configurations.metadata.map((e=>{return n.createElement(n.Fragment,null,n.createElement(w.A,{display:"flex",marginBottom:2},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"AiServiceProviders.AddEditAiServiceProvider.llm.configuration."+"".concat(e.attributeName,".div")},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.llm.configuration."+"".concat(e.attributeName),defaultMessage:(t=e.attributeName,t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())))}))),n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0,error:!!R("inputSource",e.inputSource,u)},n.createElement(Gt.A,{variant:"outlined",id:"Admin.AiVendor.form.llm.".concat(e.attributeName,".select"),name:"inputSource",value:e.inputSource||c[0],onChange:t=>S({field:"".concat(e.attributeName),value:{inputSource:t.target.value}}),"data-testid":"ai-vendor-llm-".concat(e.attributeName,"-select")},c.map((e=>n.createElement(Ut.A,{key:e,value:e},e)))),n.createElement(lt.A,{id:"Admin.AiVendor.form.llm.".concat(e.attributeName,".select.input"),margin:"dense",name:"model.attributeIdentifier",label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.AiVendor.form.llm."+"".concat(e.attributeName,".select.input.message"),defaultMessage:"".concat(x(e.attributeName))+" identifier"}),e.required&&n.createElement(Ms,null,"*")),fullWidth:!0,variant:"outlined",value:e.attributeIdentifier,onChange:t=>S({field:"".concat(e.attributeName),value:{attributeIdentifier:t.target.value}}),error:R("attributeIdentifier",e,u)}))));var t})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"AiServiceProviders.AddEditAiServiceProvider.apiDefinition.header"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.apiDefinition",defaultMessage:"API Definition"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AiServiceProviders.AddEditAiServiceProvider.apiDefinition.body"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.apiDefinition.description",defaultMessage:"Upload API Definition of the AI Service Provider"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div"},n.createElement(cs,{apiDefinition:T.apiDefinition,vendorName:T.name,file:g,setFile:f,dispatch:S}))),n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"llm-auth-configurations"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.AiVendor.configurations.llm.auth",defaultMessage:"LLM Provider Auth Configurations"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AddEditAiServiceProvider.External.AiVendor.configurations.llm.auth.container"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.AiVendor.general.details.description.llm.auth",defaultMessage:"Configure to add LLM provider authorization"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(n.Fragment,null,n.createElement(w.A,{component:"div",m:1},n.createElement(jt.A,{variant:"outlined",fullWidth:!0},n.createElement(Gt.A,{variant:"outlined",id:"Admin.AiVendor.form.llm.auth.select",name:"authSource",value:d.type,onChange:e=>{var t;"none"===(t=e.target.value)?(d.enabled=!1,d.type="none"):(d.enabled=!0,d.type=t),m((e=>bs(bs({},e),{},{parameters:{}})))},"data-testid":"ai-vendor-llm-auth-select"},["none","apikey","aws"].map((e=>n.createElement(Ut.A,{key:e,value:e},e)))),"apikey"===d.type&&n.createElement(n.Fragment,null,n.createElement(w.A,{mb:2,mt:2},n.createElement(jt.A,{component:"fieldset",fullWidth:!0},n.createElement(qt.A,{row:!0,"aria-label":"API Key Location",name:"apikeyLocation",value:(N=d,null!=N&&null!==(B=N.parameters)&&void 0!==B&&B.headerEnabled?"header":null!=N&&null!==(j=N.parameters)&&void 0!==j&&j.queryParameterEnabled?"queryParameter":""),onChange:e=>{const{value:t}=e.target;m((e=>bs(bs({},e),{},{parameters:bs(bs({},e.parameters),{},{headerEnabled:"header"===t,queryParameterEnabled:"queryParameter"===t})})))},"data-testid":"ai-vendor-llm-auth-apikey-location"},n.createElement(Wt.A,{value:"header",control:n.createElement(zt.A,null),label:"Header"}),n.createElement(Wt.A,{value:"queryParameter",control:n.createElement(zt.A,null),label:"Query Parameter"})))),n.createElement(lt.A,{id:"Admin.AiVendor.form.llm.auth.select.input",margin:"dense",name:"model.auth.attributeIdentifier",label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.AiVendor.form.llm.auth.select.input.message",defaultMessage:"".concat(x(d.type)," identifier")})),fullWidth:!0,variant:"outlined",value:null!=d&&null!==(k=d.parameters)&&void 0!==k&&k.headerEnabled?null!==(D=d.parameters.headerName)&&void 0!==D?D:"":null!=d&&null!==(O=d.parameters)&&void 0!==O&&O.queryParameterEnabled&&null!==(L=d.parameters.queryParameterName)&&void 0!==L?L:"",onChange:e=>{const{value:t}=e.target;m((e=>bs(bs({},e),{},{parameters:bs(bs(bs({},e.parameters),e.parameters.headerEnabled?{headerName:t}:{}),e.parameters.queryParameterEnabled?{queryParameterName:t}:{})})))}})),"aws"===d.type&&n.createElement(lt.A,{id:"Admin.AiVendor.form.llm.auth.aws.service",margin:"dense",name:"awsServiceName",label:n.createElement("span",null,n.createElement(b.A,{id:"Admin.AiVendor.form.llm.auth.aws.service.label",defaultMessage:"AWS Service Name"})),fullWidth:!0,variant:"outlined",value:(null===(t=d.parameters)||void 0===t?void 0:t.awsServiceName)||"",onChange:e=>m((t=>bs(bs({},t),{},{parameters:bs(bs({},t.parameters),{},{awsServiceName:e.target.value})}))),required:!0})))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div",id:"AiServiceProviders.AddEditAiServiceProvider.connectorType.header"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.connectorType",defaultMessage:"Connector Type for AI Service Provider"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p",id:"AiServiceProviders.AddEditAiServiceProvider.connectorType.body"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.connectorType.description",defaultMessage:"Reference to the connector model for the AI Service Provider"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{id:"connectorType",margin:"dense",name:"connectorType",label:n.createElement("span",null,n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.connectorType",defaultMessage:"Connector Type"}),n.createElement(Ms,null,"*")),fullWidth:!0,variant:"outlined",value:T.configurations.connectorType,disabled:!!l,onChange:e=>S({field:"connectorType",value:e.target.value}),error:R("connectorType",T.configurations.connectorType,u),helperText:R("connectorType",T.configurations.connectorType,u)||a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.form.connectorType.help",defaultMessage:"Connector Type for AI Service Provider"})}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Ps,null))),n.createElement(v.Ay,{item:!0,xs:12,mb:2},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{id:"aivendor-add",variant:"contained",color:"primary",onClick:async()=>{if(p(!0),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=T.configurations.metadata.map((t=>R("attributeIdentifier",t,e)||R("inputSource",t.inputSource,e))),a=T.models.some((e=>""===e.name.trim()));return R("name",T.name,e)||R("apiVersion",T.apiVersion,e)||R("connectorType",T.configurations.connectorType,e)||t.some((e=>e))||a}(!0))return Dt.error(a.formatMessage({id:"AiServiceProviders.AddEditAiServiceProvider.form.has.errors",defaultMessage:"One or more fields contain errors."})),!1;i(!0);try{let e,t={metadata:T.configurations.metadata,connectorType:T.configurations.connectorType};t=bs(bs({},t),{},{authenticationConfiguration:d}),e=T.multipleModelProviderSupport?T.models.map((e=>{let{id:t}=e;return function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,ys)})):[{name:T.name,models:T.modelList}];const n={name:T.name,apiVersion:T.apiVersion,description:T.description,multipleModelProviderSupport:T.multipleModelProviderSupport,configurations:JSON.stringify(t),modelList:e,apiDefinition:g};l?(await(new Be).updateAIServiceProvider(l,n),Dt.success("".concat(T.name," ").concat(a.formatMessage({id:"AiVendor.edit.success",defaultMessage:" - AI Service Provider edited successfully."})))):(await(new Be).addAIServiceProvider(n),Dt.success("".concat(T.name," ").concat(a.formatMessage({id:"AiVendor.add.success.msg",defaultMessage:" - AI Service Provider added successfully."})))),i(!1),s.push("/settings/ai-service-providers/")}catch(e){e.message&&Dt.error(e.message),i(!1)}return i(!1),!0},disabled:!T.apiDefinition},r?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,l?n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.update.btn",defaultMessage:"Update"}):n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.add",defaultMessage:"Add"})))),n.createElement(M.N_,{to:"/settings/ai-service-providers"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"AiServiceProviders.AddEditAiServiceProvider.form.cancel",defaultMessage:"Cancel"})))))));var k,O,D,L,N,B,j,q}const Ss=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/settings/ai-service-providers",component:is}),n.createElement(o.qh,{exact:!0,path:"/settings/ai-service-providers/create",component:Ts}),n.createElement(o.qh,{exact:!0,path:"/settings/ai-service-providers/:id",component:Ts}),n.createElement(o.qh,{component:I}))}));function Is(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xs(n.key),n)}}function xs(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Rs(e,t,a){return t=Os(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ks()?Reflect.construct(t,a||[],Os(e).constructor):t.apply(e,a))}function ks(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ks=function(){return!!e})()}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Os(e)}function Ds(e,t){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ds(e,t)}const Ls=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Rs(this,t)).role=e,n.scopes=a,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ds(e,t)}(t,e),a=t,n=[{key:"systemScopes",value:function(){return(new Me).getAPIClient().client.then((e=>e.apis["System Scopes"].systemScopesGet()))}},{key:"updateSystemScopes",value:function(e){const t=[];for(const a of Object.values(e))for(const e of a)t.push(e);const a={count:t.length,list:t};return(new Me).getAPIClient().client.then((e=>e.apis["System Scopes"].updateRolesForScope({},{requestBody:a})))}},{key:"getRoleAliases",value:function(){return(new Me).getAPIClient().client.then((e=>e.apis["System Scopes"].get_system_scopes_role_aliases()))}},{key:"updateRoleAliases",value:function(e){const t={count:e.length,list:e};return(new Me).getAPIClient().client.then((e=>e.apis["System Scopes"].put_system_scopes_role_aliases({},{requestBody:t})))}}],null&&Is(a.prototype,null),n&&Is(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,n}(Ce);var Ns=a(75765),Bs=a(17031),js=a(95014),qs=a(37396);function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ws.apply(null,arguments)}function zs(e){return n.createElement(Ns.A,Ws({fontSize:"inherit",style:{width:14,height:14}},e),n.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 11.023h-11.826q-.375 0-.669.281t-.294.682v0q0 .401.294 .682t.669.281h11.826q.375 0 .669-.281t.294-.682v0q0-.401-.294-.682t-.669-.281z"}))}function Gs(e){return n.createElement(Ns.A,Ws({fontSize:"inherit",style:{width:14,height:14}},e),n.createElement("path",{d:"M22.047 22.074v0 0-20.147 0h-20.12v0 20.147 0h20.12zM22.047 24h-20.12q-.803 0-1.365-.562t-.562-1.365v-20.147q0-.776.562-1.351t1.365-.575h20.147q.776 0 1.351.575t.575 1.351v20.147q0 .803-.575 1.365t-1.378.562v0zM17.873 12.977h-4.923v4.896q0 .401-.281.682t-.682.281v0q-.375 0-.669-.281t-.294-.682v-4.896h-4.923q-.401 0-.682-.294t-.281-.669v0q0-.401.281-.682t.682-.281h4.923v-4.896q0-.401.294-.682t.669-.281v0q.401 0 .682.281t.281.682v4.896h4.923q.401 0 .682.281t.281.682v0q0 .375-.281.669t-.682.294z"}))}function Us(e){const t=(0,qs.zh)({from:{opacity:0,transform:"translate3d(20px,0,0)"},to:{opacity:e.in?1:0,transform:"translate3d(".concat(e.in?0:20,"px,0,0)")}});return n.createElement(qs.CS.div,{style:t},n.createElement(El.A,e))}const Vs=(0,k.Ay)(js.y)((()=>({iconContainer:{"& .close":{opacity:.3}},group:{marginLeft:7,paddingLeft:18},label:{backgroundColor:"inherit !important",width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:"#ececec8c !important","@media (hover: none)":{backgroundColor:"transparent"}}}})));function Ks(e){const{appMappings:t,role:a,onCheck:r}=e,i=(0,_.A)(),o=t.admin.length+t.devportal.length+t.publisher.length,l={"apim:api_workflow_view":i.formatMessage({id:"PERMISSION_TREE.apim.api_workflow_view",defaultMessage:"Retrive workflow requests"}),"apim:tenant_theme_manage":i.formatMessage({id:"PERMISSION_TREE.apim.tenant_theme_manage",defaultMessage:"Manage tenant themes"}),"apim:api_manage":i.formatMessage({id:"PERMISSION_TREE.apim.api_manage",defaultMessage:"Manage all API related operations"}),"apim:gateway_policy_manage":i.formatMessage({id:"PERMISSION_TREE.apim.gateway_policy_manage",defaultMessage:"Add, Update and Delete gateway policies"}),"apim:admin":i.formatMessage({id:"PERMISSION_TREE.apim.admin",defaultMessage:"Manage all admin operations"}),"apim:api_workflow_approve":i.formatMessage({id:"PERMISSION_TREE.apim.api_workflow_approve",defaultMessage:"Manage workflows"}),"apim:common_operation_policy_view":i.formatMessage({id:"PERMISSION_TREE.apim.common_operation_policy_view",defaultMessage:"View common operation policies"}),"apim:gateway_policy_view":i.formatMessage({id:"PERMISSION_TREE.apim.gateway_policy_view",defaultMessage:"View gateway policies"}),"apim:subscription_manage":i.formatMessage({id:"PERMISSION_TREE.apim.subscription_manage",defaultMessage:"Manage all Subscription related operations"}),"apim:scope_manage":i.formatMessage({id:"PERMISSION_TREE.apim.scope_manage",defaultMessage:"Manage system scopes"}),"apim:api_list_view":i.formatMessage({id:"PERMISSION_TREE.apim.api_list_view",defaultMessage:"View, Retrieve API list"}),"apim:app_manage":i.formatMessage({id:"PERMISSION_TREE.apim.app_manage",defaultMessage:"Retrieve, Manage and Import, Export applications"}),"service_catalog:service_view":i.formatMessage({id:"PERMISSION_TREE.service_catalog.service_view",defaultMessage:"view access to services in service catalog"}),"apim:admin_application_view":i.formatMessage({id:"PERMISSION_TREE.apim.admin_application_view",defaultMessage:"View Applications"}),"apim:bl_view":i.formatMessage({id:"PERMISSION_TREE.apim.bl_view",defaultMessage:"View deny policies"}),"apim:store_settings":i.formatMessage({id:"PERMISSION_TREE.apim.store_settings",defaultMessage:"Retrieve Developer Portal settings"}),"apim:common_operation_policy_manage":i.formatMessage({id:"PERMISSION_TREE.apim.common_operation_policy_manage",defaultMessage:"Add, Update and Delete common operation policies"}),"apim:sub_alert_manage":i.formatMessage({id:"PERMISSION_TREE.apim.sub_alert_manage",defaultMessage:"Retrieve, subscribe and configure Developer Portal alert types"}),"apim:threat_protection_policy_create":i.formatMessage({id:"PERMISSION_TREE.apim.threat_protection_policy_create",defaultMessage:"Create threat protection policies"}),"apim:mediation_policy_manage":i.formatMessage({id:"PERMISSION_TREE.apim.mediation_policy_manage",defaultMessage:"Update and delete mediation policies"}),"apim:ep_certificates_update":i.formatMessage({id:"PERMISSION_TREE.apim.ep_certificates_update",defaultMessage:"Update and delete backend endpoint certificates"}),"apim:ep_certificates_view":i.formatMessage({id:"PERMISSION_TREE.apim.ep_certificates_view",defaultMessage:"View backend endpoint certificates"}),"apim:admin_settings":i.formatMessage({id:"PERMISSION_TREE.apim.admin_settings",defaultMessage:"Retrieve admin settings"}),"apim:app_import_export":i.formatMessage({id:"PERMISSION_TREE.apim.app_import_export",defaultMessage:"Import and export applications related operations"}),"apim:api_publish":i.formatMessage({id:"PERMISSION_TREE.apim.api_publish",defaultMessage:"Publish API"}),"apim:client_certificates_update":i.formatMessage({id:"PERMISSION_TREE.apim.client_certificates_update",defaultMessage:"Update and delete client certificates"}),"apim:environment_manage":i.formatMessage({id:"PERMISSION_TREE.apim.environment_manage",defaultMessage:"Manage gateway environments"}),"apim:api_definition_view":i.formatMessage({id:"PERMISSION_TREE.apim.api_definition_view",defaultMessage:"View, Retrieve API definition"}),"apim:api_key":i.formatMessage({id:"PERMISSION_TREE.apim.api_key",defaultMessage:"Generate API Keys"}),"apim:admin_alert_manage":i.formatMessage({id:"PERMISSION_TREE.apim.admin_alert_manage",defaultMessage:"Manage admin alerts"}),"apim:api_generate_key":i.formatMessage({id:"PERMISSION_TREE.apim.api_generate_key",defaultMessage:"Generate Internal Key"}),"apim:api_view":i.formatMessage({id:"PERMISSION_TREE.apim.api_view",defaultMessage:"View API"}),"apim:api_provider_change":i.formatMessage({id:"PERMISSION_TREE.apim.api_provider_change",defaultMessage:"Retrieve and manage applications"}),"apim:mediation_policy_create":i.formatMessage({id:"PERMISSION_TREE.apim.mediation_policy_create",defaultMessage:"Create mediation policies"}),"apim:pub_alert_manage":i.formatMessage({id:"PERMISSION_TREE.apim.pub_alert_manage",defaultMessage:"Get/ subscribe/ configure publisher alerts"}),"apim:document_manage":i.formatMessage({id:"PERMISSION_TREE.apim.document_manage",defaultMessage:"Create, update and delete API documents"}),"apim:ep_certificates_manage":i.formatMessage({id:"PERMISSION_TREE.apim.ep_certificates_manage",defaultMessage:"View, create, update and remove endpoint certificates"}),"apim:comment_view":i.formatMessage({id:"PERMISSION_TREE.apim.comment_view",defaultMessage:"Read permission to comments"}),"service_catalog:service_write":i.formatMessage({id:"PERMISSION_TREE.service_catalog.service_write",defaultMessage:"write access to services in service catalog"}),"apim:admin_tier_view":i.formatMessage({id:"PERMISSION_TREE.apim.admin_tier_view",defaultMessage:"View throttling policies"}),"apim:comment_write":i.formatMessage({id:"PERMISSION_TREE.apim.comment_write",defaultMessage:"Write permission to comments"}),"apim:api_category":i.formatMessage({id:"PERMISSION_TREE.apim.api_category",defaultMessage:"Manage API categories"}),"apim:admin_operations":i.formatMessage({id:"PERMISSION_TREE.apim.admin_operations",defaultMessage:"Manage API categories and Key Managers related operations"}),"apim:app_owner_change":i.formatMessage({id:"PERMISSION_TREE.apim.app_owner_change",defaultMessage:"Retrieve and manage applications"}),"apim:bl_manage":i.formatMessage({id:"PERMISSION_TREE.apim.bl_manage",defaultMessage:"Update and delete deny policies"}),"apim:tier_manage":i.formatMessage({id:"PERMISSION_TREE.apim.tier_manage",defaultMessage:"View, update and delete throttling policies"}),"apim:keymanagers_manage":i.formatMessage({id:"PERMISSION_TREE.apim.keymanagers_manage",defaultMessage:"Manage Key Managers"}),"apim:role_manage":i.formatMessage({id:"PERMISSION_TREE.apim.role_manage",defaultMessage:"Manage system roles"}),"apim:policies_import_export":i.formatMessage({id:"PERMISSION_TREE.apim.policies_import_export",defaultMessage:"Export and import policies related operations"}),"apim:sub_manage":i.formatMessage({id:"PERMISSION_TREE.apim.sub_manage",defaultMessage:"Retrieve, Manage subscriptions"}),"apim:admin_tier_manage":i.formatMessage({id:"PERMISSION_TREE.apim.admin_tier_manage",defaultMessage:"Update and delete throttling policies"}),"apim:subscribe":i.formatMessage({id:"PERMISSION_TREE.apim.subscribe",defaultMessage:"Subscribe API"}),"apim:comment_manage":i.formatMessage({id:"PERMISSION_TREE.apim.comment_manage",defaultMessage:"Read and Write comments"}),"apim:tier_view":i.formatMessage({id:"PERMISSION_TREE.apim.tier_view",defaultMessage:"View throttling policies"}),"apim:document_create":i.formatMessage({id:"PERMISSION_TREE.apim.document_create",defaultMessage:"Create API documents"}),"apim:threat_protection_policy_manage":i.formatMessage({id:"PERMISSION_TREE.apim.threat_protection_policy_manage",defaultMessage:"Update and delete threat protection policies"}),"apim:subscription_view":i.formatMessage({id:"PERMISSION_TREE.apim.subscription_view",defaultMessage:"View Subscription"}),"apim:api_create":i.formatMessage({id:"PERMISSION_TREE.apim.api_create",defaultMessage:"Create API"}),"apim:shared_scope_manage":i.formatMessage({id:"PERMISSION_TREE.apim.shared_scope_manage",defaultMessage:"Manage shared scopes"}),"apim:client_certificates_add":i.formatMessage({id:"PERMISSION_TREE.apim.client_certificates_add",defaultMessage:"Add client certificates"}),"apim:api_product_import_export":i.formatMessage({id:"PERMISSION_TREE.apim.api_product_import_export",defaultMessage:"Import and export API Products related operations"}),"apim:environment_read":i.formatMessage({id:"PERMISSION_TREE.apim.environment_read",defaultMessage:"Retrieve gateway environments"}),"apim:monetization_usage_publish":i.formatMessage({id:"PERMISSION_TREE.apim.monetization_usage_publish",defaultMessage:"Retrieve and publish Monetization related usage records"}),"apim:tenantInfo":i.formatMessage({id:"PERMISSION_TREE.apim.tenantInfo",defaultMessage:"Retrieve tenant related information"}),"apim:api_delete":i.formatMessage({id:"PERMISSION_TREE.apim.api_delete",defaultMessage:"Delete API"}),"apim:client_certificates_view":i.formatMessage({id:"PERMISSION_TREE.apim.client_certificates_view",defaultMessage:"View client certificates"}),"apim:api_import_export":i.formatMessage({id:"PERMISSION_TREE.apim.api_import_export",defaultMessage:"Import and export APIs related operations"}),"apim:publisher_settings":i.formatMessage({id:"PERMISSION_TREE.apim.publisher_settings",defaultMessage:"Retrieve store settings"}),"apim:subscription_block":i.formatMessage({id:"PERMISSION_TREE.apim.subscription_block",defaultMessage:"Block Subscription"}),"apim:mediation_policy_view":i.formatMessage({id:"PERMISSION_TREE.apim.mediation_policy_view",defaultMessage:"View mediation policies"}),"apim:client_certificates_manage":i.formatMessage({id:"PERMISSION_TREE.apim.client_certificates_manage",defaultMessage:"View, create, update and remove client certificates"}),"apim:ep_certificates_add":i.formatMessage({id:"PERMISSION_TREE.apim.ep_certificates_add",defaultMessage:"Add backend endpoint certificates"}),"apim:bot_data":i.formatMessage({id:"PERMISSION_TREE.apim.bot_data",defaultMessage:"Retrieve bot detection data"}),"apim:api_mediation_policy_manage":i.formatMessage({id:"PERMISSION_TREE.apim.api_mediation_policy_manage",defaultMessage:"View, create, update and remove API specific mediation policies"})};return n.createElement(Bs.G,{sx:{minHeight:512,flexGrow:1,maxWidth:800},defaultExpanded:["0","3"],defaultCollapseIcon:n.createElement(zs,null),defaultExpandIcon:n.createElement(Gs,null)},n.createElement(Vs,Ws({},e,{TransitionComponent:Us,nodeId:"0",label:i.formatMessage({id:"Permissions.tree.scope.assignments.title",defaultMessage:"Scope Assignments ({totalPermissions})"},{totalPermissions:o})}),Object.entries(t).map(((t,i)=>{let[o,s]=t;const c=i+1;return n.createElement(Vs,Ws({},e,{TransitionComponent:Us,nodeId:"".concat(c),label:n.createElement(E.A,{display:"block",variant:"subtitle1"},o," ",n.createElement(E.A,{variant:"caption"},"(",s.length,")"))}),s.map(((t,i)=>{let{name:s,description:d,roles:m}=t;return n.createElement(Vs,Ws({},e,{TransitionComponent:Us,endIcon:n.createElement(_a.A,{checked:m.includes(a),name:s,onChange:e=>r({target:{name:s,checked:e.target.checked,role:a,app:o}}),inputProps:{"aria-label":"primary checkbox"}}),onClick:()=>r({target:{name:s,checked:!m.includes(a),role:a,app:o}}),nodeId:"".concat(i+10*c),label:n.createElement(et.A,{primary:s in l?l[s]:d,secondary:s})}))})))}))))}const Fs=["name","roles"];function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Hs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zs(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hs(Object(a),!0).forEach((function(t){Ys(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hs(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ys(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xs(e){const{appMappings:t,role:a,onSave:r}=e,[i,o]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1),[c,d]=(0,n.useState)(Zs({},t)),m=(0,_.A)();(0,n.useEffect)((()=>{d(Se()(t))}),[t]);const u=()=>{o(!1),d(t)};return n.createElement(n.Fragment,null,n.createElement(P.A,{onClick:()=>{o(!0)},size:"small",variant:"outlined",color:"primary","data-testid":a+"-scope-assignment"},n.createElement(b.A,{id:"RolePermissions.TreeView.PermissionsSelector.scope.assignment.button",defaultMessage:"Scope Assignments"})),n.createElement(St.A,{fullWidth:!0,maxWidth:"md",open:i,onClose:(e,t)=>{"backdropClick"===t&&l||u()},"aria-labelledby":"select-permissions-for-role"},n.createElement(Rt.A,{id:"select-permissions-for-role"},n.createElement(E.A,{variant:"h5",display:"block",gutterBottom:!0},a,n.createElement(w.A,{display:"inline",pl:1},n.createElement(E.A,{variant:"caption",gutterBottom:!0},n.createElement(b.A,{id:"RolePermissions.TreeView.PermissionsSelector.scope.assignment.title",defaultMessage:"Select Scope Assignments"}))))),n.createElement(xt.A,{style:{height:"90vh"}},n.createElement(w.A,{pl:5},n.createElement(Ks,{onCheck:e=>{const{name:t,checked:a,role:n,app:r}=e.target,i=Zs({},c);i[r]=i[r].map((e=>{let{name:r,roles:i}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,Fs);return r===t?Zs(Zs({},o),{},a?{name:r,roles:[].concat((l=i,function(e){if(Array.isArray(e))return _s(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return _s(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_s(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[n])}:{name:r,roles:i.filter((e=>n!==e))}):Zs({name:r,roles:i},o);var l})),d(i)},role:a,appMappings:c}))),n.createElement(It.A,null,n.createElement(P.A,{size:"small",variant:"outlined",onClick:u},n.createElement(b.A,{id:"RolePermissions.TreeView.PermissionsSelector.scope.assignment.cancel.btn",defaultMessage:"Cancel"})),n.createElement(P.A,{size:"small",variant:"contained",color:"primary",onClick:()=>{s(!0),r(c).then((()=>{Dt.info(n.createElement("span",null,m.formatMessage({id:"RolePermissions.TreeView.PermissionsSelector.update.scope.success",defaultMessage:"Update permissions for {role} successfully"},{role:n.createElement("b",null,a)}))),o(!1)})).catch((e=>{Dt.error(m.formatMessage({id:"RolePermissions.TreeView.PermissionsSelector.update.scope.error",defaultMessage:"Something went wrong while updating the permission"})),console.error(e)})).finally((()=>s(!1)))},disabled:l},l&&n.createElement(ut.A,{size:16}),n.createElement(b.A,{id:"RolePermissions.TreeView.PermissionsSelector.scope.assignment.save.btn",defaultMessage:"Save"})))))}var Qs=a(33198);const Js=n.createContext();Js.displayName="AdminTableContext";const{Provider:$s,Consumer:ec}=Js;function tc(){return(0,n.useContext)(Js)}function ac(e){const{children:t,multiSelect:a,rowsPerPageOptions:r,dataIDs:i}=e,o=(0,_.A)(),[l,s]=n.useState("asc"),[c,d]=n.useState("role"),[m,u]=n.useState([]),[p,g]=n.useState(0),[f,A]=n.useState(5);return n.createElement($s,{value:{onSelectAllClick:e=>{if(e.target.checked){const e=i.map((e=>e.name));u(e)}else u([])},order:l,orderBy:c,numSelected:m.length,rowCount:i.length,onRequestSort:(e,t)=>{s(c===t&&"asc"===l?"desc":"asc"),d(t)},multiSelect:a,selected:m,setSelected:u,rowsPerPage:f,page:p}},n.createElement("div",{style:{width:"100%"}},n.createElement(Qs.A,null,n.createElement(sa.A,{role:"presentation",size:"medium","aria-label":"enhanced table"},t),n.createElement(Cn.A,{rowsPerPageOptions:r||[5,10,40],component:"div",count:i.length,rowsPerPage:f,page:p,onPageChange:(e,t)=>{g(t)},onRowsPerPageChange:e=>{A(parseInt(e.target.value,10)),g(0)},labelDisplayedRows:e=>{let{from:t,to:a,count:n}=e;return-1!==n?o.formatMessage({id:"Role.permissions.Role.Permissions.Admin.Table.displayed.rows.range.label",defaultMessage:"{from}-{to} of {count}"},{from:t,to:a,count:n}):o.formatMessage({id:"Role.permissions.Role.Permissions.Admin.Table.displayed.rows.more.than.label",defaultMessage:"more than {to}"},{to:a})},labelRowsPerPage:o.formatMessage({id:"Role.permissions.Role.Permissions.Admin.Table.row.per.page.label",defaultMessage:"Rows per page:"})}))))}const nc=(0,k.Ay)("span")({border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1});function rc(e){const{headCells:t}=e,{onRequestSort:a,numSelected:r,rowCount:i,onSelectAllClick:o,orderBy:l,order:s,multiSelect:c}=tc();return n.createElement(ca.A,null,n.createElement(oa.A,null,c&&n.createElement(la.A,{padding:"checkbox"},n.createElement(_a.A,{indeterminate:r>0&&r<i,checked:i>0&&r===i,onChange:o,inputProps:{"aria-label":"select all desserts"}})),t.map(((e,t)=>{return n.createElement(la.A,{key:e.id,align:0===t?"left":"right",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&s,variant:"head",sx:{fontWeight:800}},e.enableSort?n.createElement(vn.A,{active:l===e.id,direction:l===e.id?s:"asc",onClick:(r=e.id,e=>{a(e,r)})},e.label,l===e.id?n.createElement(nc,null,"desc"===s?"sorted descending":"sorted ascending"):null):e.label);var r}))))}rc.propTypes={headCells:i().arrayOf(i().string).isRequired};const ic=rc;function oc(e){return"string"==typeof e[0]?e[0].toUpperCase():e[0].props.children[0].toUpperCase()}function lc(e,t,a){if("role"===a){const a=oc(e),n=oc(t);return n<a?-1:n>a?1:0}return 0}const sc=function(e){const{selected:t,setSelected:a,rowsPerPage:r,page:i,order:o,orderBy:l,multiSelect:s}=tc(),{rows:c}=e,d=r-Math.min(r,c.length-i*r);return n.createElement(da.A,null,function(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((e=>e[0]))}(c,function(e,t){return"desc"===e?(e,a)=>lc(e,a,t):(e,a)=>-lc(e,a,t)}(o,l)).slice(i*r,i*r+r).map(((e,r)=>{const i=(o=e.name,-1!==t.indexOf(o));var o;const l="enhanced-table-checkbox-".concat(r);return n.createElement(oa.A,{hover:!0,onClick:e=>((e,n)=>{const r=t.indexOf(n);let i=[];-1===r?i=i.concat(t,n):0===r?i=i.concat(t.slice(1)):r===t.length-1?i=i.concat(t.slice(0,-1)):r>0&&(i=i.concat(t.slice(0,r),t.slice(r+1))),a(i)})(0,r),role:"checkbox","aria-checked":i,tabIndex:-1,key:r,selected:i},s&&n.createElement(la.A,{padding:"checkbox"},n.createElement(_a.A,{checked:i,inputProps:{"aria-labelledby":l}})),e.map(((e,t)=>n.createElement(la.A,{component:"th",label:l,scope:"row",padding:s?"none":"normal",align:0===t?"left":"right","data-testid":e,style:{maxWidth:"800px"},key:t},e))))})),d>0&&n.createElement(oa.A,{style:{height:60*d}},n.createElement(la.A,{colSpan:6})))},cc=function(e){const{searchActive:t,filterData:a,onRefresh:r,searchPlaceholder:i,children:o,searchValue:l}=e;return n.createElement(ot.A,{sx:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,direction:"row",justifyContent:"flex-end",alignItems:"center"},n.createElement(v.Ay,{item:!0},t&&n.createElement(st.default,{sx:{display:"block"},color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},t&&n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:i,InputProps:{disableUnderline:!0,style:{fontSize:"12px"}},value:l,onChange:a})),o,n.createElement(v.Ay,{item:!0},n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:r,size:"large"},n.createElement(ct.A,{sx:{display:"block"},color:"inherit","aria-label":"refresh-button-icon"})))))))};function dc(e){const{onDelete:t,role:a,isAlias:r}=e,[i,o]=(0,n.useState)(!1),[l,s]=(0,n.useState)(!1),c=(0,_.A)(),d=()=>{o(!1)};return n.createElement(n.Fragment,null,n.createElement(P.A,{onClick:()=>{o(!0)},size:"small",variant:"outlined","data-testid":a+"-delete-btn"},n.createElement(b.A,{id:"RolePermissions.ListRoles.scope.assignment.delete.button",defaultMessage:"Delete"})),n.createElement(St.A,{fullWidth:!0,maxWidth:"xs",open:i,onClose:(e,t)=>{"backdropClick"===t&&l||d()},"aria-labelledby":"delete-confirmation"},n.createElement(Rt.A,{id:"delete-confirmation"},c.formatMessage({id:"RolePermissions.ListRoles.scope.assignment.delete.dialog.title",defaultMessage:"Delete scope assignments of {role} ?"},{role:n.createElement(E.A,{display:"inline",variant:"subtitle2"},a)})),n.createElement(xt.A,{dividers:!0},n.createElement(w.A,{mt:2,mb:2,ml:1},c.formatMessage({id:"RolePermissions.ListRoles.scope.assignment.delete.dialog.content",defaultMessage:"Are you sure you want to delete scope assignments for {role} ?"},{role:n.createElement("b",null,a)}))),n.createElement(It.A,null,n.createElement(P.A,{onClick:d,variant:"outlined"},n.createElement(b.A,{id:"RolePermissions.ListRoles.scope.assignment.cancel.button",defaultMessage:"Cancel"})),n.createElement(P.A,{size:"small",variant:"contained",color:"primary",onClick:e=>{const{id:i}=e.currentTarget;s(!0),Promise.resolve(t(i,r)).then((()=>{Dt.info(n.createElement("span",null,c.formatMessage({id:"RolePermissions.ListRoles.scope.assignment.delete.scope.success",defaultMessage:"Scope Assignments {role} deleted successfully"},{role:n.createElement("b",null,a)}))),d()})).catch((e=>{Dt.error(c.formatMessage({id:"RolePermissions.Common.DeletePermission.delete.scope.error",defaultMessage:"Something went wrong while deleting the scope assignments"})),console.error(e)})).finally((()=>s(!1)))},id:a,disabled:l},l&&n.createElement(ut.A,{size:16}),n.createElement(b.A,{id:"RolePermissions.ListRoles.scope.assignment.delete.button",defaultMessage:"Delete"})))))}var mc=a(39738),uc=a(82997),pc=a(47363),gc=a(98777);function fc(e){const{title:t,children:a,onSave:r,disabled:i,isSaving:o,saveButtonText:l,dialogActions:s,onClose:c,dialogProps:d}=e,{disableBackdropClick:m,maxWidth:u}=d;return n.createElement(n.Fragment,null,n.createElement(St.A,{fullWidth:!0,maxWidth:u||"sm",open:!0,onClose:(e,t)=>{"backdropClick"===t&&m||c(e,t)},"aria-labelledby":"form-dialog-title"},n.createElement(Rt.A,{id:"form-dialog-title"},t),n.createElement(xt.A,{dividers:!0},n.createElement(w.A,{minHeight:190},a)),n.createElement(It.A,null,s||n.createElement(n.Fragment,null,n.createElement(P.A,{onClick:c,variant:"outlined"},"Cancel"),n.createElement(P.A,{onClick:r,color:"primary",variant:"contained",disabled:i},o?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,l))))))}fc.defaultProps={isSaving:!1,disabled:!1,saveButtonText:"Save",dialogProps:{disableBackdropClick:!1}},fc.propTypes={buttonText:i().shape({}).isRequired,dialogProps:i().shape({disableBackdropClick:i().bool}),title:i().shape({}).isRequired,onSave:i().func.isRequired,isSaving:i().bool,disabled:i().bool,saveButtonText:i().string};const Ac=fc;function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yc.apply(null,arguments)}function Ec(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function hc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(a),!0).forEach((function(t){bc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ec(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vc(e){const{onCheck:t,role:a,appMappings:r,permissionMappings:i,onMappedRoleSelect:o,mappedRole:l,onPermissionTypeSelect:s,permissionType:c}=e,{ROLE_ALIAS:d,SELECT_PERMISSIONS:m}=vc.CONST,u=(0,_.A)();return n.createElement(jt.A,{variant:"standard",style:{width:"100%"},component:"fieldset"},n.createElement(qt.A,{"aria-label":"mapping-type",name:"mapping-type",value:c,onChange:e=>s(e.target.value)},n.createElement(Wt.A,{value:d,control:n.createElement(zt.A,{color:"primary"}),label:u.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.role.alias.label",defaultMessage:"Role alias"})}),n.createElement(w.A,{width:400,display:"inline",pl:7,pt:2,pb:2},n.createElement(Dl.A,{multiple:!0,value:l,onChange:(e,t)=>{o(t)},clearOnEscape:!0,disabled:c!==d,id:"role-select-dropdown",autoFocus:!0,options:Object.keys(i),autoHighlight:!0,renderInput:e=>n.createElement(lt.A,yc({},e,{helperText:n.createElement(n.Fragment,null,n.createElement(b.A,{id:"RolePermissions.Common.AddRoleWizard.selected.role",defaultMessage:"Role {role_value} will be mapped to the selected role",values:{role_value:n.createElement(w.A,{pl:.5,pr:.5,display:"inline",fontWeight:"fontWeightBold",color:"warning.main"},a)}})),id:"outlined-basic",size:"small",label:u.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.role.mapping.label",defaultMessage:"Mapping role"}),variant:"outlined",inputProps:hc(hc({},e.inputProps),{},{autoComplete:"off"})}))})),n.createElement(Wt.A,{value:m,control:n.createElement(zt.A,{color:"primary"}),label:u.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.role.custom.scope.assignments",defaultMessage:"Custom scope assignments"})}),n.createElement(w.A,{pl:7,pt:2},n.createElement(Ks,{disabled:c!==m,onCheck:t,role:a,appMappings:r}))))}vc.CONST={SELECT_PERMISSIONS:"select-permissions",ROLE_ALIAS:"role-alias"};const Mc=["name","roles"];function Pc(e){return function(e){if(Array.isArray(e))return wc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wc(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?wc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Cc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(a),!0).forEach((function(t){Sc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Sc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const{ROLE_ALIAS:Ic,SELECT_PERMISSIONS:xc}=vc.CONST;function Rc(e){const{appMappings:t,onClose:a,onRoleAdd:r,permissionMappings:i,roleAliases:o,setRoleAliases:l}=e,s=(0,_.A)(),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)({}),[f,A]=(0,n.useState)({}),[y,E]=(0,n.useState)(),[h,v]=(0,n.useState)(Ic),[M,C]=(0,n.useState)(Se()(t)),[T,S]=n.useState(0),I=e=>{const{name:t,checked:a,role:n,app:r}=e.target,i=Tc({},M);i[r]=i[r].map((e=>{let{name:r,roles:i}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,Mc);return r===t?Tc(Tc({},o),{},a?{name:r,roles:[].concat(Pc(i),[n])}:{name:r,roles:i.filter((e=>n!==e))}):Tc({name:r,roles:i},o)})),A(Tc(Tc({},f),{},{[t]:a})),C(i)},x=()=>{!p.role&&c?S((e=>e+1)):""===c?Dt.warning(s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.role.warn.empty",defaultMessage:"Role name can not be empty!"})):Dt.warning(p.role)},R=()=>{if(u(!0),h===xc){const e=Object.values(f);if(!e.length||!e.reduce(((e,t)=>e||t)))return Dt.warning(s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.error.empty.permission",defaultMessage:"You need to select at least one permission!"})),void u(!1);Promise.resolve(r(M)).then((()=>{Dt.info(n.createElement("span",null,s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.success",defaultMessage:"Added scope mapping for {newRole} successfully"},{newRole:n.createElement("b",null," ".concat(c," "))}))),a()})).catch((e=>{Dt.error(s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.error",defaultMessage:"Something went wrong while adding new scope mapping"})),console.error(e)})).finally((()=>u(!1)))}else{if(!y)return Dt.warning(s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.error.role.empty",defaultMessage:"Mapped role selection can't be empty!"})),void u(!1);const e=Pc(o.list);y.forEach((t=>{const a=e.find((e=>{let{role:a}=e;return a===t}));a?a.aliases.push(c):e.push({role:t,aliases:[c]})})),Ls.updateRoleAliases(e).then((e=>{l(e.body),Dt.info(n.createElement("span",null,s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.error.add.role.alias.success",defaultMessage:"Add new alias for {newRole} successfully"},{newRole:n.createElement("b",null," ".concat(c," "))}))),a()})).catch((e=>{Dt.error(s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.scope.error.add.role.alias",defaultMessage:"Something went wrong while adding new role alias"})),console.error(e)})).finally((()=>u(!1)))}};return n.createElement(Ac,{onSave:R,onClose:a,title:n.createElement(b.A,{id:"RolePermissions.Common.AddRoleWizard.add.mapping.title",defaultMessage:"Add new scope mapping"}),buttonText:n.createElement(b.A,{id:"RolePermissions.Common.AddRoleWizard.add.mapping.button",defaultMessage:"Add scope mapping"}),dialogProps:{disableBackdropClick:m,maxWidth:"md"},dialogActions:n.createElement("div",{style:{marginBottom:"1rem"}},n.createElement("div",null,n.createElement(P.A,{variant:"outlined",onClick:0===T?a:()=>{S((e=>e-1)),C(Se()(t))},sx:{mt:1,mr:1},disabled:m},0===T?n.createElement(b.A,{id:"RolePermissions.Common.AddRoleWizard.add.dialog.cancel",defaultMessage:"Cancel"}):n.createElement(b.A,{id:"RolePermissions.Common.AddRoleWizard.add.dialog.back",defaultMessage:"Back"})),n.createElement(P.A,{variant:"contained",disabled:m,color:"primary",onClick:1===T?R:x,sx:{mt:1,mr:1},"data-testid":"add-role-wizard-save-button"},1===T?n.createElement(n.Fragment,null,m&&n.createElement(ut.A,{size:16}),s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.provide.role.save.btn",defaultMessage:"Save"})):s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.provide.role.next.btn",defaultMessage:"Next"}))))},n.createElement("div",{style:{width:"100%"}},n.createElement(mc.A,{activeStep:T,orientation:"vertical"},[s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.provide.role.text",defaultMessage:"Provide role name"}),s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.provide.select.permissions",defaultMessage:"Select permissions"})].map(((e,t)=>n.createElement(uc.A,{key:e},n.createElement(pc.A,null,e),n.createElement(gc.A,null,0===t&&n.createElement(w.A,{pt:3,width:"40%"},n.createElement(lt.A,{id:"role-input-field-helper-text",error:Boolean(p.role),value:c,fullWidth:!0,autoFocus:!0,size:"small",label:s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.type.role.label",defaultMessage:"Role Name"}),helperText:p.role||s.formatMessage({id:"RolePermissions.Common.AddRoleWizard.add.type.role",defaultMessage:"Type existing user role,  If not create a new role from carbon console first"}),variant:"outlined",onChange:e=>{let{target:{value:t}}=e;const a=t.trim();a?i[a]?g({role:"Permission mapping exist"}):g({role:!1}):g({role:"Role name can't be empty!"}),d(a)},onKeyDown:e=>(13===e.which||13===e.keyCode||"Enter"===e.key)&&x()})),1===t&&n.createElement(n.Fragment,null,n.createElement(vc,{onCheck:I,role:c,appMappings:M,permissionMappings:i,onMappedRoleSelect:E,mappedRole:y,onPermissionTypeSelect:v,permissionType:h})))))))))}function kc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(a),!0).forEach((function(t){Dc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Dc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Lc=[{id:"role",numeric:!1,disablePadding:!1,label:n.createElement(b.A,{id:"RolePermissions.ListRoles.table.column.role",defaultMessage:"Roles"}),enableSort:!0},{id:"permissions",numeric:!1,disablePadding:!1,label:n.createElement(b.A,{id:"RolePermissions.ListRoles.table.column.scope.assignments",defaultMessage:"Scope Assignments"})}],Nc=n.createElement(b.A,{id:"RolePermissions.ListRoles.page.description",defaultMessage:"Scope assignments are only related to internal, APIM-specific scope assignments. They are not related to role permission assignments in the Management Console."});function Bc(e,t){const a={};for(const t of e){const{role:e,aliases:n}=t;for(const t of n)t&&t!==e?a[t]?a[t].aliases.push(e):a[t]={aliases:[e]}:console.warn("Found role aliases with no mappings(role name)!")}return Object.assign(t,a)}function jc(){const[e,t]=(0,n.useState)(),[a,r]=(0,n.useState)(),[i,o]=(0,n.useState)(),[l,s]=(0,n.useState)(),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!0),f=(0,_.A)(),[A,y]=(0,n.useState)(null),[E,h]=(0,n.useState)(""),M=(0,n.useCallback)((()=>{Ls.getRoleAliases(),h(""),Promise.all([Ls.getRoleAliases(),Ls.systemScopes()]).then((e=>{let[t,a]=e;d(a.body),s(t.body)})).catch((e=>{const{status:t}=e;401===t?g(!1):(y(f.formatMessage({id:"RolePermissions.ListRoles.error.retrieving.perm",defaultMessage:"Error while retrieving permission info"})),console.error(e))}))}),[]);(0,n.useEffect)((()=>{M()}),[M]),(0,n.useEffect)((()=>{if(c&&l){const[e,a]=function(e){const t={},a={};for(const n of e){const{roles:e,tag:r}=n;a[r]?a[r].push(n):a[r]=[n];for(const a of e){const e=a.trim&&a.trim();t[e]?t[e].push(n):t[e]=[n]}}return[t,a]}(c.list);t(Bc(l.list,e)),r(Bc(l.list,e)),o(a)}}),[l,c]);const C={searchPlaceholder:f.formatMessage({id:"ScopeAssignments.List.search.default",defaultMessage:"Search by Role Name"}),active:!0},T=(0,n.useCallback)((e=>Ls.updateSystemScopes(e).then((e=>{d(e.body)}))),[]),S=(e,t)=>{if(t){const t=Se()(l.list),a=[];for(const{role:n,aliases:r}of t){const t=r.filter((t=>t!==e));t.length&&a.push({role:n,aliases:t})}return Ls.updateRoleAliases(a).then((e=>{s(e.body)}))}{const t={};for(const[a,n]of Object.entries(i))t[a]=n.map((t=>Oc(Oc({},t),{},{roles:t.roles.filter((t=>t!==e))})));return T(t)}};return p?A||e&&i?A?n.createElement(ae,{title:"Role Permissions"},n.createElement(yt.A,{severity:"error"},A)):n.createElement(ae,{title:f.formatMessage({id:"RolePermissions.ListRoles.title.role.permissions",defaultMessage:"Scope Assignments"}),pageDescription:Nc},n.createElement(cc,{searchActive:C.active,searchPlaceholder:C.searchPlaceholder,filterData:t=>{const a=Object.keys(e);h(t.target.value);const n=a.filter((e=>e.toLowerCase().includes(t.target.value.toLowerCase()))),i={};for(let t=0;t<n.length;t++)i[n[t]]=e[n[t]];r(i)},onRefresh:M,searchValue:E},n.createElement(v.Ay,{item:!0},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>u(!0),"data-testid":"add-scope-mapping"},n.createElement(b.A,{id:"RolePermissions.ListRoles.scope.assignment.button",defaultMessage:"Add scope mappings"})),m&&n.createElement(Rc,{setRoleAliases:s,roleAliases:l,permissionMappings:e,appMappings:i,onClose:()=>u(!1),onRoleAdd:T}))),n.createElement(ac,{dataIDs:Object.keys(a),multiSelect:!1},n.createElement(ic,{headCells:Lc}),n.createElement(sc,{rows:Object.entries(a).map((e=>{let[t,a]=e;return[a.aliases?n.createElement(w.A,{display:"grid"},t,n.createElement(w.A,{mr:2,pr:1,display:"inline",fontSize:10,fontWeight:"fontWeightLight","data-testid":a.aliases},a.aliases.map((e=>n.createElement(w.A,{borderRadius:"16px",borderColor:"info.main",display:"inline-block",border:1,pr:1,mr:1,pl:1,mt:1},e))))):t,n.createElement(w.A,{component:"span",display:"block"},!a.aliases&&n.createElement(Xs,{role:t,appMappings:i,onSave:T}),n.createElement(w.A,{pl:1,display:"inline"},n.createElement(dc,{size:"small",variant:"outlined",onDelete:S,role:t,isAlias:a.aliases},n.createElement(b.A,{id:"RolePermissions.ListRoles.permission.delete.button",defaultMessage:"Delete"}))))]}))}))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(se.A,{message:"Resolving user ..."})):n.createElement(Uo,{pageProps:{help:null,pageStyle:"half",title:f.formatMessage({id:"RolePermissions.ListRoles.title.role.permissions",defaultMessage:"Scope Assignments"})},title:n.createElement(b.A,{id:"RolePermissions.ListRoles.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"RolePermissions.ListRoles.permission.denied.content",defaultMessage:"You do not have enough permission to view Scope Assignments. Please contact the site administrator."})})}function qc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(a),!0).forEach((function(t){zc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gc(e,t){let{field:a,value:n}=t;switch(a){case"tenantConf":return Wc(Wc({},e),{},{[a]:n});case"tenantConfSchema":return Wc(Wc({},e),{},{[a]:n});case"editDetails":return n;case"reset":return{tenantConf:"",tenantConfSchema:""};default:return e}}function Uc(){const e=(0,o.W6)(),[t]=(0,n.useState)({tenantConf:"",tenantConfSchema:""}),[a,r]=(0,n.useReducer)(Gc,t),{tenantConf:i,tenantConfSchema:l}=a,s=new Be,[c,d]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{Promise.all([s.tenantConfSchemaGet().then((e=>{const t=e.body;r({field:"tenantConfSchema",value:t})})),s.tenantConfGet().then((e=>{const t=JSON.stringify(e.body,null,"\t");r({field:"tenantConf",value:t})}))]).then((()=>d(!1)))}),[]),n.createElement(ae,{pageStyle:"full",title:n.createElement(b.A,{id:"Settings.Advanced.TenantConfSave.title.save",defaultMessage:"Advanced Configurations"})},n.createElement(w.A,{component:"div",sx:{mb:15,m:2},name:l},n.createElement(v.Ay,{container:!0},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12,sx:{p:2}},c?n.createElement(se.A,null):n.createElement(n.Suspense,{fallback:n.createElement(se.A,null)},n.createElement(io.KE,{language:"json",height:"615px",theme:"vs-dark",value:i,onChange:e=>{r({field:"tenantConf",value:e})},beforeMount:e=>{const t=a.tenantConfSchema;e.languages.json.jsonDefaults.setDiagnosticsOptions({completion:!0,validate:!0,format:!0,schemas:[{uri:"http://myserver/foo-schema.json",fileMatch:["*"],schema:t}]})}}))),n.createElement(w.A,{component:"span",sx:{mt:2,mb:2,ml:1}},n.createElement(P.A,{variant:"contained",color:"primary",sx:{mr:2},onClick:()=>{const t=a.tenantConf;return s.updateTenantConf(t).then((()=>{Dt.success(n.createElement(b.A,{id:"Settings.Advanced.TenantConf.edit.success",defaultMessage:"Advanced Configuration saved successfully"})),e.push("/settings/advanced")})).catch((e=>{const{response:t}=e;t.body&&Dt.error(t.body.description),console.error(e)}))},"data-testid":"monaco-editor-save",disabled:c},n.createElement(b.A,{id:"Settings.Advanced.TenantConfSave.form.save",defaultMessage:"Save"})),n.createElement(P.A,{variant:"outlined",onClick:()=>{let e;s.tenantConfGet().then((t=>{e=JSON.stringify(t.body,null,"\t"),r({field:"editDetails",value:{tenantConf:e}})}))}},n.createElement(b.A,{id:"Settings.Advanced.TenantConfSave.form.cancel",defaultMessage:"Cancel"}))))))}io.wG.config({monaco:ro}),Uc.propTypes={title:i().shape({}).isRequired};const Vc=Uc;var Kc=a(30995),Fc=a(37211);function _c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(a),!0).forEach((function(t){Zc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Zc(e,t,a){return(t=Qc(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Xc(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qc(n.key),n)}}function Qc(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Jc(e,t,a){return t=ed(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$c()?Reflect.construct(t,a||[],ed(e).constructor):t.apply(e,a))}function $c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($c=function(){return!!e})()}function ed(e){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ed(e)}function td(e,t){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},td(e,t)}let ad=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Jc(this,t)).client=(new Me).getAPIClient(R.A.getCurrentEnvironment(),R.A.CONST.GOVERNANCE_CLIENT).client;const n=e;R.A.deepFreeze(n),a._data=n;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(a[e]=n[e]);return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(t,e),a=t,n=[{key:"_requestMetaData",value:function(){return{requestContentType:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["Content-Type"]||"application/json"}}},{key:"toJSON",value:function(){var e={},t=["_data","client","apiType"].concat(function(e){return function(e){if(Array.isArray(e))return Yc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yc(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Yc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]));for(var a in this)t.includes(a)||(e[a]=cloneDeep(this[a]));return e}},{key:"getGovernancePolicies",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.then((t=>t.apis["Governance Policies"].getGovernancePolicies(e,this._requestMetaData())))}},{key:"getGovernancePolicyById",value:function(e){return this.client.then((t=>t.apis["Governance Policies"].getGovernancePolicyById({policyId:e},this._requestMetaData())))}},{key:"createGovernancePolicy",value:function(e){return this.client.then((t=>t.apis["Governance Policies"].createGovernancePolicy({"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"updateGovernancePolicyById",value:function(e){return this.client.then((t=>t.apis["Governance Policies"].updateGovernancePolicyById({policyId:e.id,"Content-Type":"application/json"},{requestBody:e},this._requestMetaData())))}},{key:"deleteGovernancePolicy",value:function(e){return this.client.then((t=>t.apis["Governance Policies"].deleteGovernancePolicy({policyId:e},this._requestMetaData())))}},{key:"getRulesets",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.then((t=>t.apis.Rulesets.getRulesets(e,this._requestMetaData())))}},{key:"getRulesetById",value:function(e){return this.client.then((t=>t.apis.Rulesets.getRulesetById({rulesetId:e},this._requestMetaData())))}},{key:"getRulesetContent",value:function(e){return this.client.then((t=>t.apis.Rulesets.getRulesetContent({rulesetId:e},this._requestMetaData())))}},{key:"createRuleset",value:function(e){return this.client.then((t=>t.apis.Rulesets.createRuleset({"Content-Type":"multipart/form-data"},{requestBody:e})))}},{key:"updateRulesetById",value:function(e,t){return this.client.then((a=>{const n=t;return a.apis.Rulesets.updateRulesetById({rulesetId:e},{requestBody:n},{"Content-Type":"multipart/form-data"})}))}},{key:"deleteRuleset",value:function(e){return this.client.then((t=>t.apis.Rulesets.deleteRuleset({rulesetId:e},this._requestMetaData())))}},{key:"getPolicyAdherenceForAllPolicies",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.then((t=>t.apis["Policy Adherence"].getPolicyAdherenceForAllPolicies(e,this._requestMetaData())))}},{key:"getComplianceStatusListOfAPIs",value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.client.then((t=>t.apis["Artifact Compliance"].getComplianceStatusListOfAPIs(e,this._requestMetaData())))}},{key:"getComplianceByAPIId",value:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.client.then((a=>a.apis["Artifact Compliance"].getComplianceByAPIId({apiId:e},Hc(Hc({},this._requestMetaData()),{},{signal:t.signal}))))}},{key:"getPolicyAdherenceSummary",value:function(){return this.client.then((e=>e.apis["Policy Adherence"].getPolicyAdherenceSummary(this._requestMetaData())))}},{key:"getComplianceSummaryForAPIs",value:function(){return this.client.then((e=>e.apis["Artifact Compliance"].getComplianceSummaryForAPIs(this._requestMetaData())))}},{key:"getPolicyAdherenceByPolicyId",value:function(e){return this.client.then((t=>t.apis["Policy Adherence"].getPolicyAdherenceByPolicyId({policyId:e},this._requestMetaData())))}},{key:"getRulesetValidationResultsByAPIId",value:function(e,t){return this.client.then((a=>a.apis["Artifact Compliance"].getRulesetValidationResultsByAPIId({apiId:e,rulesetId:t},this._requestMetaData())))}}],n&&Xc(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,n}(Ce);const nd=ad;function rd(e){let{updateList:t,dataRow:a}=e;const{id:r}=a,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"AdminPages.Governance.Policy.Delete.form.delete.dialog.title",defaultMessage:"Delete Policy?"}),saveButtonText:i.formatMessage({id:"AdminPages.Governance.Policy.Delete.form.delete.dialog.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>(new nd).deleteGovernancePolicy(r).then((()=>n.createElement(b.A,{id:"AdminPages.Governance.Policy.Delete.form.delete.successful",defaultMessage:"Policy deleted successfully"}))).catch((e=>{const{response:t,message:a}=e;t&&t.body?Alert.error(t.body.description):a?Alert.error(a):Alert.error(i.formatMessage({id:"AdminPages.Governance.Policy.Delete.form.delete.error",defaultMessage:"Something went wrong while deleting the Policy"}))})).finally((()=>{t()}))},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.Governance.Policy.Delete.form.delete.confirmation.message",defaultMessage:"Are you sure you want to delete this Policy?"})))}rd.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired}).isRequired};const id=rd;function od(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ld(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?od(Object(a),!0).forEach((function(t){sd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):od(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sd(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cd(){const e=new nd;return(new Be).labelsListGet().then((t=>{const a=t.body.list||[];return e.getGovernancePolicies({limit:100,offset:0}).then((e=>e.body.list.map((e=>ld(ld({},e),{},{labels:e.labels.map((e=>{if("GLOBAL"===e)return e;const t=a.find((t=>t.id===e));return t?t.name:e}))})))))})).catch((e=>{throw e}))}function dd(){const e=(0,_.A)(),t=[{name:"name",label:e.formatMessage({id:"Governance.Policies.List.column.policy",defaultMessage:"Policy"}),options:{sort:!0,customBodyRender:(e,t)=>{const a=t.rowData;return n.createElement(nt.A,{title:a[1],arrow:!0},n.createElement("div",null,n.createElement(E.A,null,e),n.createElement(E.A,{variant:"caption",display:"block",color:"textSecondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"320px"}},a[1])))},setCellProps:()=>({style:{width:"35%"}})}},{name:"description",options:{display:!1}},{name:"governableStates",label:e.formatMessage({id:"Governance.Policies.List.column.appliesWhen",defaultMessage:"Applies when"}),options:{sort:!1,customBodyRender:e=>{if(null==e||!e.length)return"Not set";const t=e.slice(0,2),a=e.length-2;return n.createElement(nt.A,{title:e.map((e=>R.A.mapGovernableStateToLabel(e))).join(", "),arrow:!0},n.createElement(Kc.A,{direction:"row",spacing:.5,alignItems:"center"},t.map((e=>n.createElement(mr.A,{key:e,label:R.A.mapGovernableStateToLabel(e),size:"small",variant:"outlined",color:"primary"}))),a>0&&n.createElement(E.A,{variant:"caption",color:"primary"},"+",a)))},setCellProps:()=>({style:{width:"25%"}})}},{name:"labels",label:e.formatMessage({id:"Governance.Policies.List.column.appliesTo",defaultMessage:"Applies to"}),options:{sort:!1,customBodyRender:e=>{if(null==e||!e.length)return"None";const t=e.slice(0,2),a=e.length-2;return n.createElement(nt.A,{title:e.join(", "),arrow:!0},n.createElement(Kc.A,{direction:"row",spacing:.5,alignItems:"center"},t.map((e=>n.createElement(mr.A,{key:e,label:e,size:"small",variant:"outlined",color:"info"}))),a>0&&n.createElement(E.A,{variant:"caption",color:"info.main"},"+",a)))},setCellProps:()=>({style:{width:"25%"}})}},{name:"id",options:{display:!1}}],a={pageStyle:"paperLess",title:e.formatMessage({id:"Governance.Policies.List.title",defaultMessage:"Governance Policies"}),pageDescription:e.formatMessage({id:"Governance.Policies.List.description",defaultMessage:"Create governance policies using rulesets from the catalog to standardize and regulate your APls effectively"}),help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#create-and-manage-policies",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.Policies.List.help.link",defaultMessage:"Create and Manage Policies"})})))))},r={triggerButtonText:e.formatMessage({id:"Governance.Policies.List.addPolicy.triggerButtonText",defaultMessage:"Create Governance Policy"}),title:e.formatMessage({id:"Governance.Policies.List.addPolicy.title",defaultMessage:"Create Governance Policy"})},i={searchPlaceholder:e.formatMessage({id:"Governance.Policies.List.search.default",defaultMessage:"Search policies by name or label"}),active:!0},o={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Governance.Policies.List.empty.content",defaultMessage:"Governance policies help you enforce standards and compliance across your APIs. Click the Create button to add your first policy."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Governance.Policies.List.empty.title",defaultMessage:"Governance Policies"}))},l=n.createElement(M.N_,{to:"/governance/policies/create"},n.createElement(P.A,{variant:"contained",color:"primary",size:"small",role:"button"},n.createElement(b.A,{id:"Governance.Policies.List.add.new.policy",defaultMessage:"Create Policy"})));return n.createElement(wt,{columProps:t,pageProps:a,addButtonProps:r,searchProps:i,emptyBoxProps:o,apiCall:cd,DeleteComponent:id,editComponentProps:{icon:n.createElement(At.A,null),title:e.formatMessage({id:"Governance.Policies.List.edit.title",defaultMessage:"Edit Policy"}),routeTo:"/governance/policies/"},addButtonOverride:l})}var md=a(16718),ud=a(90891);function pd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(a),!0).forEach((function(t){fd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fd(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ad(e){let{open:t,onClose:a,onSave:r,editAction:i,existingStates:o=[]}=e;const l=(0,_.A)(),[s,c]=(0,n.useState)(i||{governedState:"",actions:{error:ra.A.GOVERNANCE_ACTIONS.NOTIFY,warn:ra.A.GOVERNANCE_ACTIONS.NOTIFY,info:ra.A.GOVERNANCE_ACTIONS.NOTIFY}});(0,n.useEffect)((()=>{c(i||{governedState:"",actions:{error:ra.A.GOVERNANCE_ACTIONS.NOTIFY,warn:ra.A.GOVERNANCE_ACTIONS.NOTIFY,info:ra.A.GOVERNANCE_ACTIONS.NOTIFY}})}),[i]);const d=()=>{c({governedState:"",actions:{error:ra.A.GOVERNANCE_ACTIONS.NOTIFY,warn:ra.A.GOVERNANCE_ACTIONS.NOTIFY,info:ra.A.GOVERNANCE_ACTIONS.NOTIFY}}),a()},m="API_CREATE"===s.governedState||"API_UPDATE"===s.governedState;return n.createElement(St.A,{open:t,onClose:d,maxWidth:"xs",fullWidth:!0},n.createElement(Rt.A,null,n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.dialog.title",defaultMessage:"Enforcement Criteria"})),n.createElement(xt.A,{sx:{p:3}},n.createElement(w.A,{mb:3,mt:1},n.createElement(jt.A,{fullWidth:!0,size:"small"},n.createElement(Rn.A,null,n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.state.label",defaultMessage:"Governed State"})),n.createElement(Gt.A,{value:s.governedState,onChange:e=>c({governedState:e.target.value,actions:{error:ra.A.GOVERNANCE_ACTIONS.NOTIFY,warn:ra.A.GOVERNANCE_ACTIONS.NOTIFY,info:ra.A.GOVERNANCE_ACTIONS.NOTIFY}}),label:n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.state.label",defaultMessage:"Governed State"}),disabled:!!i},ra.A.GOVERNABLE_STATES.map((e=>n.createElement(Ut.A,{key:e.value,value:e.value,disabled:o.includes(e.value)},e.label,!i&&o.includes(e.value)&&n.createElement(E.A,{variant:"caption",color:"text.secondary",sx:{ml:1}},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.state.configured",defaultMessage:"(Already configured)"})))))))),s.governedState&&n.createElement(w.A,{sx:{mt:2}},m?n.createElement(yt.A,{icon:n.createElement(ud.A,{fontSize:"inherit"}),severity:"info",sx:{mt:1,"& .MuiAlert-message":{width:"100%"}}},n.createElement(E.A,{variant:"body2"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.action.create.update.info",defaultMessage:"Governance rule violations in the API Create and API Update states use the Notify action by default for all severity levels (Error, Warn, Info)."}))):n.createElement(n.Fragment,null,n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:5},n.createElement(E.A,{variant:"subtitle2",sx:{mb:2}},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.severity.title",defaultMessage:"Severity Levels"}))),n.createElement(v.Ay,{item:!0,xs:7},n.createElement(E.A,{variant:"subtitle2",sx:{mb:2}},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.actions.title",defaultMessage:"Actions"})))),ra.A.SEVERITY_LEVELS.map((e=>n.createElement(w.A,{key:e.value,sx:{mb:2}},n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0,xs:5},n.createElement(E.A,{variant:"body2"},e.label)),n.createElement(v.Ay,{item:!0,xs:7},n.createElement(qt.A,{row:!0,value:s.actions[e.value.toLowerCase()],onChange:t=>c(gd(gd({},s),{},{actions:gd(gd({},s.actions),{},{[e.value.toLowerCase()]:t.target.value})}))},n.createElement(Wt.A,{value:ra.A.GOVERNANCE_ACTIONS.NOTIFY,control:n.createElement(zt.A,{size:"small"}),label:n.createElement(E.A,{variant:"body2"},l.formatMessage({id:"Governance.Policies.AddEdit.enforcement.action.notify",defaultMessage:"Notify"}))}),n.createElement(Wt.A,{value:ra.A.GOVERNANCE_ACTIONS.BLOCK,control:n.createElement(zt.A,{size:"small"}),label:n.createElement(E.A,{variant:"body2"},l.formatMessage({id:"Governance.Policies.AddEdit.enforcement.action.block",defaultMessage:"Block"}))})))))))))),n.createElement(It.A,{sx:{px:3,pb:2}},n.createElement(P.A,{onClick:d,size:"small"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.dialog.cancel",defaultMessage:"Cancel"})),n.createElement(P.A,{onClick:()=>{r(s),d()},variant:"contained",color:"primary",disabled:!(s.governedState&&Object.values(s.actions).every((e=>""!==e))),size:"small"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.dialog.save",defaultMessage:"Save"}))))}var yd=a(69279),Ed=a(78883);function hd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(a),!0).forEach((function(t){vd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vd(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Md=e=>{switch(e){case"API_DEFINITION":return{color:"#0D47A1",borderColor:"#0D47A1"};case"API_METADATA":return{color:"#4A148C",borderColor:"#4A148C"};case"API_DOCUMENTATION":return{color:"#1B5E20",borderColor:"#1B5E20"};default:return{}}},Pd="RulesetSelector",wd={selectedRulesets:"".concat(Pd,"-selectedRulesets"),searchField:"".concat(Pd,"-searchField"),card:"".concat(Pd,"-card"),cardContent:"".concat(Pd,"-cardContent"),checkboxWrapper:"".concat(Pd,"-checkboxWrapper"),chip:"".concat(Pd,"-chip"),description:"".concat(Pd,"-description"),providerWrapper:"".concat(Pd,"-providerWrapper"),documentationDivider:"".concat(Pd,"-documentationDivider"),documentationLink:"".concat(Pd,"-documentationLink"),documentationIcon:"".concat(Pd,"-documentationIcon"),pagination:"".concat(Pd,"-pagination")},Cd=(0,k.Ay)(w.A)((e=>{let{theme:t}=e;return{["& .".concat(wd.selectedRulesets)]:{marginBottom:t.spacing(2),display:"flex",flexWrap:"wrap",gap:t.spacing(1)},["& .".concat(wd.searchField)]:{marginBottom:t.spacing(2)},["& .".concat(wd.card)]:{position:"relative",cursor:"pointer",transition:"all 0.3s",height:"100%",display:"flex",flexDirection:"column","&:hover":{boxShadow:t.shadows[2]}},["& .".concat(wd.cardContent)]:{flex:1,display:"flex",flexDirection:"column",position:"relative",padding:t.spacing(2)},["& .".concat(wd.checkboxWrapper)]:{position:"absolute",right:8,top:8},["& .".concat(wd.chip)]:{height:"16px","& .MuiChip-label":{padding:"0 6px",fontSize:"0.625rem",lineHeight:1}},["& .".concat(wd.description)]:{marginBottom:t.spacing(2),display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",minHeight:"4.5em"},["& .".concat(wd.providerWrapper)]:{display:"flex",alignItems:"center",color:t.palette.text.secondary},["& .".concat(wd.documentationDivider)]:{margin:"".concat(t.spacing(1)," 0"),borderTop:"1px solid ".concat(t.palette.divider)},["& .".concat(wd.documentationLink)]:{display:"flex",alignItems:"center",fontSize:"0.75rem",color:t.palette.text.secondary,textDecoration:"none","&:hover":{color:t.palette.primary.main}},["& .".concat(wd.documentationIcon)]:{marginRight:t.spacing(.5),fontSize:"0.875rem"},["& .".concat(wd.pagination)]:{marginTop:t.spacing(2),display:"flex",justifyContent:"center"}}}));function Td(e){let{availableRulesets:t,selectedRulesets:a,onRulesetSelect:r,onRulesetDeselect:i}=e;const[o,l]=(0,n.useState)(""),[s,c]=(0,n.useState)(1),d=t.filter((e=>e.name.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase()))),m=d.slice(6*(s-1),6*s);return n.createElement(Cd,{className:wd.root},a.length>0&&n.createElement(w.A,{className:wd.selectedRulesets},a.map((e=>n.createElement(mr.A,{key:e.id,label:e.name,onDelete:()=>i(e),color:"primary",variant:"outlined"})))),n.createElement(lt.A,{fullWidth:!0,variant:"outlined",placeholder:"Search rulesets...",value:o,onChange:e=>{l(e.target.value),c(1)},className:wd.searchField,InputProps:{startAdornment:n.createElement(ba.A,{position:"start"},n.createElement(st.default,null))}}),n.createElement(v.Ay,{container:!0,spacing:2},m.map((e=>n.createElement(v.Ay,{item:!0,xs:12,lg:4,key:e.id},n.createElement(ne.A,{variant:"outlined",className:wd.card,onClick:()=>(e=>{a.some((t=>t.id===e.id))?i(e):r(e)})(e),sx:{border:t=>a.some((t=>t.id===e.id))?"2px solid ".concat(t.palette.primary.main):"1px solid rgba(0, 0, 0, 0.12)"}},n.createElement(re.A,{className:wd.cardContent},n.createElement(w.A,{className:wd.checkboxWrapper},n.createElement(_a.A,{checked:a.some((t=>t.id===e.id)),onClick:e=>e.stopPropagation(),onChange:t=>{t.target.checked?r(e):i(e)}})),n.createElement(E.A,{variant:"subtitle1",component:"div",sx:{fontWeight:500,mb:.5,mr:2.75}},e.name),n.createElement(w.A,{sx:{mb:1.5,display:"flex",gap:1}},n.createElement(mr.A,{label:R.A.mapRuleTypeToLabel(e.ruleType),size:"small",variant:"outlined",className:wd.chip,sx:bd({},Md(e.ruleType))}),n.createElement(mr.A,{label:R.A.mapArtifactTypeToLabel(e.artifactType),size:"small",className:wd.chip})),n.createElement(E.A,{variant:"body2",color:"text.secondary",className:wd.description},e.description),n.createElement(w.A,{sx:{mt:"auto"}},n.createElement(w.A,{className:wd.providerWrapper},n.createElement(Ed.A,{fontSize:"small",sx:{mr:.5}}),n.createElement(E.A,{variant:"body2",component:"span"},e.provider)),e.documentationLink&&n.createElement(n.Fragment,null,n.createElement(w.A,{className:wd.documentationDivider}),n.createElement(qe.A,{href:e.documentationLink,target:"_blank",rel:"noopener",onClick:e=>e.stopPropagation(),className:wd.documentationLink},n.createElement(le.A,{className:wd.documentationIcon}),"Documentation"))))))))),d.length>6&&n.createElement(w.A,{className:wd.pagination},n.createElement(yd.A,{count:Math.ceil(d.length/6),page:s,onChange:(e,t)=>c(t),color:"primary"})),0===d.length&&n.createElement(E.A,{variant:"body1",color:"text.secondary",align:"center"},o?n.createElement(b.A,{id:"Governance.Policies.AddEdit.rulesets.noSearchResults",defaultMessage:"No rulesets found matching your search"}):n.createElement(b.A,{id:"Governance.Policies.AddEdit.rulesets.empty",defaultMessage:"No rulesets available"})))}Td.propTypes={availableRulesets:i().arrayOf(i().shape({id:i().string.isRequired,name:i().string.isRequired,description:i().string.isRequired,ruleType:i().string.isRequired,artifactType:i().string.isRequired,provider:i().string.isRequired,documentationLink:i().string})).isRequired,selectedRulesets:i().arrayOf(i().shape({id:i().string.isRequired,name:i().string.isRequired})).isRequired,onRulesetSelect:i().func.isRequired,onRulesetDeselect:i().func.isRequired};const Sd=Td;function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Id.apply(null,arguments)}function xd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(a),!0).forEach((function(t){kd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kd(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Od(e){return function(e){if(Array.isArray(e))return Dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dd(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Dd(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const Ld=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),Nd=(0,k.Ay)("hr")({border:"solid 1px #efefef"}),Bd="AddEditPolicy",jd={root:"".concat(Bd,"-root"),formContainer:"".concat(Bd,"-formContainer"),helperText:"".concat(Bd,"-helperText"),divider:"".concat(Bd,"-divider"),actionButton:"".concat(Bd,"-actionButton"),actionButtonContainer:"".concat(Bd,"-actionButtonContainer"),tableContainer:"".concat(Bd,"-tableContainer"),actionChip:"".concat(Bd,"-actionChip"),buttonWrapper:"".concat(Bd,"-buttonWrapper"),requiredStar:"".concat(Bd,"-requiredStar")},qd=(0,k.Ay)(ae)((e=>{let{theme:t}=e;return{["& .".concat(jd.formContainer)]:{margin:t.spacing(1)},["& .".concat(jd.helperText)]:{position:"absolute",marginTop:"10px"},["& .".concat(jd.divider)]:{margin:"".concat(t.spacing(2)," 0"),borderTop:"1px solid ".concat(t.palette.divider)},["& .".concat(jd.actionButton)]:{margin:t.spacing(1)},["& .".concat(jd.actionButtonContainer)]:{margin:t.spacing(1)},["& .".concat(jd.tableContainer)]:{margin:t.spacing(1)},["& .".concat(jd.actionChip)]:{borderColor:e=>e.isBlock?t.palette.error.main:t.palette.primary.main,backgroundColor:e=>e.isBlock?t.palette.error.lighter:t.palette.primary.lighter},["& .".concat(jd.buttonWrapper)]:{margin:t.spacing(2)},["& .".concat(jd.requiredStar)]:{color:t.palette.error.dark}}}));function Wd(e,t){let{field:a,value:n}=t;const r=Se()(e);switch(a){case"all":return n;case"name":case"description":return r[a]=n,r;case"labels":return Array.isArray(n)&&(r.labels=n.map((e=>"object"==typeof e?e.id:e))),r;case"rulesets":return Array.isArray(n)&&(r.rulesets=n),r;case"actions":if(Array.isArray(n))r.actions=n;else if("object"==typeof n){const{actionType:e,actionData:t,indexToRemove:a}=n;"ADD"===e?r.actions.push(t):"REMOVE"===e?r.actions=r.actions.filter(((e,t)=>t!==a)):"UPDATE"===e&&(r.actions[a]=t)}return r;default:return r}}function zd(e){const[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[d,m]=(0,n.useState)([]),[u,p]=(0,n.useState)("all"),[g,A]=(0,n.useState)([]),y=(0,_.A)(),{match:{params:{id:C}},history:T}=e,S={name:"",description:"",labels:["GLOBAL"],actions:[{state:"API_UPDATE",ruleSeverity:"ERROR",type:ra.A.GOVERNANCE_ACTIONS.NOTIFY},{state:"API_UPDATE",ruleSeverity:"WARN",type:ra.A.GOVERNANCE_ACTIONS.NOTIFY},{state:"API_UPDATE",ruleSeverity:"INFO",type:ra.A.GOVERNANCE_ACTIONS.NOTIFY}],rulesets:[]},[I,x]=(0,n.useReducer)(Wd,S),{name:k,description:O,labels:D,actions:L,rulesets:N}=I,[B,j]=(0,n.useState)({open:!1,editAction:null}),q=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{const n={limit:25,offset:t},r=await e.getRulesets(n),{list:i,pagination:o}=r.body,l=[].concat(Od(a),Od(i));return o.total>t+n.limit?q(e,t+n.limit,l):l}catch(e){throw console.error("Error fetching rulesets:",e),e}};(0,n.useEffect)((()=>{const e=new nd;(new Be).labelsListGet().then((e=>{const t=e.body.list||[];m(t)})).catch((e=>{console.error("Error loading labels:",e),Dt.error(y.formatMessage({id:"Governance.Policies.AddEdit.error.loading.labels",defaultMessage:"Error loading labels"}))})),q(e).then((t=>(l(t),C?e.getGovernancePolicyById(C).then((e=>{const{body:a}=e,n=a.rulesets.map((e=>t.find((t=>t.id===e))||{id:e,name:"Unknown Ruleset"}));return c(n),1===a.labels.length&&"GLOBAL"===a.labels[0]?p("all"):0===a.labels.length?p("none"):(p("specific"),A(a.labels)),x({field:"all",value:Rd(Rd({},a),{},{rulesets:a.rulesets.map((e=>"object"==typeof e?e.id:e))})})})):null))).catch((e=>{console.error("Error loading rulesets:",e),Dt.error(y.formatMessage({id:"Governance.Policies.AddEdit.error.loading.rulesets",defaultMessage:"Error loading rulesets"}))}))}),[C]);const W=e=>{x({field:e.target.name,value:e.target.value})},z=(e,t,a)=>{let n=!1;if(!a)return!1;switch(e){case"name":t?t.length<1?n=y.formatMessage({id:"Governance.Policies.AddEdit.form.name.too.short",defaultMessage:"Policy name cannot be empty"}):t.length>255?n=y.formatMessage({id:"Governance.Policies.AddEdit.form.name.too.long",defaultMessage:"Policy name cannot exceed 255 characters"}):/^[a-zA-Z0-9-_ ]+$/.test(t)||(n=y.formatMessage({id:"Governance.Policies.AddEdit.form.name.invalid",defaultMessage:"Policy name can only contain alphanumeric characters, hyphens, underscores, and spaces"})):n=y.formatMessage({id:"Governance.Policies.AddEdit.form.name.required",defaultMessage:"Policy name is required"});break;case"description":t&&t.length>1024&&(n=y.formatMessage({id:"Governance.Policies.AddEdit.form.description.too.long",defaultMessage:"Description cannot exceed 1024 characters"}));break;case"rulesets":t&&Array.isArray(t)&&0!==t.length?new Set(t).size!==t.length&&(n=y.formatMessage({id:"Governance.Policies.AddEdit.form.rulesets.duplicate",defaultMessage:"Duplicate rulesets are not allowed"})):n=y.formatMessage({id:"Governance.Policies.AddEdit.form.rulesets.required",defaultMessage:"At least one ruleset is required"});break;case"actions":if(!t||!Array.isArray(t)||0===t.length){n=y.formatMessage({id:"Governance.Policies.AddEdit.form.actions.invalid",defaultMessage:"Actions must be properly configured"});break}if(t.filter((e=>("API_CREATE"===e.state||"API_UPDATE"===e.state)&&e.type===ra.A.GOVERNANCE_ACTIONS.BLOCK)).length>0){n=y.formatMessage({id:"Governance.Policies.AddEdit.form.actions.invalid.block",defaultMessage:"BLOCK action is not allowed for API_CREATE and API_UPDATE states"});break}break;case"labels":"specific"!==u||t&&0!==t.length||(n=y.formatMessage({id:"Governance.Policies.AddEdit.form.labels.required",defaultMessage:"At least one label is required when applying to specific APIs"}))}return n},G=()=>Od(new Set(L.map((e=>e.state)))),U=()=>{const e=G();return ra.A.GOVERNABLE_STATES.every((t=>e.includes(t.value)))};return n.createElement(qd,{pageStyle:"half",title:C?"".concat(y.formatMessage({id:"Governance.Policies.AddEdit.title.edit",defaultMessage:"Governance Policy - Edit "})," ").concat(k):y.formatMessage({id:"Governance.Policies.AddEdit.title.new",defaultMessage:"Governance Policy - Create new"}),help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#create-and-manage-policies",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.Policies.AddEdit.help.link",defaultMessage:"Create and Manage Policies"})})))))},n.createElement(w.A,{component:"div",m:2,sx:{mb:15}},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3,style:{paddingLeft:"24px",paddingTop:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.general.details.description",defaultMessage:"Provide name and description of the policy."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"name",value:k,onChange:W,label:n.createElement("span",null,n.createElement(b.A,{id:"Governance.Policies.AddEdit.form.name",defaultMessage:"Name"}),n.createElement(Ld,null,"*")),fullWidth:!0,error:z("name",k,t),helperText:z("name",k,t)||y.formatMessage({id:"Governance.Policies.AddEdit.form.name.help",defaultMessage:"Name of the governance policy."}),variant:"outlined"}),n.createElement(lt.A,{margin:"dense",name:"description",value:O,onChange:W,label:y.formatMessage({id:"Governance.Policies.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,multiline:!0,rows:3,error:z("description",O,t),helperText:z("description",O,t)||y.formatMessage({id:"Governance.Policies.AddEdit.form.description.help",defaultMessage:"Description of the governance policy."}),variant:"outlined",InputProps:{style:{padding:0}}}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Nd,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3,style:{paddingLeft:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.labels.title",defaultMessage:"Attachment"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.labels.description",defaultMessage:"Choose whether to attach this policy to all APIs or only to APIs with specific labels"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(w.A,{mb:2},n.createElement(qt.A,{row:!0,value:u,onChange:e=>{switch(p(e.target.value),e.target.value){case"all":x({field:"labels",value:["GLOBAL"]});break;case"none":x({field:"labels",value:[]});break;case"specific":(null==g?void 0:g.length)>0?x({field:"labels",value:g}):x({field:"labels",value:[]})}}},n.createElement(Wt.A,{value:"all",control:n.createElement(zt.A,null),label:y.formatMessage({id:"Governance.Policies.AddEdit.labels.applyAll",defaultMessage:"All APIs"})}),n.createElement(Wt.A,{value:"specific",control:n.createElement(zt.A,null),label:y.formatMessage({id:"Governance.Policies.AddEdit.labels.applySpecific",defaultMessage:"APIs with specific labels"})}),n.createElement(Wt.A,{value:"none",control:n.createElement(zt.A,null),label:y.formatMessage({id:"Governance.Policies.AddEdit.labels.applyNone",defaultMessage:"None"})}))),"specific"===u&&n.createElement(Dl.A,{multiple:!0,id:"governance-policy-labels",options:d,value:D.map((e=>d.find((t=>t.id===e))||e)),onChange:(e,t)=>{x({field:"labels",value:t})},getOptionLabel:e=>"object"==typeof e?e.name:e,isOptionEqualTo:(e,t)=>"object"==typeof e&&"object"==typeof t?e.id===t.id:e===t,renderInput:e=>n.createElement(lt.A,Id({},e,{variant:"outlined",label:y.formatMessage({id:"Governance.Policies.AddEdit.labels.input",defaultMessage:"Select Labels"}),error:z("labels",D,t),helperText:z("labels",D,t)||y.formatMessage({id:"Governance.Policies.AddEdit.labels.helper",defaultMessage:"Select one or more labels to determine which APIs this policy attaches to"})})),renderTags:(e,t)=>e.map(((e,a)=>n.createElement(mr.A,Id({label:"object"==typeof e?e.name:e},t({index:a}))))),sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"4px 4px 4px 5px"}}}))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Nd,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3,style:{paddingLeft:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.title",defaultMessage:"Enforcement"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.enforcement.description",defaultMessage:"Choose when the policy should be applied and the action that should be taken based on the severity of the rule violation."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(nt.A,{title:U()?y.formatMessage({id:"Governance.Policies.AddEdit.enforcement.add.disabled.tooltip",defaultMessage:"All available states have been configured"}):""},n.createElement("span",null,n.createElement(P.A,{variant:"outlined",color:"primary",startIcon:n.createElement(md.A,null),onClick:()=>{j({open:!0,editAction:null})},disabled:U()},y.formatMessage({id:"Governance.Policies.AddEdit.enforcement.add.button",defaultMessage:"Add Enforcement Criteria"}))))),n.createElement(w.A,{component:"div",m:1},L&&L.length>0&&n.createElement(Qs.A,{component:h.A},n.createElement(sa.A,null,n.createElement(ca.A,null,n.createElement(oa.A,null,n.createElement(la.A,null,y.formatMessage({id:"Governance.Policies.AddEdit.action.table.state",defaultMessage:"State"})),n.createElement(la.A,null,y.formatMessage({id:"Governance.Policies.AddEdit.action.table.onError",defaultMessage:"On Error"})),n.createElement(la.A,null,y.formatMessage({id:"Governance.Policies.AddEdit.action.table.onWarn",defaultMessage:"On Warn"})),n.createElement(la.A,null,y.formatMessage({id:"Governance.Policies.AddEdit.action.table.onInfo",defaultMessage:"On Info"})),n.createElement(la.A,{align:"right"},y.formatMessage({id:"Governance.Policies.AddEdit.action.table.actions",defaultMessage:"Edit / Delete"})))),n.createElement(da.A,null,(e=>{const t=e.reduce(((e,t)=>{const a=e.get(t.state);return a?("ERROR"===t.ruleSeverity&&(a.error=t.type),"WARN"===t.ruleSeverity&&(a.warn=t.type),"INFO"===t.ruleSeverity&&(a.info=t.type)):e.set(t.state,{state:t.state,error:"ERROR"===t.ruleSeverity?t.type:null,warn:"WARN"===t.ruleSeverity?t.type:null,info:"INFO"===t.ruleSeverity?t.type:null}),e}),new Map);return ra.A.GOVERNABLE_STATES.filter((e=>t.has(e.value))).map((e=>t.get(e.value)))})(L).map((e=>n.createElement(oa.A,{key:e.state},n.createElement(la.A,null,R.A.mapGovernableStateToLabel(e.state)),n.createElement(la.A,null,n.createElement(mr.A,{label:e.error||"Not Set",color:e.error===ra.A.GOVERNANCE_ACTIONS.BLOCK?"error":"primary",variant:"outlined",size:"small",className:jd.actionChip,isBlock:e.error===ra.A.GOVERNANCE_ACTIONS.BLOCK})),n.createElement(la.A,null,n.createElement(mr.A,{label:e.warn||"Not Set",color:e.warn===ra.A.GOVERNANCE_ACTIONS.BLOCK?"error":"primary",variant:"outlined",size:"small",className:jd.actionChip,isBlock:e.warn===ra.A.GOVERNANCE_ACTIONS.BLOCK})),n.createElement(la.A,null,n.createElement(mr.A,{label:e.info||"Not Set",color:e.info===ra.A.GOVERNANCE_ACTIONS.BLOCK?"error":"primary",variant:"outlined",size:"small",className:jd.actionChip,isBlock:e.info===ra.A.GOVERNANCE_ACTIONS.BLOCK})),n.createElement(la.A,{align:"right"},n.createElement(nt.A,{title:"API_UPDATE"===e.state||"API_CREATE"===e.state?y.formatMessage({id:"Governance.Policies.AddEdit.action.edit.disabled.tooltip",defaultMessage:"Cannot edit as only notify action is allowed"}):""},n.createElement("span",null,n.createElement(V.A,{onClick:()=>(e=>{const t={governedState:e.state,actions:{error:e.error||ra.A.GOVERNANCE_ACTIONS.NOTIFY,warn:e.warn||ra.A.GOVERNANCE_ACTIONS.NOTIFY,info:e.info||ra.A.GOVERNANCE_ACTIONS.NOTIFY}};j({open:!0,editAction:t})})(e),size:"small",sx:{mr:1},disabled:"API_UPDATE"===e.state||"API_CREATE"===e.state},n.createElement(At.A,null)))),n.createElement(V.A,{onClick:()=>{const t=L.filter((t=>t.state!==e.state));x({field:"actions",value:t})},size:"small"},n.createElement(Jr.default,null)))))))))),t&&z("actions",L,!0)&&n.createElement(w.A,{sx:{color:"error.main",pl:2,pb:1}},z("actions",L,!0))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Nd,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12,style:{paddingLeft:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.rulesets.title",defaultMessage:"Rulesets"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.rulesets.description",defaultMessage:"Search and select rulesets to include in the policy. Selected rulesets will appear above the search bar."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12},n.createElement(w.A,{component:"div",m:1},n.createElement(Sd,{availableRulesets:o,selectedRulesets:s,onRulesetSelect:e=>{x({field:"rulesets",value:[].concat(Od(N),[e.id])}),c([].concat(Od(s),[e]))},onRulesetDeselect:e=>{x({field:"rulesets",value:N.filter((t=>t!==e.id))}),c(s.filter((t=>t.id!==e.id)))}})),t&&z("rulesets",N,!0)&&n.createElement(w.A,{sx:{color:"error.main",pl:2,pb:1}},z("rulesets",N,!0))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement(Nd,null))),n.createElement(v.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>{if(a(!0),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!(z("name",k,e)||z("description",O,e)||z("labels",D,e)||z("rulesets",N,e)||z("actions",L,e))}(!0))return Dt.error(y.formatMessage({id:"Governance.Policies.AddEdit.form.has.errors",defaultMessage:"One or more fields contain errors."})),!1;i(!0);const e=Rd(Rd({},I),{},{governableStates:Od(new Set(L.map((e=>e.state))))}),t=new nd;let n=null;return n=C?t.updateGovernancePolicyById(e).then((()=>y.formatMessage({id:"Governance.Policies.AddEdit.edit.success",defaultMessage:"Policy Updated Successfully"}))):t.createGovernancePolicy(e).then((()=>y.formatMessage({id:"Governance.Policies.AddEdit.add.success",defaultMessage:"Policy Added Successfully"}))),n.then((e=>{Dt.success("".concat(k," ").concat(e)),T.push("/governance/policies/")})).catch((e=>{const{response:t,message:a}=e;return t&&t.body?Dt.error(t.body.description):a&&Dt.error(a),null})).finally((()=>{i(!1)})),!0}},r?n.createElement(ut.A,{size:16}):n.createElement(n.Fragment,null,C?n.createElement(b.A,{id:"Governance.Policies.AddEdit.form.update.btn",defaultMessage:"Update"}):n.createElement(b.A,{id:"Governance.Policies.AddEdit.form.add.btn",defaultMessage:"Create"})))),n.createElement(M.N_,{to:"/governance/policies"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"Governance.Policies.AddEdit.form.cancel",defaultMessage:"Cancel"})))))),n.createElement(Ad,{open:B.open,onClose:()=>{j({open:!1,editAction:null})},onSave:e=>{const t=[],{governedState:a,actions:n}=e;Object.entries(n).forEach((e=>{let[n,r]=e;r&&t.push({state:a,ruleSeverity:n.toUpperCase(),type:r})}));const r=L.filter((e=>e.state!==a));x({field:"actions",value:[].concat(Od(r),t)}),j({open:!1,editAction:null})},editAction:B.editAction,existingStates:G()}))}zd.propTypes={match:i().shape({}).isRequired,history:i().shape({}).isRequired};const Gd=zd,Ud=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/governance/policies",component:dd}),n.createElement(o.qh,{exact:!0,path:"/governance/policies/create",component:Gd}),n.createElement(o.qh,{exact:!0,path:"/governance/policies/:id",component:Gd}),n.createElement(o.qh,{component:I}))}));function Vd(e){let{updateList:t,dataRow:a}=e;const{id:r}=a,i=(0,_.A)();return n.createElement(Bt,{title:i.formatMessage({id:"AdminPages.Governance.Ruleset.Delete.form.delete.dialog.title",defaultMessage:"Delete Ruleset?"}),saveButtonText:i.formatMessage({id:"AdminPages.Governance.Ruleset.Delete.form.delete.dialog.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>(new nd).deleteRuleset(r).then((()=>n.createElement(b.A,{id:"AdminPages.Governance.Ruleset.Delete.form.delete.successful",defaultMessage:"Ruleset deleted successfully"}))).catch((e=>{const{response:t,message:a}=e;t&&t.body?Dt.error(t.body.message):a?Dt.error(a):Dt.error(i.formatMessage({id:"AdminPages.Governance.Ruleset.Delete.form.delete.error",defaultMessage:"Something went wrong while deleting the Ruleset"}))})).finally((()=>{t()}))},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.Governance.Ruleset.Delete.form.delete.confirmation.message",defaultMessage:"Are you sure you want to delete this Ruleset?"})))}Vd.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired}).isRequired};const Kd=Vd;function Fd(){return(new nd).getRulesets({limit:100,offset:0}).then((e=>e.body.list)).catch((e=>{throw e}))}function _d(){const e=(0,_.A)(),t=[{name:"name",label:e.formatMessage({id:"Governance.Rulesets.List.column.ruleset",defaultMessage:"Ruleset"}),options:{filter:!0,sort:!0,customBodyRender:(e,t)=>{const a=t.rowData;return n.createElement(nt.A,{title:a[1],arrow:!0},n.createElement("div",null,n.createElement(E.A,null,e),n.createElement(E.A,{variant:"caption",display:"block",color:"textSecondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"320px"}},a[1])))},setCellProps:()=>({style:{width:"40%"}})}},{name:"description",options:{display:!1}},{name:"artifactType",label:e.formatMessage({id:"Governance.Rulesets.List.column.artifactType",defaultMessage:"Artifact Type"}),options:{filter:!0,sort:!1,customBodyRender:e=>n.createElement(mr.A,{label:R.A.mapArtifactTypeToLabel(e),size:"small"}),setCellProps:()=>({style:{width:"15%",textAlign:"center"}}),setCellHeaderProps:()=>({style:{textAlign:"center"}})}},{name:"ruleType",label:e.formatMessage({id:"Governance.Rulesets.List.column.rulesetType",defaultMessage:"Ruleset Type"}),options:{filter:!0,sort:!1,customBodyRender:e=>n.createElement(mr.A,{label:R.A.mapRuleTypeToLabel(e),size:"small"}),setCellProps:()=>({style:{width:"15%",textAlign:"center"}}),setCellHeaderProps:()=>({style:{textAlign:"center"}})}},{name:"provider",label:e.formatMessage({id:"Governance.Rulesets.List.column.provider",defaultMessage:"Provider"}),options:{filter:!0,sort:!1,setCellProps:()=>({style:{width:"15%",textAlign:"center"}}),setCellHeaderProps:()=>({style:{textAlign:"center"}})}},{name:"id",options:{display:!1}}],a={pageStyle:"paperLess",title:e.formatMessage({id:"Governance.Rulesets.List.title",defaultMessage:"Ruleset Catalog"}),pageDescription:e.formatMessage({id:"Governance.Rulesets.List.description",defaultMessage:"Find comprehensive governance rulesets designed to ensure the consistency, security and reliability for your APls"}),help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#create-and-manage-rulesets",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.Rulesets.List.help.link",defaultMessage:"Create and Manage Rulesets"})})))))},r={triggerButtonText:e.formatMessage({id:"Governance.Rulesets.List.addRuleset.triggerButtonText",defaultMessage:"Create Ruleset"}),title:e.formatMessage({id:"Governance.Rulesets.List.addRuleset.title",defaultMessage:"Create Ruleset"})},i={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Governance.Rulesets.List.empty.content",defaultMessage:"Rulesets are the building blocks for creating governance policies. They contain predefined rules and validations that can be used to enforce standards across your APIs. Click Create Ruleset to get started."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Governance.Rulesets.List.empty.title",defaultMessage:"Ruleset Catalog"}))},o=n.createElement(M.N_,{to:"/governance/ruleset-catalog/create"},n.createElement(P.A,{variant:"contained",color:"primary",size:"small",role:"button"},n.createElement(b.A,{id:"Governance.Rulesets.List.add.new.ruleset",defaultMessage:"Create Ruleset"})));return n.createElement(n.Fragment,null,n.createElement(wt,{columProps:t,pageProps:a,addButtonProps:r,emptyBoxProps:i,searchProps:{searchPlaceholder:e.formatMessage({id:"Governance.Rulesets.List.search.placeholder",defaultMessage:"Search rulesets by name or type"}),active:!0},apiCall:Fd,DeleteComponent:Kd,editComponentProps:{icon:n.createElement(At.A,null),title:e.formatMessage({id:"Governance.Rulesets.List.edit.title",defaultMessage:"Edit Ruleset"}),routeTo:"/governance/ruleset-catalog/"},addButtonOverride:o}))}var Hd=a(61561),Zd=a(73684);function Yd(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(a),!0).forEach((function(t){Qd(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yd(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qd(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}io.wG.config({monaco:ro});const Jd=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}})),$d=(0,k.Ay)("hr")({border:"solid 1px #efefef"}),em=(0,k.Ay)(w.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1),borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,borderBottom:"1px solid ".concat(t.palette.divider),display:"flex",justifyContent:"flex-end",backgroundColor:t.palette.grey[50]}})),tm=(0,k.Ay)(w.A)((e=>{let{theme:t}=e;return{height:400,"& .monaco-editor":{borderBottomLeftRadius:t.shape.borderRadius,borderBottomRightRadius:t.shape.borderRadius,overflow:"hidden"}}}));function am(e,t){let{field:a,value:n}=t;const r=Se()(e);switch(a){case"all":return n;case"name":case"description":case"ruleType":case"artifactType":case"provider":case"rulesetContent":case"documentationLink":return r[a]=n,r;default:return r}}function nm(e){const[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[s,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(null),u=(0,_.A)(),{match:{params:{id:p}},history:g}=e,[A,y]=(0,n.useReducer)(am,{name:"",description:"",ruleType:"",artifactType:"",provider:"",rulesetContent:"",documentationLink:""}),{name:C,description:T,ruleType:S,artifactType:I,rulesetContent:x,documentationLink:k}=A;(0,n.useEffect)((()=>{const e=new nd;p&&e.getRulesetById(p).then((e=>{const{body:t}=e;return t})).then((t=>(y({field:"all",value:t}),e.getRulesetContent(p)))).then((e=>{const{text:t}=e;y({field:"rulesetContent",value:t})})).catch((e=>{const{response:t}=e;t&&t.body?Dt.error(t.body.description):Dt.error(u.formatMessage({id:"Governance.Rulesets.AddEdit.error.loading",defaultMessage:"Error loading ruleset"}))}))}),[p]);const O=e=>{y({field:e.target.name,value:e.target.value})},D=e=>{const t=new FileReader;t.onload=e=>{y({field:"rulesetContent",value:e.target.result})},t.onerror=()=>{Dt.error(u.formatMessage({id:"Governance.Rulesets.AddEdit.file.read.error",defaultMessage:"Error reading file"}))},t.readAsText(e)},L=()=>{c(null),l(!1)},N=(e,t,a)=>{let n=!1;if(!a)return!1;switch(e){case"name":t?t.length>255?n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.name.too.long",defaultMessage:"Ruleset name cannot exceed 255 characters"}):/^[a-zA-Z0-9-_ ]+$/.test(t)||(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.name.invalid",defaultMessage:"Ruleset name can only contain alphanumeric characters, spaces, hyphens and underscores."})):n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.name.required",defaultMessage:"Ruleset name is required"});break;case"description":t&&t.length>1e3&&(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.description.too.long",defaultMessage:"Description cannot exceed 1000 characters"}));break;case"ruleType":t||(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.ruletype.required",defaultMessage:"Rule type is required"}));break;case"artifactType":t||(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.artifacttype.required",defaultMessage:"Artifact type is required"}));break;case"documentationLink":t&&(t.length>500?n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.doclink.too.long",defaultMessage:"Documentation link cannot exceed 500 characters"}):/^https?:\/\/.+/.test(t)||(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.doclink.invalid",defaultMessage:"Documentation link must be a valid HTTP/HTTPS URL"})));break;case"rulesetContent":t&&0!==t.trim().length||(n=u.formatMessage({id:"Governance.Rulesets.AddEdit.form.rulesetcontent.required",defaultMessage:"Ruleset content is required"}))}return n};return n.createElement(ae,{pageStyle:"half",title:p?n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.title.edit",defaultMessage:"Edit Ruleset - {name}",values:{name:C}}):n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.title.new",defaultMessage:"Create New Ruleset"}),help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#create-and-manage-rulesets",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.help.link",defaultMessage:"Create and Manage Rulesets"})})))))},n.createElement(w.A,{component:"div",m:2,sx:{mb:15}},n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:3,style:{paddingLeft:"24px",paddingTop:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.general.details",defaultMessage:"General Details"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.general.details.description",defaultMessage:"Provide name and description of the ruleset."}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:9},n.createElement(w.A,{component:"div",m:1},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"name",value:C,onChange:O,label:n.createElement("span",null,n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.name",defaultMessage:"Name"}),n.createElement(Jd,null,"*")),fullWidth:!0,error:N("name",C,t),helperText:N("name",C,t),variant:"outlined"}),n.createElement(lt.A,{margin:"dense",name:"description",value:T,onChange:O,label:n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,error:N("description",T,t),helperText:N("description",T,t),multiline:!0,rows:3,variant:"outlined",InputProps:{style:{padding:0}}}),n.createElement(lt.A,{margin:"dense",name:"documentationLink",value:k,onChange:O,label:n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.documentation",defaultMessage:"Documentation Link"}),fullWidth:!0,error:N("documentationLink",k,t),helperText:N("documentationLink",k,t),variant:"outlined"}),n.createElement(v.Ay,{container:!0,spacing:2},n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{select:!0,margin:"dense",name:"ruleType",value:S,onChange:O,label:n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.ruleset.type",defaultMessage:"Ruleset Type"}),fullWidth:!0,error:N("ruleType",S,t),helperText:N("ruleType",S,t),required:!0,variant:"outlined"},ra.A.RULESET_TYPES.map((e=>n.createElement(Ut.A,{key:e.value,value:e.value},e.label))))),n.createElement(v.Ay,{item:!0,xs:6},n.createElement(lt.A,{select:!0,margin:"dense",name:"artifactType",value:I,onChange:O,label:n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.artifact.type",defaultMessage:"Artifact Type"}),fullWidth:!0,error:N("artifactType",I,t),helperText:N("artifactType",I,t),required:!0,variant:"outlined"},ra.A.ARTIFACT_TYPES.map((e=>n.createElement(Ut.A,{key:e.value,value:e.value},e.label)))))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{marginTop:2,marginBottom:2},n.createElement($d,null))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:5,style:{paddingLeft:"24px"}},n.createElement(E.A,{color:"inherit",variant:"subtitle2",component:"div"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.content.title",defaultMessage:"Ruleset Content"})),n.createElement(E.A,{color:"inherit",variant:"caption",component:"p"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.content.description",defaultMessage:"Define the ruleset content in YAML or JSON format"}))),n.createElement(v.Ay,{item:!0,xs:12,md:12,lg:12},n.createElement(w.A,{component:"div",m:1},n.createElement(h.A,{variant:"outlined"},n.createElement(em,null,n.createElement(w.A,{sx:{display:"flex",gap:1}},n.createElement(P.A,{component:"label",variant:"contained",startIcon:n.createElement(Hd.A,null),size:"small"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.button.upload",defaultMessage:"Upload File"}),n.createElement("input",{type:"file",hidden:!0,accept:".yaml,.yml,.json",onChange:e=>{const t=e.target.files[0];t&&(x.trim()?(c(t),l(!0)):D(t));const a=e.target;setTimeout((()=>{a.value=""}),0)}})),n.createElement(P.A,{variant:"contained",startIcon:n.createElement(Zd.default,null),size:"small",onClick:()=>{x?R.A.downloadContent(x,"".concat(C||"ruleset",".yaml")):Dt.warning(u.formatMessage({id:"Governance.Rulesets.AddEdit.download.empty",defaultMessage:"No content to download"}))}},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.button.download",defaultMessage:"Download"})))),n.createElement(tm,null,n.createElement(io.KE,{height:"100%",defaultLanguage:"yaml",value:x,onChange:e=>{y({field:"rulesetContent",value:e})},theme:"light",options:{minimap:{enabled:!1},lineNumbers:"on",scrollBeyondLastLine:!1}})))),t&&N("rulesetContent",x,!0)&&n.createElement(w.A,{sx:{color:"error.main",pl:2,pb:1}},N("rulesetContent",x,!0)),d&&n.createElement(w.A,{sx:{m:1}},n.createElement(yt.A,{severity:"error",style:{whiteSpace:"pre-line"}},d))),n.createElement(v.Ay,{item:!0,xs:12,sx:{mb:2}},n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{variant:"contained",color:"primary",onClick:()=>{if(a(!0),m(null),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!(N("name",C,e)||N("description",T,e)||N("ruleType",S,e)||N("artifactType",I,e)||N("documentationLink",k,e)||N("rulesetContent",x,e))}(!0))return Dt.error(u.formatMessage({id:"Governance.Rulesets.AddEdit.form.has.errors",defaultMessage:"One or more fields contain errors."})),!1;i(!0);const e=new File([x],"".concat(C,".yaml")),t=Xd(Xd({},A),{},{provider:G.A.getUser().name,ruleCategory:"SPECTRAL",rulesetContent:e}),n=new nd;let r=null;return r=p?n.updateRulesetById(p,t).then((()=>u.formatMessage({id:"Governance.Rulesets.AddEdit.edit.success",defaultMessage:"Ruleset Updated Successfully"}))):n.createRuleset(t).then((()=>u.formatMessage({id:"Governance.Rulesets.AddEdit.add.success",defaultMessage:"Ruleset Added Successfully"}))),r.then((e=>{Dt.success("".concat(C," ").concat(e)),g.push("/governance/ruleset-catalog/")})).catch((e=>{const{response:t,message:a}=e;return t&&t.body?990120===t.body.code?(m(t.body.description),Dt.error(t.body.message)):Dt.error(t.body.description):a&&Dt.error(a),null})).finally((()=>{i(!1)})),!0},disabled:r},r?n.createElement(ut.A,{size:16}):p?n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.button.update",defaultMessage:"Update"}):n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.button.create",defaultMessage:"Create"}))),n.createElement(M.N_,{to:"/governance/ruleset-catalog"},n.createElement(P.A,{variant:"outlined"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.form.cancel",defaultMessage:"Cancel"})))))),n.createElement(St.A,{open:o,onClose:L,"aria-labelledby":"overwrite-dialog-title","aria-describedby":"overwrite-dialog-description"},n.createElement(Rt.A,{id:"overwrite-dialog-title"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.confirm.overwrite.title",defaultMessage:"Confirm Overwrite"})),n.createElement(xt.A,null,n.createElement(Tt.A,{id:"overwrite-dialog-description"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.confirm.overwrite.message",defaultMessage:"The editor contains existing content. Do you want to overwrite it with the uploaded file?"}))),n.createElement(It.A,null,n.createElement(P.A,{onClick:L,color:"primary"},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.confirm.overwrite.cancel",defaultMessage:"Cancel"})),n.createElement(P.A,{onClick:()=>{s&&(D(s),c(null)),l(!1)},color:"primary",autoFocus:!0},n.createElement(b.A,{id:"Governance.Rulesets.AddEdit.confirm.overwrite.ok",defaultMessage:"Overwrite"})))))}nm.propTypes={match:i().shape({params:i().shape({id:i().string})}).isRequired,history:i().shape({push:i().func}).isRequired};const rm=nm,im=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/governance/ruleset-catalog",component:_d}),n.createElement(o.qh,{exact:!0,path:"/governance/ruleset-catalog/create",component:rm}),n.createElement(o.qh,{exact:!0,path:"/governance/ruleset-catalog/:id",component:rm}),n.createElement(o.qh,{component:I}))}));function om(e){let{updateList:t,dataRow:a}=e;const{organizationId:r,externalOrganizationId:i}=a,o=(0,_.A)();return n.createElement(Bt,{title:o.formatMessage({id:"AdminPages.Organizations.Delete.form.delete.title",defaultMessage:"Delete Organization?"}),saveButtonText:o.formatMessage({id:"AdminPages.Organizations.Delete.form.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>{(new Be).deleteOrganization(r,i).then((()=>n.createElement(b.A,{id:"AdminPages.Organizations.Delete.form.delete.successful",defaultMessage:"Organization deleted successfully"}))).catch((e=>{throw e.response.body.description})).finally((()=>{t()}))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.Organizations.Delete.form.delete.content",defaultMessage:"Are you sure you want to delete this Organization?"})))}om.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().number.isRequired}).isRequired};const lm=om;var sm=a(27738);function cm(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(a),!0).forEach((function(t){mm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cm(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mm(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const um={tooltip:"".concat("Organizations","-tooltip")},pm=(0,k.Ay)(w.A)((e=>{let{theme:t}=e;return{["& .".concat(um.tooltip)]:{position:"absolute",right:t.spacing(-4),top:t.spacing(1)}}})),gm=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function fm(e,t){let{field:a,value:n}=t;switch(a){case"referenceId":case"displayName":case"description":return dm(dm({},e),{},{[a]:n});case"editDetails":return n;default:return e}}function Am(e){const{updateList:t,icon:a,triggerButtonText:r,title:i,dataRow:o}=e,l=(0,_.A)(),[s,c]=(0,n.useState)({description:""}),[d,m]=(0,n.useReducer)(fm,s),{referenceId:u,displayName:p,description:g}=d,f=e=>{m({field:e.target.name,value:e.target.value})};(0,n.useEffect)((()=>{c({description:""})}),[]);const A=(e,t)=>{let a;switch(e){case"referenceId":if(void 0===t){a=!1;break}a=""===t?l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.error.referenceId.empty",defaultMessage:"Reference ID is Empty"}):!!/\s/.test(t)&&l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.error.referenceId.has.spaces",defaultMessage:"Reference ID contains spaces"});break;case"displayName":if(void 0===t){a=!1;break}a=""===t&&l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.error.name.empty",defaultMessage:"Name is Empty"});break;case"description":t&&t.length>1024&&(a=l.formatMessage({id:"AdminPages.Organization.AddEdit.form.error.description.too.long",defaultMessage:"Organization description is too long"}))}return a};return n.createElement(Bt,{title:i,saveButtonText:l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.save.btn",defaultMessage:"Save"}),icon:a,triggerButtonText:r,formSaveCallback:()=>{const e=(()=>{let e,t,a,n="";return void 0===u?(m({field:"referenceId",value:""}),a=A("referenceId","")):a=A("referenceId",u),a&&(n+=a+"\n"),void 0===p?(m({field:"displayName",value:""}),e=A("displayName","")):e=A("displayName",p),e&&(n+=e+"\n"),void 0!==g&&(t=A("description",g)),t&&(n+=t+"\n"),n})();return""!==e?(Dt.error(e),!1):(o?(new Be).updateOrganization(u,o.organizationId,p,g):(new Be).createOrganization(u,p,g)).then((()=>o?l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.edit.successful",defaultMessage:"Organizations edited successfully"}):l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.add.successful",defaultMessage:"Organizations added successfully"}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description})).finally((()=>{t()}))},dialogOpenCallback:()=>{if(o){const{externalOrganizationId:e,displayName:t,description:a}=o;m({field:"editDetails",value:{referenceId:e,displayName:t,description:a}})}}},n.createElement(w.A,{style:{paddingRight:"20px"}},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"displayName",value:p,onChange:f,label:n.createElement("span",null,n.createElement(b.A,{id:"AdminPages.Organizations.AddEdit.form.name",defaultMessage:"Name"}),n.createElement(gm,null,"*")),fullWidth:!0,error:A("displayName",p),variant:"outlined"}),n.createElement(pm,{style:{position:"relative",marginTop:10,marginBottom:10,minWidth:400}},n.createElement(lt.A,{margin:"dense",name:"referenceId",value:u,onChange:f,label:n.createElement("span",null,n.createElement(b.A,{id:"AdminPages.Organizations.AddEdit.form.id",defaultMessage:"Reference ID"}),n.createElement(gm,null,"*")),fullWidth:!0,error:A("referenceId",u),variant:"outlined"}),n.createElement(nt.A,{title:n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(b.A,{id:"Api.organization.dropdown.tooltip",defaultMessage:"Organization ID assigned by the External Identity Provider."}))),"aria-label":"Organization",interactive:!0,className:um.tooltip},n.createElement(sm.A,null))),n.createElement(lt.A,{margin:"dense",name:"description",value:g,onChange:f,label:l.formatMessage({id:"AdminPages.Organizations.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,error:A("description",g),multiline:!0,variant:"outlined"})))}Am.defaultProps={icon:null,dataRow:null},Am.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,displayName:i().string.isRequired}),icon:i().element,triggerButtonText:i().oneOfType([i().element.isRequired,i().string.isRequired]).isRequired,title:i().shape({}).isRequired};const ym=Am;function Em(){return(new Be).organizationsListGet().then((e=>e.body.list)).catch((e=>{throw e}))}function hm(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(new Be).getUserOrganizationInfo().then((e=>{a(e.body.organizationId)})).catch((e=>{throw e}))}),[]);const r=[{name:"id",options:{display:!1}},{name:"referenceId",options:{display:!1}},{name:"displayName",label:e.formatMessage({id:"AdminPages.Organizations.table.header.organization.name",defaultMessage:"Organization Name"}),options:{filter:!0,sort:!0}},{name:"description",label:e.formatMessage({id:"AdminPages.Organizations.table.header.organization.description",defaultMessage:"Description"}),options:{filter:!0,sort:!1}}],i={pageStyle:"half",title:e.formatMessage({id:"AdminPages.Organizations.List.title.organizations",defaultMessage:"Organizations"})},o={triggerButtonText:e.formatMessage({id:"AdminPages.Organizations.List.addButtonProps.triggerButtonText",defaultMessage:"Register Organization"}),title:e.formatMessage({id:"AdminPages.Organizations.List.addButtonProps.title",defaultMessage:"Register Organization"})},l={searchPlaceholder:e.formatMessage({id:"AdminPages.Organizations.List.search.default",defaultMessage:"Search by Organization Name"}),active:!0},s={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"AdminPages.Organizations.List.empty.content.organization",defaultMessage:"Manage your organizations by registering new organizations or updating existing entries."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"AdminPages.Organizations.List.empty.title.organization",defaultMessage:"Organizations"}))},c={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"AdminPages.Organizations.List.empty.content.organization.no.orguser",defaultMessage:"Users who belong to an organization can manage their organizations by registering new organizations or updating existing entries."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"AdminPages.Organizations.List.empty.title.organization",defaultMessage:"Organizations"}))};return n.createElement(wt,{columProps:r,pageProps:i,searchProps:l,emptyBoxProps:t?s:c,apiCall:Em,EditComponent:ym,editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Organization"},DeleteComponent:lm,addButtonProps:t?o:null})}var bm=a(58862),vm=a(84932),Mm=a(63975),Pm=a(4736),wm=a(20889),Cm=a(15750),Tm=a.n(Cm),Sm=a(94017);function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Im.apply(null,arguments)}const xm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_APPLICATION_CREATION").then((e=>e.body.list.map((e=>({description:e.description,applicationName:e.properties.applicationName,applicationTier:e.properties.applicationTier,userName:e.properties.userName,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationCreation.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Application Creation"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.ApplicationCreation.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationCreation.updateStatus.has.errors",defaultMessage:"Unable to complete application creation approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-application/advanced-topics/adding-an-application-creation-workflow/#adding-an-application-creation-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.ApplicationCreation.help.link.one",defaultMessage:"Create a Application Creation approval workflow Request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.ApplicationCreation.title.applicationcreation",defaultMessage:"Application Creation - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.ApplicationCreation.table.header.description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"applicationName",label:e.formatMessage({id:"Workflow.ApplicationCreation.table.header.applicationName",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"applicationTier",label:e.formatMessage({id:"Workflow.ApplicationCreation.table.header.ApplicationTier",defaultMessage:"Throttling Policy"}),options:{sort:!1,filter:!0}},{name:"userName",label:e.formatMessage({id:"Workflow.ApplicationCreation.table.header.userName",defaultMessage:"Created by"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.userName,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.ApplicationCreation.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.ApplicationCreation.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.ApplicationCreation.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.applicationcreation.search.default",defaultMessage:"Search by Application, Throttling Policy or Creator"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Im({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.ApplicationCreation.List.empty.title.applicationcreations",defaultMessage:"Application Creation"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.ApplicationCreation.List.empty.content.applicationcreations",defaultMessage:"There are no pending workflow requests for application creation."}))),n.createElement(dt.A,null,n.createElement("span",Im({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Im({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.ApplicationCreation.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.ApplicationCreation.permission.denied.content",defaultMessage:"You dont have enough permission to view Application Creation - Approval Tasks. Please contact the site administrator."})})};function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Rm.apply(null,arguments)}const km=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_APPLICATION_UPDATE").then((e=>e.body.list.map((e=>{let t=[];try{var a,n;const r=null!==(a=null==e||null===(n=e.properties)||void 0===n?void 0:n.applicationUpdateDiff)&&void 0!==a?a:[];t=JSON.parse(r)}catch(e){console.error("Could not parse changes:",e.message)}return{changes:t,description:e.description,applicationName:e.properties.applicationName,applicationTier:e.properties.applicationTier,userName:e.properties.userName,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}})))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationUpdate.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Application Update"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.ApplicationUpdate.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationUpdate.updateStatus.has.errors",defaultMessage:"Unable to complete application update approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-application/advanced-topics/adding-an-application-update-workflow/#adding-an-application-update-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.ApplicationUpdate.help.link.one",defaultMessage:"Create an Application Update approval workflow Request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.ApplicationUpdate.title.applicationupdate",defaultMessage:"Application Update - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.ApplicationUpdate.table.header.description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"applicationName",label:e.formatMessage({id:"Workflow.ApplicationUpdate.table.header.applicationName",defaultMessage:"Application"}),options:{sort:!1,filter:!0,setCellProps:()=>({style:{maxWidth:"250px",whiteSpace:"normal",wordBreak:"break-word"}})}},{name:"applicationTier",label:e.formatMessage({id:"Workflow.ApplicationUpdate.table.header.ApplicationTier",defaultMessage:"Throttling Policy"}),options:{sort:!1,filter:!0}},{name:"userName",label:e.formatMessage({id:"Workflow.ApplicationUpdate.table.header.userName",defaultMessage:"Updated by"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.userName,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.ApplicationUpdate.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.ApplicationUpdate.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.ApplicationUpdate.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.applicationUpdate.search.default",defaultMessage:"Search by Application, Throttling Policy or Creator"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,expandableRows:!0,renderExpandableRow:(e,a)=>{const r=a.dataIndex,i=t[r].changes||[];return n.createElement(oa.A,null,n.createElement(la.A,{style:{padding:"16px",borderBottom:"none"},colSpan:e.length+1},n.createElement(Qs.A,null,n.createElement(sa.A,{size:"small","aria-label":"changes",sx:{tableLayout:"fixed",width:"100%","& .MuiTableCell-root:not(:last-child)":{borderRight:"1px solid rgba(224, 224, 224, 1)"},"& .MuiTableCell-head":{borderBottom:"1px solid rgba(224, 224, 224, 1)"},"& .MuiTableCell-body":{borderBottom:"none",wordBreak:"break-word"}}},n.createElement(ca.A,null,n.createElement(oa.A,null,n.createElement(la.A,{sx:{width:"30%"}},n.createElement("strong",null,"Changed Field")),n.createElement(la.A,{sx:{width:"35%"}},n.createElement("strong",null,"Old Value")),n.createElement(la.A,{sx:{width:"35%"}},n.createElement("strong",null,"New Value")))),n.createElement(da.A,null,i.length>0?i.map((e=>{var t,a,r;return n.createElement(oa.A,{key:e.referenceId},n.createElement(la.A,{component:"th",scope:"row"},(null===(t=e.attributeName)||void 0===t?void 0:t.trim())||"N/A"),n.createElement(la.A,null,(null===(a=e.current)||void 0===a?void 0:a.trim())||"N/A"),n.createElement(la.A,null,(null===(r=e.expected)||void 0===r?void 0:r.trim())||"N/A"))})):n.createElement(oa.A,null,n.createElement(la.A,{colSpan:3,align:"center",style:{borderBottom:"none"}},"No changes to display.")))))))},textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Rm({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.ApplicationUpdate.List.empty.title.applicationupdates",defaultMessage:"Application Update"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.ApplicationUpdate.List.empty.content.applicationupdates",defaultMessage:"There are no pending workflow requests for application update."}))),n.createElement(dt.A,null,n.createElement("span",Rm({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Rm({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.ApplicationUpdate.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.ApplicationUpdate.permission.denied.content",defaultMessage:"You dont have enough permission to view Application Update - Approval Tasks. Please contact the site administrator."})})};function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Om.apply(null,arguments)}const Dm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_APPLICATION_DELETION").then((e=>e.body.list.map((e=>({description:e.description,applicationName:e.properties.applicationName,applicationTier:e.properties.applicationTier,userName:e.properties.userName,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationDeletion.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Application Deletion"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.ApplicationDeletion.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.ApplicationDeletion.updateStatus.has.errors",defaultMessage:"Unable to complete application creation approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-application/advanced-topics/adding-an-application-creation-workflow/#adding-an-application-creation-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.ApplicationDeletion.help.link.one",defaultMessage:"Create a Application Creation approval workflow Request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.ApplicationDeletion.title.applicationdeletion",defaultMessage:"Application Deletion - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.ApplicationDeletion.table.header.description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"applicationName",label:e.formatMessage({id:"Workflow.ApplicationDeletion.table.header.applicationName",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"applicationTier",label:e.formatMessage({id:"Workflow.ApplicationDeletion.table.header.ApplicationTier",defaultMessage:"Throttling Policy"}),options:{sort:!1,filter:!0}},{name:"userName",label:e.formatMessage({id:"Workflow.ApplicationDeletion.table.header.userName",defaultMessage:"Created by"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.userName,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.ApplicationDeletion.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.ApplicationDeletion.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.ApplicationDeletion.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.applicationdeletion.search.default",defaultMessage:"Search by Application, Throttling Policy or Creator"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Om({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.ApplicationDeletion.List.empty.title.applicationdeletions",defaultMessage:"Application Deletion"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.ApplicationDeletion.List.empty.content.applicationdeletions",defaultMessage:"There are no pending workflow requests for application creation."}))),n.createElement(dt.A,null,n.createElement("span",Om({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Om({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.ApplicationDeletion.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.ApplicationDeletion.permission.denied.content",defaultMessage:"You dont have enough permission to view Application Creation - Approval Tasks. Please contact the site administrator."})})};function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Lm.apply(null,arguments)}const Nm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_SUBSCRIPTION_CREATION").then((e=>e.body.list.map((e=>({description:e.description,api:e.properties.apiName+"-"+e.properties.apiVersion,applicationName:e.properties.applicationName,subscriber:e.properties.subscriber,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.SubscriptionCreation.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Subscription Creation"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.SubscriptionCreation.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.SubscriptionCreation.updateStatus.has.errors",defaultMessage:"Unable to complete subscription creation approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-subscription/advanced-topics/adding-an-api-subscription-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.SubscriptionCreation.help.link.one",defaultMessage:"Create a subscription creation request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.SubscriptionCreation.title.subscriptioncreation",defaultMessage:"Subscription Creation - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.SubscriptionCreation.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"api",label:e.formatMessage({id:"Workflow.SubscriptionCreation.table.header.API",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"applicationName",label:e.formatMessage({id:"Workflow.SubscriptionCreation.table.header.Application",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"subscriber",label:e.formatMessage({id:"Workflow.SubscriptionCreation.table.header.Subscriber",defaultMessage:"Subscriber"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.subscriber,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.SubscriptionCreation.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.SubscriptionCreation.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.SubscriptionCreation.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.SubscriptionCreation.search.default",defaultMessage:"Search by API, Application or Subscriber"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Lm({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.SubscriptionCreation.List.empty.title.subscriptioncreations",defaultMessage:"Subscription Creation"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.SubscriptionCreation.List.empty.content.subscriptioncreations",defaultMessage:"There are no pending workflow requests for subscription creation."}))),n.createElement(dt.A,null,n.createElement("span",Lm({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Lm({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.SubscriptionCreation.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.SubscriptionCreation.permission.denied.content",defaultMessage:"You dont have enough permission to view Subscription Creation - Approval Tasks. Please contact the site administrator."})})};function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bm.apply(null,arguments)}const jm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_SUBSCRIPTION_DELETION").then((e=>e.body.list.map((e=>({description:e.description,api:e.properties.apiName+"-"+e.properties.apiVersion,applicationName:e.properties.applicationName,subscriber:e.properties.subscriber,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.SubscriptionDeletion.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Subscription Deletion"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.SubscriptionDeletion.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.SubsriptionDeletion.updateStatus.has.errors",defaultMessage:"Unable to complete subscription deletion approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-subscription/advanced-topics/adding-an-api-subscription-deletion-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.help.link.one",defaultMessage:"Create a subscription deletion request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.SubscriptionDeletion.title.subscriptiondeletion",defaultMessage:"Subscription Deletion - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.SubscriptionDeletion.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"api",label:e.formatMessage({id:"Workflow.SubscriptionDeletion.table.header.API",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"applicationName",label:e.formatMessage({id:"Workflow.SubscriptionDeletion.table.header.Application",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"subscriber",label:e.formatMessage({id:"Workflow.SubscriptionDeletion.table.header.Subscriber",defaultMessage:"Subscriber"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.subscriber,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.SubscriptionDeletion.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.SubscriptionDeletion.search.default",defaultMessage:"Search by API, Application or Subscriber"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Bm({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.List.empty.title.subscriptiondeletions",defaultMessage:"Subscription Deletion"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.List.empty.content.subscriptiondeletions",defaultMessage:"There are no pending workflow requests for subscription deletion."}))),n.createElement(dt.A,null,n.createElement("span",Bm({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Bm({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.SubscriptionDeletion.permission.denied.content",defaultMessage:"You dont have enough permission to view Subscription Deletion - Approval Tasks. Please contact the site administrator."})})};function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qm.apply(null,arguments)}const Wm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_SUBSCRIPTION_UPDATE").then((e=>e.body.list.map((e=>({description:e.description,api:e.properties.apiName+"-"+e.properties.apiVersion,applicationName:e.properties.applicationName,subscriber:e.properties.subscriber,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.SubscriptionUpdate.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Subscription Update"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.SubscriptionUpdate.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.SubscriptionUpdate.updateStatus.has.errors",defaultMessage:"Unable to complete subscription update approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-subscription/advanced-topics/adding-an-api-subscription-tier-update-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.help.link.one",defaultMessage:"Create a subscription update request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.SubscriptionCreation.title.subscriptionupdate",defaultMessage:"Subscription Tier Update - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.SubscriptionUpdate.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"api",label:e.formatMessage({id:"Workflow.SubscriptionUpdate.table.header.API",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"applicationName",label:e.formatMessage({id:"Workflow.SubscriptionUpdate.table.header.Application",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"subscriber",label:e.formatMessage({id:"Workflow.SubscriptionUpdate.table.header.Subscriber",defaultMessage:"Subscriber"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.subscriber,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.SubscriptionUpdate.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.SubscriptionUpdate.search.default",defaultMessage:"Search by API, Application or Subscriber"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,qm({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.List.empty.title.subscriptionUpdate",defaultMessage:"Subscription Update"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.List.empty.content.subscriptionUpdates",defaultMessage:"There are no pending workflow requests for subscription updates."}))),n.createElement(dt.A,null,n.createElement("span",qm({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",qm({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.SubscriptionUpdate.permission.denied.content",defaultMessage:"You dont have enough permission to view Subscription Tier Update - Approval Tasks. Please contact the site administrator."})})};function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zm.apply(null,arguments)}const Gm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),[r,i]=(0,n.useState)(""),[o,l]=(0,n.useState)(null),[s,c]=(0,n.useState)(),[d,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)(null),g=()=>{a(null),new Promise(((t,a)=>{const n=new Be,r=n.workflowsGet("AM_APPLICATION_REGISTRATION_PRODUCTION"),i=n.workflowsGet("AM_APPLICATION_REGISTRATION_SANDBOX");Promise.all([r,i]).then((e=>{const a=e[0].body.list,n=e[1].body.list,r=a.concat(n).map((e=>({description:e.description,applicationName:e.properties.applicationName,applicationTier:e.properties.applicationTier,keyType:e.properties.keyType,userName:e.properties.userName,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties})));t(r)})).catch((t=>{const{status:n}=t;401===n?m(!1):(Dt.error(e.formatMessage({id:"Workflow.RegistrationCreation.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for Registration Creation"})),a(t))}))})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),p(e.message)}))};(0,n.useEffect)((()=>{g()}),[]);const A=(t,a)=>{c(a);const n={status:a,attributes:{},description:""};return l(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),(new Be).updateWorkflow(t,n).then((()=>{l(!1),Dt.success(e.formatMessage({id:"Workflow.RegistrationCreation.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.RegistrationCreation.updateStatus.has.errors",defaultMessage:"Unable to complete registration creation approve/reject process.  "})),a.body.description;return l(!1),null})).then((()=>{g()}))},y={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"consume/manage-application/advanced-topics/adding-an-application-key-generation-workflow/#adding-an-application-key-generation-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.RegistrationCreation.link.one",defaultMessage:"Create a application registration workflow request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.RegistrationCreation.title.registrationcreation",defaultMessage:"Application Registration - Approval Tasks"})},h=[{name:"description",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"applicationName",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.Application",defaultMessage:"Application"}),options:{sort:!1,filter:!0}},{name:"applicationTier",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.ApplicationTier",defaultMessage:"Throttling Policy"}),options:{sort:!1,filter:!0}},{name:"keyType",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.KeyType",defaultMessage:"Key Type"}),options:{sort:!1,filter:!0}},{name:"userName",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.Creater",defaultMessage:"Created by"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.userName,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.RegistrationCreation.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>A(i,"APPROVED"),disabled:o},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.RegistrationCreation.table.button.approve",defaultMessage:"Approve"}),o&&"APPROVED"===s&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>A(i,"REJECTED"),disabled:o},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.RegistrationCreation.table.button.reject",defaultMessage:"Reject"}),o&&"REJECTED"===s&&n.createElement(ut.A,{size:15}))))}}}],M={},C=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),T=e.formatMessage({id:"Workflow.RegistrationCreation.search.default",defaultMessage:"Search by Application, Throttling Policy, Key type or Creator"}),S=[].concat(h),I={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:r,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,zm({},y,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.ApplicationRegistration.List.empty.title.applicationregistrations",defaultMessage:"Application Registration"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.ApplicationRegistration.List.empty.content.applicationregistrations",defaultMessage:"There are no pending workflow requests for application registration (key generation)."}))),n.createElement(dt.A,null,n.createElement("span",zm({updateList:g},M))))):d?u||t?u?n.createElement(ae,y,n.createElement(yt.A,{severity:"error"},u)):n.createElement(n.Fragment,null,n.createElement(ae,y,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:T,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{i(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",zm({updateList:g},M)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:g,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:S,options:I}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},C)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:y,title:n.createElement(b.A,{id:"Workflow.RegistrationCreation.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.RegistrationCreation.permission.denied.content",defaultMessage:"You dont have enough permission to view Application Registration - Approval Tasks. Please contact the site administrator."})})};function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Um.apply(null,arguments)}const Vm=function(e){const t=(0,_.A)(),[a,r]=(0,n.useState)(null),i=new Be,[o,l]=(0,n.useState)(null),[s,c]=(0,n.useState)(),[d,m]=(0,n.useState)(!0),[u,p]=(0,n.useState)(null),{isAPIProduct:g}=e;let A;A=g?"AM_API_PRODUCT_STATE":"AM_API_STATE";const y=()=>{r(null),i.workflowsGet(A).then((e=>e.body.list.map((e=>({description:e.description,api:g?e.properties.apiName:e.properties.apiName+"-"+e.properties.apiVersion,action:e.properties.action,currentState:e.properties.currentState,apiProvider:e.properties.currentState,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((e=>{const{status:a}=e;if(401!==a)throw g?Dt.error(t.formatMessage({id:"Workflow.APIProductStateChange.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for API Product State Change"})):Dt.error(t.formatMessage({id:"Workflow.APIStateChange.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for API State Change"})),e;m(!1)})).then((e=>{r(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),p(e.message)}))};(0,n.useEffect)((()=>{y()}),[]);const h=(e,a)=>{c(a);const n={status:a,attributes:{},description:""};return l(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),i.updateWorkflow(e,n).then((()=>{l(!1),Dt.success(t.formatMessage({id:"Workflow.APIStateChange.update.success",defaultMessage:"Workflow status is updated successfully."}))})).catch((e=>{const{response:a,status:n}=e,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw g?Dt.error(t.formatMessage({id:"Workflow.APIProductStateChange.updateStatus.has.errors",defaultMessage:"Unable to complete API Product state change approve/reject process."})):Dt.error(t.formatMessage({id:"Workflow.APIStateChange.updateStatus.has.errors",defaultMessage:"Unable to complete API state change approve/reject process."})),a.body.description;return l(!1),null})).then((()=>{y()}))},M={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"design/advanced-topics/adding-an-api-state-change-workflow/#adding-an-api-state-change-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.APIStatechange.help.link.one",defaultMessage:"Create a API State change approval workflow request"})}))))),pageStyle:"half",title:g?t.formatMessage({id:"Workflow.APIProductStateChange.title.apistatechange",defaultMessage:"API Product State Change - Approval Tasks"}):t.formatMessage({id:"Workflow.APIStateChange.title.apistatechange",defaultMessage:"API State Change - Approval Tasks"})},[C,T]=(0,n.useState)(""),S=[{name:"description",label:t.formatMessage({id:"Workflow.APIStateChange.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"api",label:t.formatMessage(g?{id:"Workflow.APIProductStateChange.table.header.APIProductName",defaultMessage:"API Product"}:{id:"Workflow.APIStateChange.table.header.APIName",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"action",label:t.formatMessage({id:"Workflow.APIStateChange.table.header.RequestState",defaultMessage:"Request State"}),options:{sort:!1,filter:!0}},{name:"currentState",label:t.formatMessage({id:"Workflow.APIStateChange.table.header.CurrentState",defaultMessage:"Current State"}),options:{sort:!1,filter:!0}},{name:"apiProvider",label:t.formatMessage({id:"Workflow.APIStateChange.table.header.ApiProvider",defaultMessage:"Created by"}),options:{sort:!1,customBodyRender:(e,t)=>{const r=a[t.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.apiProvider,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:t.formatMessage({id:"Workflow.APIStateChange.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,t)=>{const r=a[t.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>h(i,"APPROVED"),disabled:o},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.APIStateChange.table.button.approve",defaultMessage:"Approve"}),o&&"APPROVED"===s&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>h(i,"REJECTED"),disabled:o},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.APIStateChange.table.button.reject",defaultMessage:"Reject"}),o&&"REJECTED"===s&&n.createElement(ut.A,{size:15}))))}}}],I={},x=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),R=g?t.formatMessage({id:"Workflow.apiProduct.statechange.search.default",defaultMessage:"Search by API Product, Request state, Current state or Creator"}):t.formatMessage({id:"Workflow.api.statechange.search.default",defaultMessage:"Search by API, Request state, Current state or Creator"}),k=[].concat(S),O={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:C,textLabels:{body:{noMatch:t.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:t.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:t.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return a&&0===a.length?n.createElement(ae,Um({},M,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},g?n.createElement(b.A,{id:"Workflow.APIProductStateChange.List.empty.title.apistatechange",defaultMessage:"API Product State Change"}):n.createElement(b.A,{id:"Workflow.APIStateChange.List.empty.title.apistatechange",defaultMessage:"API State Change"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},g?n.createElement(b.A,{id:"Workflow.APIProductStateChange.List.empty.content.apiProduct.statechange",defaultMessage:"There are no pending workflow requests for API Product state change"}):n.createElement(b.A,{id:"Workflow.APIStateChange.List.empty.content.apistatechange",defaultMessage:"There are no pending workflow requests for API state change."}))),n.createElement(dt.A,null,n.createElement("span",Um({updateList:y},I))))):d?u||a?u?n.createElement(ae,M,n.createElement(yt.A,{severity:"error"},u)):n.createElement(n.Fragment,null,n.createElement(ae,M,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:R,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{T(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Um({updateList:y},I)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:y,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),a&&a.length>0&&n.createElement(mt.Ay,{title:null,data:a,columns:k,options:O}),a&&0===a.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},x)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:M,title:n.createElement(b.A,{id:"Workflow.ApiStateChange.permission.denied.title",defaultMessage:"Permission Denied"}),content:g?n.createElement(b.A,{id:"Workflow.ApiProduct.StateChange.permission.denied.content",defaultMessage:"You dont have enough permission to view API Product State Change - Approval Tasks. Please contact the site administrator."}):n.createElement(b.A,{id:"Workflow.ApiStateChange.permission.denied.content",defaultMessage:"You dont have enough permission to view API State Change - Approval Tasks. Please contact the site administrator."})})};function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Km.apply(null,arguments)}const Fm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_REVISION_DEPLOYMENT").then((e=>e.body.list.map((e=>({description:e.description,apiName:e.properties.apiName,apiVersion:e.properties.apiVersion,environment:e.properties.environment,revisionId:e.properties.revisionId,userName:e.properties.userName,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.APIRevisionDeployment.apiCall.has.errors",defaultMessage:"Unable to get workflow pending requests for Revision Deployment"})),t;u(!1)})).then((e=>{a(e)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.APIRevisionDeployment.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.APIRevisionDeployment.updateStatus.has.errors",defaultMessage:"Unable to complete revision deployment approve/reject process. "})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"deploy-and-publish/deploy-on-gateway/deploy-api/revision-deployment-workflow",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.help.link.one",defaultMessage:"Create a Revision Deployment approval workflow Request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.APIRevisionDeployment.title.revisiondeployment",defaultMessage:"Revision Deployment - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"apiName",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.apiName",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"apiVersion",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.apiVersion",defaultMessage:"API"}),options:{sort:!1,filter:!0}},{name:"revisionId",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.revisionId",defaultMessage:"Revision Id"}),options:{sort:!1,filter:!0}},{name:"environment",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.environment",defaultMessage:"Environment"}),options:{sort:!1,filter:!0}},{name:"userName",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.userName",defaultMessage:"Created by"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{properties:i}=r,{createdTime:o}=r;pr.extend(Ar());const l=pr(o).fromNow();pr.extend(Tm());const s=pr(o).format("LLL");return n.createElement("div",null,i.userName,n.createElement("br",null),n.createElement(nt.A,{title:s},n.createElement(E.A,{color:"textSecondary",variant:"caption"},l)))}}},{name:"action",label:e.formatMessage({id:"Workflow.APIRevisionDeployment.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.APIRevisionDeployment.search.default",defaultMessage:"Search by Revision Id, API name, Environment or Created by"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,Km({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.List.empty.title.revisiondeployments",defaultMessage:"Revision Deployment"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.List.empty.content.revisiondeployments",defaultMessage:"There are no pending workflow requests for revision deployment."}))),n.createElement(dt.A,null,n.createElement("span",Km({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",Km({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.APIRevisionDeployment.permission.denied.content",defaultMessage:"You do not have enough permission to view Revision Deployment - Approval Tasks. Please contact the site administrator."})})};function _m(){return _m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_m.apply(null,arguments)}const Hm=function(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(),[m,u]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),A=()=>{a(null),r.workflowsGet("AM_USER_SIGNUP").then((e=>e.body.list.map((e=>({description:e.description,tenantAwareUserName:e.properties.tenantAwareUserName,tenantDomain:e.properties.tenantDomain,referenceId:e.referenceId,createdTime:e.createdTime,properties:e.properties}))))).catch((t=>{const{status:a}=t;if(401!==a)throw Dt.error(e.formatMessage({id:"Workflow.UserCreation.apicall.has.errors",defaultMessage:"Unable to get workflow pending requests for User Creation"})),t;u(!1)})).then((e=>{a(e),g(null)})).catch((e=>{console.error("Unable to fetch data. ",e.message),g(e.message)}))};(0,n.useEffect)((()=>{A()}),[]);const y=(t,a)=>{d(a);const n={status:a,attributes:{},description:""};return s(!0),"APPROVED"===a&&(n.description="Approve workflow request."),"REJECTED"===a&&(n.description="Reject workflow request."),r.updateWorkflow(t,n).then((()=>{s(!1),Dt.success(e.formatMessage({id:"Workflow.UserCreation.update.success",defaultMessage:"Workflow status is updated successfully"}))})).catch((t=>{const{response:a,status:n}=t,{body:{description:r}}=a;if(401===n)Dt.error(r);else if(a.body)throw Dt.error(e.formatMessage({id:"Workflow.UserCreation.updateStatus.has.errors",defaultMessage:"Unable to complete User creation approve/reject process."})),a.body.description;return s(!1),null})).then((()=>{A()}))},h={help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav","aria-label":"main mailbox folders"},n.createElement(Je.Ay,{button:!0},n.createElement($e.A,null,n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"reference/customize-product/customizations/adding-a-user-signup-workflow/",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Workflow.UserCreation.help.link.one",defaultMessage:"Create a user self sign up request"})}))))),pageStyle:"half",title:e.formatMessage({id:"Workflow.ListUserCreation.title.usercreation",defaultMessage:"User Creation - Approval Tasks"})},M=[{name:"description",label:e.formatMessage({id:"Workflow.UserCreation.table.header.Description",defaultMessage:"Description"}),options:{sort:!1,display:!1}},{name:"tenantAwareUserName",label:e.formatMessage({id:"Workflow.UserCreation.table.header.TenantName",defaultMessage:"User Name"}),options:{sort:!1,filter:!0}},{name:"tenantDomain",label:e.formatMessage({id:"Workflow.UserCreation.table.header.TenantDomain",defaultMessage:"Tenant Domain"}),options:{sort:!1,filter:!0}},{name:"elapsed time",label:e.formatMessage({id:"Workflow.UserCreation.table.header.ElapsedTime",defaultMessage:"Elapsed time"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{createdTime:i}=r;pr.extend(Ar());const o=pr(i).fromNow();pr.extend(Tm());const l=pr(i).format("LLL");return n.createElement("div",null,n.createElement(nt.A,{title:l},n.createElement(E.A,{color:"textPrimary",variant:"h7"},o)))}}},{name:"action",label:e.formatMessage({id:"Workflow.UserCreation.table.header.Action",defaultMessage:"Action"}),options:{sort:!1,customBodyRender:(e,a)=>{const r=t[a.rowIndex],{referenceId:i}=r;return n.createElement("div",null,n.createElement(w.A,{component:"span",m:1},n.createElement(P.A,{color:"success",variant:"contained",size:"small",onClick:()=>y(i,"APPROVED"),disabled:l},n.createElement(Sm.A,null),n.createElement(b.A,{id:"Workflow.UserCreation.table.button.approve",defaultMessage:"Approve"}),l&&"APPROVED"===c&&n.createElement(ut.A,{size:15})),"  ",n.createElement(P.A,{color:"error",variant:"contained",size:"small",onClick:()=>y(i,"REJECTED"),disabled:l},n.createElement(Al.default,null),n.createElement(b.A,{id:"Workflow.UserCreation.table.button.reject",defaultMessage:"Reject"}),l&&"REJECTED"===c&&n.createElement(ut.A,{size:15}))))}}}],C={},T=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),S=e.formatMessage({id:"Workflow.ListUserCreation.search.default",defaultMessage:"Search by user name or domain"}),I=[].concat(M),x={filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:i,textLabels:{body:{noMatch:e.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:e.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:e.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return t&&0===t.length?n.createElement(ae,_m({},h,{pageStyle:"small"}),n.createElement(ne.A,null,n.createElement(re.A,null,n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"Workflow.UserCreation.List.empty.title.usercreations",defaultMessage:"User Creation"})),n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"Workflow.UserCreation.List.empty.content.usercreations",defaultMessage:"There are no workflow pending requests for user creation.It is possible to approve or reject workflow pending requests of user sign up. Workflow Approval Executor needs to be enabled to approve or reject the requests. "}))),n.createElement(dt.A,null,n.createElement("span",_m({updateList:A},C))))):m?p||t?p?n.createElement(ae,h,n.createElement(yt.A,{severity:"error"},p)):n.createElement(n.Fragment,null,n.createElement(ae,h,n.createElement(ot.A,{position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:S,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},onChange:e=>{o(e.target.value)}})),n.createElement(v.Ay,{item:!0},n.createElement("span",_m({updateList:A},C)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBase.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:A,size:"large"},n.createElement(ct.A,{color:"inherit"}))))))),t&&t.length>0&&n.createElement(mt.Ay,{title:null,data:t,columns:I,options:x}),t&&0===t.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},T)))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:h,title:n.createElement(b.A,{id:"Workflow.UserCreation.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Workflow.UserCreation.permission.denied.content",defaultMessage:"You dont have enough permission to view User Creation - Approval Tasks. Please contact the site administrator."})})};var Zm=a(10719),Ym=a(90082),Xm=a(53274),Qm=a(98984),Jm=a(82299);const $m={fullHeight:{height:"100%"},tableRow:e=>({height:e.spacing(5),"& td":{padding:e.spacing(.5),paddingLeft:e.spacing(2)}}),appOwner:{pointerEvents:"none"},appName:{"& a":{color:"#1b9ec7 !important"}},button:{marginLeft:.5,marginRight:.5,marginTop:1},appTablePaper:e=>({"& table tr td":{paddingLeft:e.spacing(1)},"& table tr td:first-child, & table tr th:first-child":{paddingLeft:e.spacing(2)},"& table tr td button.Mui-disabled span.material-icons":{color:e.palette.action.disabled}}),tableCellWrapper:{"& td":{"word-break":"break-all","white-space":"normal"}},tableActionBtnContainer:{display:"flex",flexDirection:"row",alignItems:"left",justifyContent:"left"},textfield:{maxHeight:"10px",marginTop:"-5px",maxWidth:"120px"}},eu=(0,k.Ay)(la.A)((e=>{let{theme:t}=e;return{head:{backgroundColor:t.palette.common.black,color:t.palette.common.white},body:{fontSize:14},root:{"&:first-of-type":{paddingLeft:t.spacing(2)}}}})),tu=(0,k.Ay)(oa.A)((e=>{let{theme:t}=e;return{root:{"&:nth-of-type(odd)":{backgroundColor:t.palette.background.default}}}})),au=(0,k.Ay)("div")({}),nu=e=>{let{apis:t,updateApiList:a}=e;const r=new Be,[i,o]=(0,n.useState)(""),[l,s]=(0,n.useState)(null),c=()=>{s(null),o("")};return n.createElement(da.A,{sx:$m.fullHeight},t&&t.map((e=>n.createElement(tu,{sx:$m.tableRow,key:e.id},n.createElement(eu,{align:"left"},e.name),n.createElement(eu,{align:"left"},n.createElement(au,null,e.version)),n.createElement(eu,{align:"left"},l!==e.id&&n.createElement(au,null,e.provider,n.createElement(V.A,{color:"primary",onClick:()=>{return t=e.id,a=e.provider,s(t),void o(a);var t,a}},n.createElement(At.A,{"aria-label":"edit-api-settings"}))),l===e.id&&n.createElement(au,{sx:$m.tableActionBtnContainer},n.createElement(lt.A,{id:"standard-basic",label:n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.provider.label",defaultMessage:"Provider Name"}),variant:"standard",size:"small",value:i,sx:$m.textfield,onChange:e=>{o(e.target.value)}}),n.createElement(V.A,{color:"primary",onClick:()=>{return t=e.id,""===i.trim()?Dt.error(n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.error",defaultMessage:"API provider should not be empty."})):r.updateApiProvider(t,i.trim()).then((()=>Dt.success(n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.successful",defaultMessage:"API provider changed successfully"})))).catch((e=>{var t,a,r;const{response:i}=e;return 901502===(null==i||null===(t=i.body)||void 0===t?void 0:t.code)||901500===(null==i||null===(a=i.body)||void 0===a?void 0:a.code)?Dt.error(n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.other.error",defaultMessage:"Given Username is not valid."})):901300===(null==i||null===(r=i.body)||void 0===r?void 0:r.code)?Dt.error(n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.user.notvalid",defaultMessage:"Given Tenant name is not valid."})):Dt.error(n.createElement(b.A,{id:"AdminPages.ApiSettings.EditApi.form.edit.user.notvalid",defaultMessage:"Error while updating the provider name."}))})).finally((()=>{a(),c()}));var t}},n.createElement(Qm.A,{"aria-label":"edit-api-settings"})),n.createElement(V.A,{onClick:c},n.createElement(Jm.A,{"aria-label":"edit-api-settings"}))))))))};nu.propTypes={apis:i().instanceOf(Map).isRequired};const ru=nu,iu=e=>{const t=[{id:"name",numeric:!1,disablePadding:!0,label:n.createElement(b.A,{id:"Apis.Listing.apiTableHead.name",defaultMessage:"Name"}),sorting:!0,width:200},{id:"version",numeric:!1,disablePadding:!0,label:n.createElement(b.A,{id:"Apis.Listing.apiTableHead.version",defaultMessage:"Version"}),sorting:!0,width:100},{id:"provider",numeric:!1,disablePadding:!1,label:n.createElement(b.A,{id:"Apis.Listing.apiTableHead.provider",defaultMessage:"Provider"}),sorting:!0,width:130}],{order:a,orderBy:r}=e;return n.createElement(ca.A,null,n.createElement(oa.A,null,t.map((t=>{return n.createElement(la.A,{key:t.id,align:"left",sortDirection:r===t.id&&a,width:t.width,style:{marginLeft:50}},t.sorting?n.createElement(vn.A,{active:r===t.id,direction:a,onClick:(i=t.id,t=>{e.onRequestSort(t,i)})},t.label):t.label);var i}))))};iu.propTypes={onRequestSort:i().func.isRequired,order:i().string.isRequired,orderBy:i().string.isRequired};const ou=iu,lu={searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},addUser:{marginRight:1}};function su(){const e=(0,_.A)(),[t,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(0),[s,c]=(0,n.useState)(10),[d,m]=(0,n.useState)(0),[u,p]=(0,n.useState)("");function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return a(!0),(new Be).getApiList({limit:s,offset:e*s,query:t}).then((e=>{i(e.body.apis);const{pagination:{total:t}}=e.body;return l(t),e.body.apis})).catch((e=>{throw e})).finally((()=>{a(!1)}))}function f(){m(0),p(""),g(d,"").then((e=>{i(e)}))}return(0,n.useEffect)((()=>{g(d).then((e=>{i(e)}))}),[d]),(0,n.useEffect)((()=>{g(d).then((e=>{i(e)}))}),[s]),n.createElement(ae,{title:e.formatMessage({defaultMessage:"Change API Provider",id:"Apis.Listing.Listing.title"})},n.createElement(ot.A,{sx:lu.searchBar,position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement("form",{onSubmit:function(e){e.preventDefault(),m(0),g(d).then((e=>{i(e)}))},style:{width:"100%"},disabled:t},n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},n.createElement(st.default,{sx:lu.block,color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0,sx:{display:"flex",alignItems:"center"}},n.createElement(lt.A,{hiddenLabel:!0,fullWidth:!0,variant:"standard",id:"search-label",placeholder:e.formatMessage({defaultMessage:"Search by API Name",id:"Apis.Listing.Listing.search.placeholder"}),sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},value:u,onChange:function(e){const t=e.target.value;""===t?f():p(t)}}),u.length>0&&n.createElement(nt.A,{title:e.formatMessage({defaultMessage:"Clear Search",id:"Apis.Listing.Listing.clear.search"})},n.createElement(V.A,{"aria-label":"delete",onClick:f},n.createElement(Tn.A,null)))),n.createElement(v.Ay,{item:!0},n.createElement(P.A,{variant:"contained",sx:lu.addUser,type:"submit",disabled:t},t?n.createElement(b.A,{id:"Apis.Listing.Listing.apis.searching",defaultMessage:"Searching"}):n.createElement(b.A,{id:"Apis.Listing.Listing.apis.search",defaultMessage:"Search"}))))))),r&&r.length>0&&n.createElement(sa.A,{id:"itest-api-list-table"},n.createElement(ou,null),n.createElement(ru,{apis:r,page:d,rowsPerPage:s,editComponentProps:{apiList:r},updateApiList:g}),n.createElement(wn.A,null,n.createElement(oa.A,null,n.createElement(Cn.A,{component:"td",count:o,rowsPerPage:s,rowsPerPageOptions:[5,10,15],labelDisplayedRows:t=>{let{from:a,to:n,count:r}=t;return-1!==r?e.formatMessage({id:"Applications.Listing.apis.list.rows.range.label",defaultMessage:"{from}-{to} of {count}"},{from:a,to:n,count:r}):e.formatMessage({id:"Applications.Listing.apis.list.rows.more.than.label",defaultMessage:"more than {to}"},{to:n})},labelRowsPerPage:e.formatMessage({id:"Applications.Listing.apis.list.rows.show.label",defaultMessage:"Show"}),page:d,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){m(t),g(t).then((e=>{i(e)}))},onRowsPerPageChange:function(e){const t=e.target.value,a=s/t,n=Math.floor(d*a);m(n),c(t),g(d).then((e=>{i(e)}))}})))),r&&0===r.length&&!t&&n.createElement(w.A,null,n.createElement(yt.A,{severity:"info"},n.createElement(E.A,{variant:"subtitle2"},n.createElement(b.A,{id:"Apis.Listing.Listing.empty.message",defaultMessage:"No Data to Display"})))))}var cu=a(75737),du=a(601),mu=a(69404),uu=a(310);function pu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(a),!0).forEach((function(t){fu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fu(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Au={card:{display:"flex",flexDirection:"column",padding:2},cardContent:{marginTop:2,marginBottom:2,marginLeft:2},datePicker:{marginLeft:2},downloadButton:{marginBottom:2,marginLeft:2},loadingIndicator:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}};uu.KQ.register({family:"Roboto",fonts:[{src:"https://fonts.gstatic.com/s/roboto/v16/zN7GBFwfMP4uA6AR0HCoLQ.ttf"},{src:"https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAw.ttf",fontWeight:"bold"}]});const yu="#282828",Eu="#F5F5F5",hu=uu.vv.create({page:{padding:40,fontSize:12,fontFamily:"Roboto",color:yu},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:30,borderBottom:"2px solid ".concat(Eu),paddingBottom:10},logo:{height:"auto",width:120},title:{fontSize:24,fontWeight:"bold",color:"#FF7300"},table:{display:"flex",flexDirection:"column",marginTop:20,width:"100%",border:"1px solid ".concat(Eu),borderRadius:5,overflow:"hidden"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:10,borderBottom:"1px solid ".concat(Eu)},labelColumn:{width:"40%",textAlign:"left",fontSize:12,fontWeight:"bold",padding:"5px 10px",color:yu},valueColumn:{width:"60%",textAlign:"left",fontSize:12,padding:"5px 10px",color:yu},alternateRow:{backgroundColor:"#FCAB68"},alternateRow2:{backgroundColor:"#FFE0B2"},alternateRow3:{backgroundColor:Eu},reportContent:{backgroundColor:"#F7F7F7",borderRadius:5,marginBottom:10},footer:{position:"absolute",bottom:20,left:30,right:30,borderTop:"1px solid ".concat(Eu),paddingTop:10,fontSize:10,textAlign:"center"}}),bu=e=>{let{startDate:t,endDate:a,totalTransactions:r}=e;return n.createElement(uu.yo,null,n.createElement(uu.YW,{style:hu.page},n.createElement(uu.Ss,{style:hu.header},n.createElement(uu._V,{alt:"WSO2 Logo",src:f().app.context+"/site/public/images/wso2_logo.png",style:hu.logo}),n.createElement(uu.Ss,null,n.createElement(uu.EY,{style:hu.title},"Usage Report"))),n.createElement(uu.Ss,{style:hu.table},n.createElement(uu.Ss,{style:[hu.row,hu.alternateRow2]},n.createElement(uu.EY,{style:hu.labelColumn},"Report generated on :"),n.createElement(uu.EY,{style:hu.valueColumn},(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})," ",(new Date).toLocaleTimeString("en-GB"))),n.createElement(uu.Ss,{style:[hu.row,hu.alternateRow3]},n.createElement(uu.EY,{style:hu.labelColumn},"Reporting period :"),n.createElement(uu.EY,{style:hu.valueColumn},new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})," ","to"," ",new Date(a).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}))),n.createElement(uu.Ss,{style:[hu.row,hu.alternateRow]},n.createElement(uu.EY,{style:hu.labelColumn},"Total transaction count :"),n.createElement(uu.EY,{style:hu.valueColumn},r))),n.createElement(uu.EY,{style:hu.footer},(new Date).getFullYear()," ","WSO2 LLC. All Rights Reserved. | Report generated on"," ",(new Date).toLocaleDateString("en-GB"))))};function vu(){const[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(0),[i]=n.useState(gr()().subtract(1,"month")),[o]=n.useState(gr()()),[l,s]=(0,n.useState)(i),[c,d]=(0,n.useState)(o),m=()=>{t(!0),l&&c&&(new Be).getTransactionCount({startTime:l.unix().toString(),endTime:c.unix().toString()}).then((e=>{r(e.body.count)})).catch((e=>{throw console.error("Error fetching transaction count:",e),e})).finally((()=>{t(!1)}))};(0,n.useEffect)((()=>{i&&o&&m()}),[i,o]);const u=e=>e.isAfter(gr()());return n.createElement(ae,{title:n.createElement(b.A,{id:"Settings.UsageReport.title",defaultMessage:"Usage Report"})},n.createElement(v.Ay,{container:!0,sx:Au.card},n.createElement(v.Ay,{item:!0},n.createElement(cu.$,{dateAdapter:du.R},n.createElement(mu.l,{label:"Start Date",value:l,onChange:e=>s(e),shouldDisableDate:e=>u(e)||(e=>o&&e.isAfter(o,"day"))(e)}),n.createElement(mu.l,{label:"End Date",value:c,onChange:e=>d(e),shouldDisableDate:e=>u(e)||(e=>i&&e.isBefore(i,"day"))(e),sx:Au.datePicker}))),n.createElement(v.Ay,{item:!0},n.createElement(w.A,{sx:gu(gu({},Au.cardContent),{},{marginLeft:0})},e?n.createElement(w.A,{sx:Au.loadingIndicator},n.createElement(ut.A,null)):n.createElement(n.Fragment,null,n.createElement(E.A,{variant:"h6",sx:{textAlign:"left"}},n.createElement(b.A,{id:"TransactionList.total.transactions",defaultMessage:"Total Transaction Count : "}),a))),n.createElement(w.A,{sx:{display:"flex",alignItems:"center",marginTop:2,gap:2}},n.createElement(P.A,{variant:"contained",color:"primary",onClick:m},n.createElement(b.A,{id:"TransactionList.view.report",defaultMessage:"View"})),n.createElement(uu.XP,{document:n.createElement(bu,{startDate:l,endDate:c,totalTransactions:a}),fileName:"usage_report.pdf",style:{textDecoration:"none"}},n.createElement(P.A,{variant:"contained",color:"primary",disabled:e},n.createElement(b.A,{id:"TransactionList.download.report",defaultMessage:"Download Report"})))))))}function Mu(e){let{updateList:t,dataRow:a}=e;const{id:r,noOfApis:i}=a,o=(0,_.A)();return n.createElement(Bt,{title:o.formatMessage({id:"AdminPages.Labels.Delete.form.delete.title",defaultMessage:"Delete Label?"}),saveButtonText:o.formatMessage({id:"AdminPages.Labels.Delete.form.delete.btn",defaultMessage:"Delete"}),icon:n.createElement(Jt.A,null),formSaveCallback:()=>{const e=(()=>{let e="";return i>0&&(e+="Unable to delete the Label. It is attached to API(s)"),e})();return""!==e?(Dt.error(e),!1):(new Be).deleteLabel(r).then((()=>n.createElement(b.A,{id:"AdminPages.Labels.Delete.form.delete.successful",defaultMessage:"Label deleted successfully"}))).catch((e=>{throw e.response.body.description})).finally((()=>{t()}))}},n.createElement(Tt.A,null,n.createElement(b.A,{id:"AdminPages.Labels.Delete.form.delete.content",defaultMessage:"Are you sure you want to delete this Label?"})))}Mu.propTypes={updateList:i().number.isRequired,dataRow:i().shape({id:i().number.isRequired,noOfApis:i().number}).isRequired};const Pu=Mu;function wu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Cu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(a),!0).forEach((function(t){Tu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Tu(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Su=(0,k.Ay)("span")((e=>{let{theme:t}=e;return{color:t.palette.error.dark}}));function Iu(e,t){let{field:a,value:n}=t;switch(a){case"name":case"description":return Cu(Cu({},e),{},{[a]:n});case"editDetails":return n;default:return e}}function xu(e){const{updateList:t,dataRow:a,icon:r,triggerButtonText:i,title:o}=e,l=(0,_.A)(),[s,c]=(0,n.useState)(!1),[d,m]=(0,n.useReducer)(Iu,""),{name:u,description:p}=d,g=e=>{m({field:e.target.name,value:e.target.value})},f=(e,t)=>{let a;switch(e){case"name":if(void 0===t){a=!1;break}a=""===t?l.formatMessage({id:"AdminPages.Labels.AddEdit.form.error.name.empty",defaultMessage:"Name is Empty"}):t.length>255?l.formatMessage({id:"AdminPages.Labels.AddEdit.form.error.name.too.long",defaultMessage:"Label name is too long"}):/\s/.test(t)?l.formatMessage({id:"AdminPages.Labels.AddEdit.form.error.name.has.spaces",defaultMessage:"Name contains spaces"}):!!/[!@#$%^&*(),?"{}[\]|<>\t\n]/i.test(t)&&l.formatMessage({id:"AdminPages.Labels.AddEdit.form.error.name.has.special.chars",defaultMessage:"Name field contains special characters"});break;case"description":t&&t.length>1024&&(a=l.formatMessage({id:"AdminPages.Labels.AddEdit.form.error.description.too.long",defaultMessage:"Label description is too long"}))}return a};return n.createElement(Bt,{title:o,saveButtonText:l.formatMessage({id:"AdminPages.Labels.AddEdit.form.save.btn",defaultMessage:"Save"}),icon:r,triggerButtonText:i,formSaveCallback:()=>{const e=(()=>{let e,t,a="";return void 0===u?(m({field:"name",value:""}),e=f("name","")):e=f("name",u),e&&(a+=e+"\n"),void 0!==p&&(t=f("description",p)),t&&(a+=t+"\n"),a})();if(""!==e)return Dt.error(e),!1;const n=new Be;let r;return r=a?n.updateLabel(a.id,u,p):n.createLabel(u,p),r.then((()=>a?l.formatMessage({id:"AdminPages.Labels.AddEdit.form.edit.successful",defaultMessage:"Label edited successfully"}):l.formatMessage({id:"AdminPages.Labels.AddEdit.form.add.successful",defaultMessage:"Label added successfully"}))).catch((e=>{const{response:t}=e;if(t.body)throw t.body.description})).finally((()=>{t()}))},dialogOpenCallback:()=>{if(a){const{name:e,description:t}=a;c(!0),m({field:"editDetails",value:{name:e,description:t}})}}},n.createElement(lt.A,{autoFocus:!0,margin:"dense",name:"name",value:u,onChange:g,label:n.createElement("span",null,n.createElement(b.A,{id:"AdminPages.Labels.AddEdit.form.name",defaultMessage:"Name"}),n.createElement(Su,null,"*")),fullWidth:!0,error:f("name",u),helperText:f("name",u)||l.formatMessage({id:"AdminPages.Labels.AddEdit.form.name.helper.text",defaultMessage:"Name of the Label"}),variant:"outlined",disabled:s}),n.createElement(lt.A,{margin:"dense",name:"description",value:p,onChange:g,label:l.formatMessage({id:"AdminPages.Labels.AddEdit.form.description",defaultMessage:"Description"}),fullWidth:!0,multiline:!0,error:f("description",p),helperText:f("description",p)||l.formatMessage({id:"AdminPages.Labels.AddEdit.form.description.helper.text",defaultMessage:"Description of the Label"}),variant:"outlined"}))}xu.defaultProps={icon:null,dataRow:null},xu.propTypes={updateList:i().func.isRequired,dataRow:i().shape({id:i().string.isRequired,description:i().string.isRequired,name:i().string.isRequired}),icon:i().element,triggerButtonText:i().oneOfType([i().element.isRequired,i().string.isRequired]).isRequired,title:i().shape({}).isRequired};const Ru=xu,ku={searchInput:e=>({fontSize:e.typography.fontSize}),block:{display:"block"},contentWrapper:e=>({margin:e.spacing(2)}),approveButton:e=>({textDecoration:"none",backgroundColor:e.palette.success.light}),rejectButton:e=>({textDecoration:"none",backgroundColor:e.palette.error.light}),pageTitle:{minHeight:43,backgroundColor:"#f6f6f6"}},Ou=(0,k.Ay)("div")({});function Du(e){const t=(0,_.A)(),a=new Be,[r,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),[s,c]=(0,n.useState)(null),{id:d}=e;(0,n.useEffect)((()=>{(async()=>{const e=await async function(){return a.getLabelApiUsages(d).then((e=>e.body)).catch((e=>{const{status:a}=e;if(401!==a)throw Dt.error(t.formatMessage({id:"Labels.ListLabelsAPIUsages.error",defaultMessage:"Unable to get Label API usage details"})),e;l(!1)}))}();e?i(e.apis):c("Unable to fetch data")})()}),[]);const m={pageStyle:"half",title:t.formatMessage({id:"Labels.AddEditLabel.usages",defaultMessage:"Label Usage"})},u=[{name:"name",label:t.formatMessage({id:"Api.Name",defaultMessage:"API Name"}),options:{sort:!1,filter:!0}},{name:"version",label:t.formatMessage({id:"Api.Version",defaultMessage:"Version"}),options:{sort:!1,filter:!0}},{name:"provider",label:t.formatMessage({id:"Api.Provider",defaultMessage:"Provider"}),options:{sort:!1,filter:!0}}],p=n.createElement(b.A,{id:"AdminPages.Addons.ListBase.nodata.message",defaultMessage:"No items yet"}),g=[].concat(u),f={selectableRows:"none",filter:!1,search:!0,print:!1,download:!1,viewColumns:!1,customToolbar:!1,responsive:"stacked",textLabels:{toolbar:{search:t.formatMessage({id:"Mui.data.table.search.icon.label",defaultMessage:"Search"})},body:{noMatch:t.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:t.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:t.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}}};return o?s||r?s?n.createElement(ae,m,n.createElement(yt.A,{severity:"error"},s)):n.createElement(n.Fragment,null,n.createElement(v.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{position:"relative"},r.count>0?n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},1===r.count?t.formatMessage({id:"Labels.ListLabelUsages.API.usages.count.one",defaultMessage:"1 API is using this Label specifically."}):t.formatMessage({id:"Labels.ListLabelUsages.API.usages.count.multiple",defaultMessage:"{count} APIs are using this label specifically"},{count:r.count})))),n.createElement(w.A,{mt:4,backgroundColor:"black"}),n.createElement(w.A,{pl:2},n.createElement(h.A,null,r&&r.list.length>0&&n.createElement(mt.Ay,{title:null,data:r.list,columns:g,options:f}),r&&0===r.list.length&&n.createElement(Ou,{sx:ku.contentWrapper},n.createElement(E.A,{color:"textSecondary",align:"center"},p))))):n.createElement(v.Ay,{item:!0,xs:12},n.createElement(w.A,{pl:2},n.createElement(E.A,{variant:"h8",gutterBottom:!0},n.createElement(b.A,{id:"Labels.AddEditLabel.api.no.usages",defaultMessage:"No API usages for this Label specifically."})))))))):n.createElement(ae,{pageStyle:"paperLess"},n.createElement(ft,null)):n.createElement(Uo,{pageProps:m,title:n.createElement(b.A,{id:"Labels.ListLabelUsages.permission.denied.title",defaultMessage:"Permission Denied"}),content:n.createElement(b.A,{id:"Labels.ListLabelUsages.permission.denied.content",defaultMessage:"You dont have enough permission to view Label Usages. Please contact the site administrator."})})}Du.propTypes={id:i().string.isRequired,name:i().string.isRequired,dialogOpen:i().bool.isRequired,closeDialog:i().func.isRequired};const Lu=Du;function Nu(){return(new Be).labelsListGet().then((e=>e.body.list)).catch((e=>{throw e}))}const Bu=e=>{let{children:t}=e;return n.createElement(w.A,{sx:{maxWidth:"200px"}},n.createElement(E.A,{noWrap:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t))};function ju(){const e=(0,_.A)(),[t,a]=(0,n.useState)(null),[r,i]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),s=()=>{a(null),l(!1)},c=[{name:"id",options:{display:!1}},{name:"name",label:e.formatMessage({id:"AdminPages.Labels.table.header.label.name",defaultMessage:"Label Name"}),options:{filter:!0,sort:!0,customBodyRender:e=>n.createElement(Bu,null,e)}},{name:"description",label:e.formatMessage({id:"AdminPages.Labels.table.header.label.description",defaultMessage:"Description"}),options:{filter:!0,sort:!1}},{name:"usage",label:e.formatMessage({id:"AdminPages.Labels.table.header.label.usage",defaultMessage:"Usage"}),options:{customBodyRender:(e,t)=>{if("object"==typeof t.rowData){const e=t.rowData[0],r=t.rowData[1];return n.createElement(V.A,{onClick:()=>((e,t)=>{a(e),i(t),l(!0)})(e,r)},n.createElement(dr.A,{"aria-label":"label-usage-icon"}))}return n.createElement("div",null)}}}],d={triggerButtonText:e.formatMessage({id:"AdminPages.Labels.List.addButtonProps.triggerButtonText",defaultMessage:"Add Label"}),title:e.formatMessage({id:"AdminPages.Labels.List.addButtonProps.title",defaultMessage:"Add Label"})},m={searchPlaceholder:e.formatMessage({id:"AdminPages.Labels.List.search.default",defaultMessage:"Search by Label name"}),active:!0},u={pageStyle:"half",title:e.formatMessage({id:"AdminPages.Labels.List.title.labels",defaultMessage:"Labels"})},p={content:n.createElement(E.A,{variant:"body2",color:"textSecondary",component:"p"},n.createElement(b.A,{id:"AdminPages.Labels.List.empty.content.labels",defaultMessage:"Labels help you organize and group your artifacts, such as APIs, in a simple and flexible way. You can define labels to tag your artifacts based on usecases, categories, domains, or any criteria you choose."})),title:n.createElement(E.A,{gutterBottom:!0,variant:"h5",component:"h2"},n.createElement(b.A,{id:"AdminPages.Labels.List.empty.title.labels",defaultMessage:"Labels"}))};return n.createElement(n.Fragment,null,n.createElement(St.A,{open:o,onClose:s,maxWidth:"md",fullWidth:!0},n.createElement(Rt.A,null,n.createElement(b.A,{id:"AdminPages.Labels.Usages.dialog.title",defaultMessage:"Labels Usages - "})," ",r),n.createElement(xt.A,null,n.createElement(Lu,{id:t})),n.createElement(It.A,null,n.createElement(P.A,{onClick:s},n.createElement(b.A,{id:"AdminPages.Labels.Usages.dialog.close.btn",defaultMessage:"Close"})))),n.createElement(wt,{columProps:c,pageProps:u,addButtonProps:d,searchProps:m,emptyBoxProps:p,apiCall:Nu,EditComponent:Ru,editComponentProps:{icon:n.createElement(At.A,null),title:"Edit Label"},DeleteComponent:Pu}))}var qu=a(14876);const Wu=e=>{let{data:t,height:a,width:r,colors:i}=e;const o=(0,O.A)(),l=t.some((e=>e.value>0)),s=i||[o.palette.charts.success,o.palette.charts.error,"grey"];return l?n.createElement(w.A,{sx:{width:"100%",display:"flex",justifyContent:"center"}},n.createElement(qu.r,{colors:s,series:[{data:t,valueFormatter:()=>"",innerRadius:50,outerRadius:100,paddingAngle:5,cornerRadius:5,cx:100,startAngle:90,endAngle:-270}],width:r,height:a})):n.createElement(w.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:a,width:"100%"}},n.createElement(E.A,{color:"text.secondary"},"No data available"))};Wu.propTypes={data:i().arrayOf(i().shape({id:i().oneOfType([i().string,i().number]).isRequired,value:i().number.isRequired,label:i().string.isRequired})).isRequired,height:i().number,width:i().number,colors:i().arrayOf(i().string)},Wu.defaultProps={height:200,width:400,colors:null};const zu=Wu;var Gu=a(87458);function Uu(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vu(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ku.apply(null,arguments)}function Fu(e){return function(e){if(Array.isArray(e))return _u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _u(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function Hu(e){const{EditComponent:t,editComponentProps:a,DeleteComponent:r,showActionColumn:i,columProps:o,pageProps:l,addButtonProps:s,addButtonOverride:c,searchProps:{active:d,searchPlaceholder:m},apiCall:u,initialData:p,emptyBoxProps:{title:g,content:f},noDataMessage:A,addedActions:y,enableCollapsable:h,renderExpandableRow:P,useContentBase:w}=e,[C,T]=(0,n.useState)(""),[S,I]=(0,n.useState)(""),[x,R]=(0,n.useState)(p||null),[k,O]=(0,n.useState)(null),[D,L]=(0,n.useState)(0),[N,B]=(0,n.useState)(0),[j,q]=(0,n.useState)(5),W=(0,_.A)(),z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:D,rowsPerPage:j,query:C};if(p)R(p);else{if(R(null),u){const t={limit:e.rowsPerPage,offset:e.page*e.rowsPerPage,query:e.query};u(t).then((e=>{e?(R(e.list),B(e.pagination.total),O(null)):O(W.formatMessage({id:"AdminPages.Addons.ListBaseWithPagination.noDataError",defaultMessage:"Error while retrieving data."}))})).catch((e=>{O(e.message)}))}T(""),I("")}};(0,n.useEffect)((()=>{p||z()}),[]),(0,n.useEffect)((()=>{R(p)}),[p]),(0,n.useLayoutEffect)((()=>{let e;const t=document.getElementsByClassName("MuiTableSortLabel-root"),a=document.getElementsByClassName("MuiTable-root");for(e=0;e<t.length;e++)t[e].setAttribute("aria-label","sort-icon-button-".concat(e));a.length>1&&a[1].setAttribute("role","presentation")}));let G=[];o&&(G=Fu(o)),i&&G.push({name:"",label:n.createElement(b.A,{id:"Throttling.Advanced.AddEdit.form.actions.label",defaultMessage:"Actions"}),options:{filter:!1,sort:!1,customBodyRender:(e,i)=>{const o=x[i.rowIndex],l="object"==typeof i.rowData?i.rowData[0]:"";if(a&&a.routeTo){if("object"==typeof i.rowData){const e=i.rowData[i.rowData.length-2],t="AI API Quota"===i.rowData[1];return n.createElement("div",{style:{display:"flex",gap:"4px"},"data-testid":"".concat(l,"-actions")},n.createElement(M.N_,{to:{pathname:a.routeTo+e,state:{isAI:t}}},n.createElement(V.A,{color:"primary",component:"span",size:"large"},n.createElement(At.A,{"aria-label":"edit-policies+".concat(e)}))),r&&n.createElement(r,{dataRow:o,updateList:z}),y&&y.map((e=>{const t=e;return n.createElement(t,{rowData:i.rowData,updateList:z})})))}return n.createElement("div",null)}return n.createElement("div",{style:{display:"flex",gap:"4px"},"data-testid":"".concat(l,"-actions")},t&&n.createElement(t,Ku({dataRow:o,updateList:z},a)),r&&n.createElement(r,{dataRow:o,updateList:z}),y&&y.map((e=>{const t=e;return n.createElement(t,{rowData:i.rowData,updateList:z})})))},setCellProps:()=>({style:{width:150}})}});const U=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(a),!0).forEach((function(t){Vu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Uu(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({filterType:"checkbox",selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,customToolbar:null,responsive:"vertical",searchText:C,rowsPerPageOptions:[5,10,25,50,100],onColumnSortChange:(e,t)=>{const a=Fu(x).sort(((e,t,a)=>{const n=t=>t[e];return t=t?-1:1,(e,a)=>{const r=n(e),i=n(a);return t*((r>i)-(i>r))}})(e,"descending"===t));R(a)},textLabels:{body:{noMatch:W.formatMessage({id:"Mui.data.table.search.no.records.found",defaultMessage:"Sorry, no matching records found"})},pagination:{rowsPerPage:W.formatMessage({id:"Mui.data.table.pagination.rows.per.page",defaultMessage:"Rows per page:"}),displayRows:W.formatMessage({id:"Mui.data.table.pagination.display.rows",defaultMessage:"of"})}},expandableRows:h,renderExpandableRow:P,serverSide:!0,count:N,rowsPerPage:j,page:D,onChangePage:e=>{L(e),z({page:e,rowsPerPage:j,query:C})},onChangeRowsPerPage:e=>{q(e),L(0),z({page:0,rowsPerPage:e,query:C})}},e.options);if(!u&&!p||x&&0===x.length){const e=n.createElement(ne.A,null,n.createElement(re.A,null,g,f),n.createElement(dt.A,null,c||t&&n.createElement(t,Ku({updateList:z},s))));return w?n.createElement(ae,Ku({},l,{pageStyle:"small"}),e):e}if(!k&&u&&!x){const e=n.createElement(ft,null);return w?n.createElement(ae,{pageStyle:"paperLess"},e):e}if(k){const e=n.createElement(yt.A,{severity:"error"},k);return w?n.createElement(ae,l,e):e}const K=n.createElement(n.Fragment,null,(d||s)&&n.createElement(ot.A,{sx:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},position:"static",color:"default",elevation:0},n.createElement(F.A,null,n.createElement(v.Ay,{container:!0,spacing:2,alignItems:"center"},n.createElement(v.Ay,{item:!0},d&&n.createElement(st.default,{sx:{display:"block"},color:"inherit"})),n.createElement(v.Ay,{item:!0,xs:!0},d&&n.createElement(lt.A,{variant:"standard",fullWidth:!0,placeholder:m,sx:e=>({"& .search-input":{fontSize:e.typography.fontSize}}),InputProps:{disableUnderline:!0,className:"search-input"},inputProps:{"aria-label":"search-by-policy"},onChange:e=>{I(e.target.value)},onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){e.preventDefault();const t=e.target.value;T(t),L(0),z({page:0,rowsPerPage:j,query:t})}},value:S})),n.createElement(v.Ay,{item:!0},c||t&&n.createElement(t,Ku({updateList:z},s)),n.createElement(nt.A,{title:n.createElement(b.A,{id:"AdminPages.Addons.ListBaseWithPagination.reload",defaultMessage:"Reload"})},n.createElement(V.A,{onClick:z,size:"large"},n.createElement(ct.A,{"aria-label":"refresh-advanced-policies",sx:{display:"block"},color:"inherit"}))))))),n.createElement("div",null,x&&x.length>0&&n.createElement(mt.Ay,{title:null,data:x,columns:G,options:U})),x&&0===x.length&&n.createElement("div",null,n.createElement(E.A,{color:"textSecondary",align:"center"},A)));return w?n.createElement(ae,l,K):K}Hu.defaultProps={addButtonProps:{},addButtonOverride:null,searchProps:{searchPlaceholder:"",active:!0},actionColumnProps:{editIconShow:!0,editIconOverride:null,deleteIconShow:!0},addedActions:null,noDataMessage:n.createElement(b.A,{id:"AdminPages.Addons.ListBaseWithPagination.nodata.message",defaultMessage:"No items yet"}),showActionColumn:!0,apiCall:null,initialData:null,EditComponent:null,DeleteComponent:null,editComponentProps:{},columProps:null,enableCollapsable:!1,renderExpandableRow:null,useContentBase:!0,options:{}},Hu.propTypes={EditComponent:i().element,editComponentProps:i().shape({}),DeleteComponent:i().element,showActionColumn:i().bool,columProps:i().element,pageProps:i().shape({}).isRequired,addButtonProps:i().shape({}),searchProps:i().shape({searchPlaceholder:i().string.isRequired,active:i().bool.isRequired}),apiCall:i().func,initialData:i().shape([]),emptyBoxProps:i().shape({title:i().element.isRequired,content:i().element.isRequired}).isRequired,actionColumnProps:i().shape({editIconShow:i().bool,editIconOverride:i().element,deleteIconShow:i().bool}),noDataMessage:i().element,addButtonOverride:i().element,addedActions:i().shape([]),enableCollapsable:i().bool,renderExpandableRow:i().func,useContentBase:i().bool,options:i().shape({})};const Zu=Hu;var Yu=a(71190),Xu=a(75897),Qu=a(36013);function Ju(e){return(new nd).getComplianceStatusListOfAPIs(e).then((e=>({list:e.body.list,pagination:e.body.pagination}))).catch((e=>{throw e}))}function $u(){const e=(0,_.A)(),t=(0,O.A)(),a=[{name:"id",options:{display:!1}},{name:"info",options:{display:!1}},{name:"name",label:e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.column.api",defaultMessage:"API"}),options:{customBodyRender:(e,t)=>n.createElement(w.A,{sx:{display:"flex",alignItems:"center"}},n.createElement(M.N_,{to:"/governance/compliance/api/".concat(t.rowData[0]),style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}},t.rowData[1].name+" - "+t.rowData[1].version,n.createElement(Yu.A,{sx:{ml:.5,fontSize:16}}))),setCellProps:()=>({style:{width:"30%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"status",label:e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.column.status",defaultMessage:"Status"}),options:{customBodyRender:e=>n.createElement(mr.A,{label:R.A.mapComplianceStateToLabel(e),color:"COMPLIANT"===e?"success":"NON_COMPLIANT"===e?"error":"PENDING"===e?"warning":"default",size:"small",variant:"outlined"}),setCellProps:()=>({style:{width:"20%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"policyAdherenceSummary",options:{display:!1}},{name:"severityBasedRuleViolationSummary",options:{display:!1}},{name:"policies",label:e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.column.policies",defaultMessage:"Policies"}),options:{customBodyRender:(a,r)=>{var i,o;const l=(null===(i=r.rowData[4])||void 0===i?void 0:i.followed)||0;return((a,r,i)=>{if("PENDING"===i)return n.createElement(E.A,{variant:"body2",color:"textSecondary"},e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.pending",defaultMessage:"N/A - Waiting for policy evaluation"}));if("NOT_APPLICABLE"===i)return n.createElement(E.A,{variant:"body2",color:"textSecondary"},e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.no.policies",defaultMessage:"N/A - No policies to evaluate"}));const o=a/r*100;return n.createElement(w.A,{sx:{width:"100%"}},n.createElement(w.A,{sx:{display:"flex",mb:.5}},n.createElement(E.A,{variant:"body2",sx:{fontWeight:"bold"},color:"textSecondary"},e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.followed.count",defaultMessage:"{followed}/{total} Followed"},{followed:a,total:r}))),n.createElement(Gu.A,{variant:"determinate",value:o,sx:{height:4,borderRadius:1,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:t.palette.charts.success,borderRadius:1}}}))})(l,l+((null===(o=r.rowData[4])||void 0===o?void 0:o.violated)||0),r.rowData[3])},setCellProps:()=>({style:{width:"40%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"compliance",label:" ",options:{customBodyRender:(e,t)=>(e=>{let t=0,a=0,r=0;return e.forEach((e=>{"ERROR"===e.severity?t=e.violatedRulesCount:"WARN"===e.severity?a=e.violatedRulesCount:"INFO"===e.severity&&(r=e.violatedRulesCount)})),n.createElement(nt.A,{title:"Error: ".concat(t||0,", Warn: ").concat(a||0,", Info: ").concat(r||0)},n.createElement(w.A,{sx:{display:"flex",gap:1}},n.createElement(w.A,{sx:{display:"flex",alignItems:"center"}},n.createElement(ha.A,{color:"error",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},t||0)),n.createElement(w.A,{sx:{display:"flex",alignItems:"center"}},n.createElement(zo.A,{color:"warning",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},a||0)),n.createElement(w.A,{sx:{display:"flex",alignItems:"center"}},n.createElement(Xu.A,{color:"info",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},r||0))))})(t.rowData[5]||[]),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}}],r=n.createElement(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:3}},n.createElement(Qu.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.empty.content",defaultMessage:"No APIs Available"})),n.createElement(E.A,{variant:"body2",color:"text.secondary",align:"center"},e.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.empty.helper",defaultMessage:"Create APIs to start evaluating their compliance."})));return n.createElement(Zu,{columProps:a,apiCall:Ju,searchProps:!1,emptyBoxProps:{content:r},addButtonProps:!1,showActionColumn:!1,useContentBase:!1,options:{elevation:0,selectableRows:"none",customBodyRender:e=>e,setTableProps:()=>({style:{"& .MuiTableCell-root":{border:"none"}}})}})}function ep(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(a),!0).forEach((function(t){ap(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ep(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ap(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function np(e){const t=new nd;return t.getPolicyAdherenceForAllPolicies(e).then((e=>{const a=e.body.list,n=e.body.pagination;return Promise.all(a.map((async e=>{try{const a=await t.getPolicyAdherenceByPolicyId(e.id);return tp(tp({},e),{},{evaluatedArtifacts:a.body.evaluatedArtifacts||[]})}catch(t){return console.error("Error fetching adherence for policy ".concat(e.id,":"),t),tp(tp({},e),{},{evaluatedArtifacts:[]})}}))).then((e=>({list:e,pagination:n})))})).catch((e=>{throw e}))}function rp(){const e=(0,_.A)(),t=(0,O.A)(),a=[{name:"id",options:{display:!1}},{name:"name",label:e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.column.policy",defaultMessage:"Policy"}),options:{customBodyRender:(e,t)=>n.createElement(w.A,{sx:{display:"flex",alignItems:"center"}},e),setCellProps:()=>({style:{width:"30%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"status",label:e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.column.status",defaultMessage:"Status"}),options:{customBodyRender:e=>n.createElement(mr.A,{label:R.A.mapPolicyAdherenceStateToLabel(e),color:"FOLLOWED"===e?"success":"VIOLATED"===e?"error":"default",size:"small",variant:"outlined"}),setCellProps:()=>({sx:{width:"20%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"artifactComplianceSummary",options:{display:!1}},{name:"evaluatedArtifacts",options:{display:!1}},{name:"progress",label:e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.column.apis",defaultMessage:"APIs"}),options:{customBodyRender:(a,r)=>{var i,o;const l=(null===(i=r.rowData[3])||void 0===i?void 0:i.compliant)||0;return((a,r,i)=>{if("UNAPPLIED"===i)return n.createElement(E.A,{variant:"body2",color:"textSecondary"},e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.no.apis",defaultMessage:"N/A - No APIs to evaluate"}));const o=a/r*100;return n.createElement(w.A,{sx:{width:"100%"}},n.createElement(w.A,{sx:{display:"flex",mb:.5}},n.createElement(E.A,{variant:"body2",sx:{fontWeight:"bold"},color:"textSecondary"},e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.compliant.count",defaultMessage:"{followed}/{total} Compliant"},{followed:a,total:r}))),n.createElement(Gu.A,{variant:"determinate",value:o,sx:{height:4,borderRadius:1,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:t.palette.charts.success,borderRadius:1}}}))})(l,(null===(o=r.rowData[3])||void 0===o?void 0:o.nonCompliant)+l||0,r.rowData[2])},setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}}],r=n.createElement(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:3}},n.createElement(We.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.empty.content",defaultMessage:"No Governance Policies Available"})),n.createElement(E.A,{variant:"body2",color:"text.secondary",align:"center"},e.formatMessage({id:"Governance.ComplianceDashboard.PolicyAdherence.empty.helper",defaultMessage:"Create a new governance policy to start governing the APIs."})));return n.createElement(Zu,{columProps:a,apiCall:np,searchProps:!1,emptyBoxProps:{content:r},addButtonProps:!1,showActionColumn:!1,useContentBase:!1,enableCollapsable:!0,renderExpandableRow:e=>n.createElement(oa.A,null,n.createElement(la.A,{colSpan:3}),n.createElement(la.A,null,n.createElement(Kc.A,{direction:"column",spacing:2,sx:{flexWrap:"wrap"}},e[4].map((e=>n.createElement(w.A,{key:e.id,sx:{display:"flex",alignItems:"center",gap:1}},"COMPLIANT"===e.status?n.createElement(wm.A,{color:"success",sx:{fontSize:16}}):n.createElement(Jm.A,{color:"error",sx:{fontSize:16}}),n.createElement(M.N_,{to:"/governance/compliance/api/".concat(e.id),style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}},e.info.name," ",e.info.version,n.createElement(Yu.A,{sx:{ml:.5,fontSize:16}})))))))),options:{elevation:0}})}function ip(){const e=(0,_.A)(),t=(0,O.A)(),[a,r]=(0,n.useState)({followedPolicies:0,violatedPolicies:0,unAppliedPolicies:0}),[i,o]=(0,n.useState)({compliantArtifacts:0,nonCompliantArtifacts:0,notApplicableArtifacts:0,pendingArtifacts:0});return(0,n.useEffect)((()=>{const e=new nd;Promise.all([e.getPolicyAdherenceSummary(),e.getComplianceSummaryForAPIs()]).then((e=>{let[t,a]=e;r({followedPolicies:t.body.followed||0,violatedPolicies:t.body.violated||0,unAppliedPolicies:t.body.unApplied||0}),o({compliantArtifacts:a.body.compliant||0,nonCompliantArtifacts:a.body.nonCompliant||0,notApplicableArtifacts:a.body.notApplicable||0,pendingArtifacts:a.body.pending||0})})).catch((e=>{console.error("Error fetching compliance data:",e)}))}),[]),n.createElement(ae,{width:"full",title:e.formatMessage({id:"Governance.Compliance.title",defaultMessage:"Compliance Dashboard"}),pageStyle:"paperLess",help:n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#compliance-monitoring",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.ComplianceDashboard.Summary.help.link",defaultMessage:"Compliance Monitoring"})})))))},n.createElement(v.Ay,{container:!0,spacing:4,alignItems:"left"},n.createElement(v.Ay,{item:!0,xs:12,md:6,lg:4},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},e.formatMessage({id:"Governance.ComplianceDashboard.Summary.policy.adherence",defaultMessage:"Policy Adherence"})),n.createElement(zu,{data:[{id:0,value:a.followedPolicies,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.policy.followed",defaultMessage:"Followed ({count})"},{count:a.followedPolicies})},{id:1,value:a.violatedPolicies,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.policy.violated",defaultMessage:"Violated ({count})"},{count:a.violatedPolicies})},{id:2,value:a.unAppliedPolicies,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.policy.not.applied",defaultMessage:"Not Applied ({count})"},{count:a.unAppliedPolicies})}]})))),n.createElement(v.Ay,{item:!0,xs:12,md:6,lg:4},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.compliance",defaultMessage:"API Compliance"})),n.createElement(zu,{data:[{id:0,value:i.compliantArtifacts,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.compliant",defaultMessage:"Compliant ({count})"},{count:i.compliantArtifacts})},{id:1,value:i.nonCompliantArtifacts,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.non.compliant",defaultMessage:"Non-Compliant ({count})"},{count:i.nonCompliantArtifacts})},{id:2,value:i.pendingArtifacts,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.pending",defaultMessage:"Pending ({count})"},{count:i.pendingArtifacts})},{id:3,value:i.notApplicableArtifacts,label:e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.not.applicable",defaultMessage:"Not Applicable ({count})"},{count:i.notApplicableArtifacts})}],colors:[t.palette.charts.success,t.palette.charts.error,t.palette.charts.warn,"grey"]})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(ne.A,{elevation:3,sx:{"& .MuiTableCell-footer":{border:0}}},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},e.formatMessage({id:"Governance.ComplianceDashboard.Summary.api.compliance.details",defaultMessage:"API Compliance Details"})),n.createElement($u,null)))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(ne.A,{elevation:3,sx:{"& .MuiTableCell-footer":{border:0}}},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},e.formatMessage({id:"Governance.ComplianceDashboard.Summary.policy.adherence.details",defaultMessage:"Policy Adherence Details"})),n.createElement(rp,null))))))}var op=a(92659),lp=a(51545),sp=a(11434),cp=a(22164),dp=a(93891),mp=a(9483),up=a(39118),pp=a(88707);function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function fp(e){let{complianceData:t}=e;const a=(0,_.A)(),[r,i]=(0,n.useState)(0),[o,l]=(0,n.useState)([]),[s,c]=(0,n.useState)(0),[d,m]=(0,n.useState)(5),[u,p]=(0,n.useState)({errors:[],warnings:[],info:[],passed:[]});(0,n.useEffect)((()=>{if(!t)return;const e=t.rulesets.map((e=>({id:e.id,rulesetName:e.name,ruleType:e.ruleType,documentationLink:e.documentationLink,error:e.violatedRules.filter((e=>"ERROR"===e.severity)),warn:e.violatedRules.filter((e=>"WARN"===e.severity)),info:e.violatedRules.filter((e=>"INFO"===e.severity)),passed:e.followedRules}))),a={errors:[],warnings:[],info:[],passed:[]};e.forEach((e=>{e.error.length>0&&a.errors.push({id:e.id,rulesetName:e.rulesetName,documentationLink:e.documentationLink,ruleType:e.ruleType,rules:e.error}),e.warn.length>0&&a.warnings.push({id:e.id,rulesetName:e.rulesetName,documentationLink:e.documentationLink,ruleType:e.ruleType,rules:e.warn}),e.info.length>0&&a.info.push({id:e.id,rulesetName:e.rulesetName,documentationLink:e.documentationLink,ruleType:e.ruleType,rules:e.info}),e.passed.length>0&&a.passed.push({id:e.id,rulesetName:e.rulesetName,documentationLink:e.documentationLink,ruleType:e.ruleType,rules:e.passed})})),p(a)}),[t]);const g=e=>{l((t=>{return t.includes(e)?t.filter((t=>t!==e)):[].concat(function(e){if(Array.isArray(e))return gp(e)}(a=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return gp(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?gp(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var a}))},f=(e,t)=>{c(t),l([])},A=e=>{m(parseInt(e.target.value,10)),c(0),l([])},y=[{name:"name",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.column.rule",defaultMessage:"Rule"}),options:{customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e)}},{name:"violatedPath",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.column.path",defaultMessage:"Path"}),options:{sort:!1,customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e.path)}},{name:"message",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.column.message",defaultMessage:"Message"}),options:{sort:!1,customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e)}}],h=[{name:"name",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.column.rule",defaultMessage:"Rule"}),options:{customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e)}},{name:"description",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.column.description",defaultMessage:"Description"}),options:{sort:!1,customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e)}}],b=e=>e.reduce(((e,t)=>e+t.rules.length),0),M=e=>{switch(e){case 0:return a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.empty.errors",defaultMessage:"No Error violations found"});case 1:return a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.empty.warnings",defaultMessage:"No Warning violations found"});case 2:return a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.empty.info",defaultMessage:"No Info violations found"});case 3:return a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.empty.passed",defaultMessage:"No Passed rules found"});default:return""}},P=function(e,a){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?e.length>0?function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=(e=>{const t=s*d,a=t+d;return e.slice(t,a)})(e);return n.createElement(n.Fragment,null,n.createElement(v.Ay,{container:!0,spacing:2},a.map((e=>n.createElement(v.Ay,{item:!0,xs:12,key:e.id},n.createElement(ne.A,null,n.createElement(re.A,{onClick:()=>g(e.id),sx:{py:.5,"&:last-child":{pb:.5},cursor:"pointer"}},n.createElement(w.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n.createElement(w.A,{sx:{display:"flex",alignItems:"center",gap:1}},n.createElement(pp.A,{sx:{fontSize:16,mr:1}}),n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold"}},e.rulesetName," ","(",e.rules.length,")"),n.createElement(mr.A,{label:R.A.mapRuleTypeToLabel(e.ruleType),size:"small",color:"primary",variant:"outlined",style:{height:"18px","& .MuiChip-label":{padding:"0 6px",fontSize:"0.625rem",lineHeight:1}}})),n.createElement(V.A,{onClick:t=>{t.stopPropagation(),g(e.id)},"aria-expanded":o.includes(e.id),"aria-label":"show more"},o.includes(e.id)?n.createElement(up.A,null):n.createElement(mp.A,null)))),n.createElement(El.A,{in:o.includes(e.id),timeout:"auto",unmountOnExit:!0},n.createElement(re.A,{sx:{pt:0,"& .MuiTableCell-footer":{border:0}}},n.createElement(wt,{columProps:t?h:y,apiCall:()=>{return t?(a=e.rules,Promise.resolve(a.map((e=>[e.name,e.description])))):(e=>Promise.resolve(e.map((e=>[e.name,e.violatedPath,e.message]))))(e.rules);var a},searchProps:!1,addButtonProps:!1,showActionColumn:!1,useContentBase:!1,emptyBoxProps:{content:"There are no rules to display"},options:{elevation:0,setTableProps:()=>({size:"small"}),rowsPerPage:5}})))))))),e.length>5&&n.createElement(Cn.A,{component:"div",count:e.length,page:s,onPageChange:f,rowsPerPage:d,onRowsPerPageChange:A,rowsPerPageOptions:[5,10,25],sx:{mt:2}}))}(e,r):(i=a,n.createElement(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:3}},n.createElement(Mm.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},i))):n.createElement(w.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200}},n.createElement(ut.A,null));var i};return n.createElement(n.Fragment,null,n.createElement(pl.A,{value:r,onChange:(e,t)=>{i(t),l([]),c(0)},sx:{borderBottom:1,borderColor:"divider",mb:2,minHeight:"40px","& .MuiTab-root":{color:"text.secondary",minHeight:"40px",padding:"6px 12px","&.Mui-selected":{color:e=>{switch(r){case 0:return e.palette.error.main;case 1:return e.palette.warning.main;case 2:return e.palette.info.main;case 3:return e.palette.success.main;default:return e.palette.primary.main}}}}},TabIndicatorProps:{sx:{backgroundColor:e=>{switch(r){case 0:return e.palette.error.main;case 1:return e.palette.warning.main;case 2:return e.palette.info.main;case 3:return e.palette.success.main;default:return e.palette.primary.main}}}}},n.createElement(Vo.A,{icon:n.createElement(dp.A,{color:"error"}),iconPosition:"start",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.tab.errors",defaultMessage:"Errors ({count})"},{count:b(u.errors)})}),n.createElement(Vo.A,{icon:n.createElement(zo.A,{color:"warning"}),iconPosition:"start",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.tab.warnings",defaultMessage:"Warnings ({count})"},{count:b(u.warnings)})}),n.createElement(Vo.A,{icon:n.createElement(Xu.A,{color:"info"}),iconPosition:"start",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.tab.info",defaultMessage:"Info ({count})"},{count:b(u.info)})}),n.createElement(Vo.A,{icon:n.createElement(wm.A,{color:"success"}),iconPosition:"start",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RuleViolation.tab.passed",defaultMessage:"Passed ({count})"},{count:b(u.passed)})})),0===r&&P(u.errors,M(0)),1===r&&P(u.warnings,M(1)),2===r&&P(u.info,M(2)),3===r&&P(u.passed,M(3),!0))}function Ap(e){let{complianceData:t}=e;const a=(0,_.A)(),r=[{name:"id",options:{display:!1}},{name:"name",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.column.ruleset",defaultMessage:"Ruleset"}),options:{width:"40%",customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e),setCellProps:()=>({style:{width:"30%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"status",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.column.status",defaultMessage:"Status"}),options:{setCellProps:()=>({style:{width:"30%"}}),customBodyRender:e=>{return n.createElement(mr.A,{label:R.A.mapRulesetValidationStateToLabel(e),color:(t=e,"PASSED"===t?"success":"FAILED"===t?"error":"default"),size:"small",variant:"outlined"});var t},setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"violatedRules",options:{display:!1}},{name:"followedRules",options:{display:!1}},{name:"violationsSummary",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.column.violations",defaultMessage:"Violations"}),options:{customBodyRender:(e,t)=>{const r=t.rowData[3].reduce(((e,t)=>{let{severity:a}=t;return e[a.toLowerCase()]+=1,e}),{error:0,warn:0,info:0});return(e=>{const{error:t,warn:r,info:i}=e;return n.createElement(nt.A,{title:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.violations.tooltip",defaultMessage:"Errors: {error}, Warnings: {warn}, Info: {info}"},{error:t,warn:r,info:i})},n.createElement(w.A,{sx:{display:"flex",gap:1}},n.createElement(w.A,{key:"error",sx:{display:"flex",alignItems:"center"}},n.createElement(ha.A,{color:"error",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},t)),n.createElement(w.A,{key:"warn",sx:{display:"flex",alignItems:"center"}},n.createElement(zo.A,{color:"warning",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},r)),n.createElement(w.A,{key:"info",sx:{display:"flex",alignItems:"center"}},n.createElement(Xu.A,{color:"info",sx:{fontSize:16}}),n.createElement(E.A,{variant:"caption",sx:{ml:.5}},i))))})({error:r.error,warn:r.warn,info:r.info})},setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}}],i=n.createElement(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:3}},n.createElement(Ge.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.empty.title",defaultMessage:"No Rulesets Found"})),n.createElement(E.A,{variant:"body2",color:"text.secondary",align:"center"},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.RulesetAdherence.empty.helper",defaultMessage:"No governance rulesets have been applied for this API."})));return n.createElement(wt,{columProps:r,initialData:t?t.rulesets:null,searchProps:!1,emptyBoxProps:{content:i},addButtonProps:!1,showActionColumn:!1,useContentBase:!1,options:{elevation:0,rowsPerPage:5}})}var yp=a(66325);function Ep(e){let{complianceData:t}=e;const a=(0,_.A)(),r=(0,O.A)(),i=[{name:"id",options:{display:!1}},{name:"name",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.column.policy",defaultMessage:"Policy"}),options:{width:"30%",customBodyRender:e=>n.createElement(E.A,{variant:"body2"},e),setCellProps:()=>({style:{width:"30%"}}),setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"status",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.column.status",defaultMessage:"Status"}),options:{setCellProps:()=>({style:{width:"20%"}}),customBodyRender:e=>{return n.createElement(mr.A,{label:R.A.mapPolicyAdherenceStateToLabel(e),color:(t=e,"FOLLOWED"===t?"success":"VIOLATED"===t?"error":"PENDING"===t?"warning":"default"),size:"small",variant:"outlined"});var t},setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}},{name:"rulesetValidationResults",options:{display:!1}},{name:"rulesetsList",label:a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.column.rulesets",defaultMessage:"Rulesets"}),options:{customBodyRender:(e,t)=>{const i=t.rowData[3],o=i.length;return((e,t,i)=>{if("PENDING"===i)return n.createElement(E.A,{variant:"body2",color:"textSecondary"},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.pending",defaultMessage:"N/A - Waiting for policy evaluation"}));if("UNAPPLIED"===i)return n.createElement(E.A,{variant:"body2",color:"textSecondary"},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.not.applied",defaultMessage:"N/A - Policy not applied"}));const o=e/t*100;return n.createElement(w.A,{sx:{width:"100%"}},n.createElement(w.A,{sx:{display:"flex",mb:.5}},n.createElement(E.A,{variant:"body2",sx:{fontWeight:"bold"},color:"textSecondary"},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.followed.count",defaultMessage:"{followed}/{total} Followed"},{followed:e,total:t}))),n.createElement(Gu.A,{variant:"determinate",value:o,sx:{height:4,borderRadius:1,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:r.palette.charts.success,borderRadius:1}}}))})(i.filter((e=>"PASSED"===e.status)).length,o,t.rowData[2])},setCellHeaderProps:()=>({sx:{paddingTop:0,paddingBottom:0,"& .MuiButton-root":{fontWeight:"bold",fontSize:"small"}}})}}],o=n.createElement(w.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:3}},n.createElement(We.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.empty.title",defaultMessage:"No Policies Applied"})),n.createElement(E.A,{variant:"body2",color:"text.secondary",align:"center"},a.formatMessage({id:"Governance.ComplianceDashboard.APICompliance.PolicyAdherence.empty.helper",defaultMessage:"No governance policies have been applied to this API."})));return n.createElement(wt,{columProps:i,initialData:t?t.governedPolicies:null,searchProps:!1,emptyBoxProps:{content:o},addButtonProps:!1,showActionColumn:!1,useContentBase:!1,options:{elevation:0,rowsPerPage:5},enableCollapsable:!0,renderExpandableRow:e=>{const t=e[3];return n.createElement(oa.A,null,n.createElement(la.A,{colSpan:3}),n.createElement(la.A,null,n.createElement(Kc.A,{direction:"column",spacing:2,sx:{flexWrap:"wrap"}},t.map((e=>{return n.createElement(w.A,{key:e.id,sx:{display:"flex",alignItems:"center",gap:1}},"PASSED"===(t=e.status)?n.createElement(wm.A,{color:"success",sx:{fontSize:16}}):"FAILED"===t?n.createElement(Jm.A,{color:"error",sx:{fontSize:16}}):n.createElement(yp.A,{color:"disabled",sx:{fontSize:16}}),n.createElement(E.A,{variant:"body2"},e.name));var t})))))}})}function hp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bp(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(a),!0).forEach((function(t){vp(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vp(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mp(){return n.createElement(it,null,n.createElement(Qe.A,{component:"nav"},n.createElement(Fc.A,null,n.createElement($e.A,{sx:{minWidth:"auto",marginRight:1}},n.createElement(Ct.A,null)),n.createElement(qe.A,{target:"_blank",href:f().app.docUrl+"governance/api-governance-admin-capabilities/#compliance-monitoring",underline:"hover"},n.createElement(et.A,{primary:n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.help.link",defaultMessage:"Compliance Monitoring"})})))))}function Pp(e){const t=(0,_.A)(),a=(0,O.A)(),{match:{params:{id:r}}}=e,[i,o]=(0,n.useState)({passed:0,failed:0,unapplied:0}),[l,s]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)({followedPolicies:0,violatedPolicies:0,pendingPolicies:0,unAppliedPolicies:0}),[p,g]=(0,n.useState)(""),[f,A]=(0,n.useState)(!0),[y,h]=(0,n.useState)(null),[P,w]=(0,n.useState)({errors:0,warnings:0,info:0,passed:0});return(0,n.useEffect)((()=>{const e=new AbortController,t=new nd;return t.getComplianceByAPIId(r,{signal:e.signal}).then((async e=>{if(s(e.body.info.name+" :"+e.body.info.version),d(e.body.info.owner),0===e.body.governedPolicies.length)return void g(e.body.status);const a=e.body.governedPolicies.every((e=>"PENDING"===e.status));A(a);const n=e.body.governedPolicies.reduce(((e,t)=>("FOLLOWED"===t.status&&(e.followedPolicies+=1),"VIOLATED"===t.status&&(e.violatedPolicies+=1),"PENDING"===t.status&&(e.pendingPolicies+=1),"UNAPPLIED"===t.status&&(e.unAppliedPolicies+=1),e)),{followedPolicies:0,violatedPolicies:0,pendingPolicies:0,unAppliedPolicies:0});u(n);const i=new Map;e.body.governedPolicies.forEach((e=>{e.rulesetValidationResults.forEach((e=>{i.has(e.id)||i.set(e.id,e)}))}));const l=Array.from(i.keys()).map((async e=>{const[a,n]=await Promise.all([t.getRulesetValidationResultsByAPIId(r,e),t.getRulesetById(e)]);return bp(bp({},a.body),{},{ruleType:i.get(e).ruleType,documentationLink:n.body.documentationLink})})),c=await Promise.all(l),m=Array.from(i.values()).reduce(((e,t)=>("PASSED"===t.status&&(e.passed+=1),"FAILED"===t.status&&(e.failed+=1),"UNAPPLIED"===t.status&&(e.unapplied+=1),e)),{passed:0,failed:0,unapplied:0}),p=c.reduce(((e,t)=>(t.violatedRules.forEach((t=>{"ERROR"===t.severity&&(e.errors+=1),"WARN"===t.severity&&(e.warnings+=1),"INFO"===t.severity&&(e.info+=1)})),e.passed+=t.followedRules.length,e)),{errors:0,warnings:0,info:0,passed:0});w(p),o(m),h({governedPolicies:e.body.governedPolicies,rulesets:c})})).catch((t=>{e.signal.aborted||(console.error("Error fetching compliance data:",t),o({passed:0,failed:0,unapplied:0}),s(""),u({followedPolicies:0,violatedPolicies:0,pendingPolicies:0,unAppliedPolicies:0}),w({errors:0,warnings:0,info:0,passed:0}),h(null))})),()=>{e.abort()}}),[r]),"NOT_APPLICABLE"===p&&0===(null==y?void 0:y.governedPolicies.length)||"NOT_APPLICABLE"===p&&!y?n.createElement(ae,{width:"full",title:n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.title",defaultMessage:"Compliance Summary - {artifactName}",values:{artifactName:l}}),pageStyle:"paperLess",help:n.createElement(Mp,null)},n.createElement(lp.A,{sx:{display:"flex",alignItems:"center",paddingBottom:4,justifyContent:"space-between"}},n.createElement(M.N_,{to:"/governance/compliance",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}},n.createElement(op.A,null),n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.back.to.compliance",defaultMessage:"Back to Compliance Dashboard"})),n.createElement(E.A,{variant:"body2"},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.api.owner",defaultMessage:"API Owner: {owner}",values:{owner:c}}))),n.createElement(ne.A,{elevation:3,sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",padding:4}},n.createElement(cp.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h5",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},n.createElement(b.A,{id:"Apis.Details.Compliance.not.applicable.message",defaultMessage:"No governance policies have been attached to this API."})),n.createElement(E.A,{variant:"body1",color:"text.secondary",align:"center"},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.not.applicable.description",defaultMessage:"Please attach governance policies to the API to view the compliance status."})))):"PENDING"===p?n.createElement(ae,{width:"full",title:n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.title",defaultMessage:"Compliance Summary - {artifactName}",values:{artifactName:l}}),pageStyle:"paperLess",help:n.createElement(Mp,null)},n.createElement(lp.A,{sx:{display:"flex",alignItems:"center",paddingBottom:4,justifyContent:"space-between"}},n.createElement(M.N_,{to:"/governance/compliance",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}},n.createElement(op.A,null),n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.back.to.compliance",defaultMessage:"Back to Compliance Dashboard"})),n.createElement(E.A,{variant:"body2"},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.api.owner",defaultMessage:"API Owner: {owner}",values:{owner:c}}))),n.createElement(ne.A,{elevation:3,sx:{mt:2,display:"flex",flexDirection:"column",alignItems:"center",padding:4}},n.createElement(sp.A,{sx:{fontSize:60,color:"action.disabled",mb:2}}),n.createElement(E.A,{variant:"h5",color:"text.secondary",gutterBottom:!0,sx:{fontWeight:"medium"}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.check.progress",defaultMessage:"Compliance Check in Progress"})),n.createElement(E.A,{variant:"body1",color:"text.secondary",align:"center"},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.check.progress.message",defaultMessage:"The compliance check is currently in progress. This may take a few moments."})))):n.createElement(ae,{width:"full",title:n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.title",defaultMessage:"Compliance Summary - {artifactName}",values:{artifactName:l}}),pageStyle:"paperLess",help:n.createElement(Mp,null)},n.createElement(lp.A,{sx:{display:"flex",alignItems:"center",paddingBottom:4,justifyContent:"space-between"}},n.createElement(M.N_,{to:"/governance/compliance",style:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}},n.createElement(op.A,null),n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.back.to.compliance",defaultMessage:"Back to Compliance Dashboard"})),n.createElement(E.A,{variant:"body2"},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.api.owner",defaultMessage:"API Owner: {owner}",values:{owner:c}}))),n.createElement(v.Ay,{container:!0,spacing:4},!f&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:6,lg:4},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.policy.adherence",defaultMessage:"Policy Adherence"})),n.createElement(zu,{colors:[a.palette.charts.success,a.palette.charts.error,a.palette.charts.warn,"grey"],data:[{id:0,value:m.followedPolicies,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.followed",defaultMessage:"Followed ({count})"},{count:m.followedPolicies})},{id:1,value:m.violatedPolicies,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.violated",defaultMessage:"Violated ({count})"},{count:m.violatedPolicies})},{id:2,value:m.pendingPolicies,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.pending",defaultMessage:"Pending ({count})"},{count:m.pendingPolicies})},{id:3,value:m.unAppliedPolicies,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.not.applied",defaultMessage:"Not Applied ({count})"},{count:m.unAppliedPolicies})}]})))),n.createElement(v.Ay,{item:!0,xs:12,md:6,lg:4},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.ruleset.adherence",defaultMessage:"Ruleset Adherence"})),n.createElement(zu,{colors:[a.palette.charts.success,a.palette.charts.error,"grey"],data:[{id:0,value:i.passed,label:"".concat(t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.passed",defaultMessage:"Passed"})," (").concat(i.passed,")")},{id:1,value:i.failed,label:"".concat(t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.failed",defaultMessage:"Failed"})," (").concat(i.failed,")")},{id:2,value:i.unapplied,label:"".concat(t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.unapplied",defaultMessage:"Unapplied"})," (").concat(i.unapplied,")")}]})))),n.createElement(v.Ay,{item:!0,xs:12,md:6,lg:4},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.rule.adherence",defaultMessage:"Rule Adherence"})),n.createElement(zu,{colors:[a.palette.charts.error,a.palette.charts.warn,a.palette.charts.info,a.palette.charts.success],data:[{id:0,value:P.errors,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.rules.errors",defaultMessage:"Errors ({count})"},{count:P.errors})},{id:1,value:P.warnings,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.rules.warnings",defaultMessage:"Warnings ({count})"},{count:P.warnings})},{id:2,value:P.info,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.rules.info",defaultMessage:"Info ({count})"},{count:P.info})},{id:3,value:P.passed,label:t.formatMessage({id:"Governance.ComplianceDashboard.Compliance.rules.passed",defaultMessage:"Passed ({count})"},{count:P.passed})}]}))))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(ne.A,{elevation:3,sx:{"& .MuiTableCell-footer":{border:0}}},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.policy.adherence.summary",defaultMessage:"Policy Adherence Summary"})),n.createElement(Ep,{artifactId:r,complianceData:y})))),!f&&n.createElement(n.Fragment,null,n.createElement(v.Ay,{item:!0,xs:12,md:12},n.createElement(ne.A,{elevation:3,sx:{"& .MuiTableCell-footer":{border:0}}},n.createElement(re.A,null,n.createElement(E.A,{variant:"body1",sx:{fontWeight:"bold",mb:2}},n.createElement(b.A,{id:"Governance.ComplianceDashboard.Compliance.ruleset.adherence.summary",defaultMessage:"Ruleset Adherence Summary"})),n.createElement(Ap,{artifactId:r,complianceData:y})))),n.createElement(v.Ay,{item:!0,xs:12},n.createElement(ne.A,{elevation:3},n.createElement(re.A,null,n.createElement(fp,{artifactId:r,complianceData:y})))))))}const wp=(0,o.y)((function(){return n.createElement(o.dO,null,n.createElement(o.qh,{exact:!0,path:"/governance/compliance",component:ip}),n.createElement(o.qh,{exact:!0,path:"/governance/compliance/api/:id",component:Pp}),n.createElement(o.qh,{component:I}))})),Cp=e=>[{id:"Dashboard",displayText:e.formatMessage({id:"Base.RouteMenuMapping.dashboard",defaultMessage:"Dashboard"}),icon:n.createElement($.A,null),path:"/dashboard",component:()=>n.createElement(Xe,null),exact:!0},{id:"Rate Limiting Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.throttling.policies",defaultMessage:"Rate Limiting Policies"}),children:[{id:"Advanced Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.advanced.throttling.policies",defaultMessage:"Advanced Policies"}),path:"/throttling/advanced",component:Ai,icon:n.createElement(We.A,null),addEditPageDetails:[{id:"Add Advanced Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.advanced.throttling.policies.Adding",defaultMessage:"Add Advanced Policy"}),path:"/throttling/advanced/create"},{id:"Edit Advanced Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.advanced.throttling.policies.Editing",defaultMessage:"Edit Advanced Policy"}),path:"/throttling/advanced/(.*?)$"}]},{id:"Application Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.application.throttling.policies",defaultMessage:"Application Policies"}),path:"/throttling/application",component:ta,icon:n.createElement(J.A,null)},{id:"Subscription Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.throttling.policies",defaultMessage:"Subscription Policies"}),path:"/throttling/subscription",component:Oa,icon:n.createElement(ze.A,null),addEditPageDetails:[{id:"Add Subscription Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.throttling.policies.Adding",defaultMessage:"Add Subscription Policy"}),path:"/throttling/subscription/add"},{id:"Edit Subscription Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.throttling.policies.Editing",defaultMessage:"Edit Subscription Policy"}),path:"/throttling/subscription/(.*?)$"}]},{id:"Custom Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.custom.throttling.policies",defaultMessage:"Custom Policies"}),path:"/throttling/custom",component:go,icon:n.createElement(Ge.A,null),addEditPageDetails:[{id:"Add Custom Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.custom.throttling.policies.items.Adding",defaultMessage:"Add Custom Policy"}),path:"/throttling/custom/create"},{id:"Edit Custom Policy",displayText:e.formatMessage({id:"Base.RouteMenuMapping.custom.throttling.policies.items.Editing",defaultMessage:"Edit Custom Policy"}),path:"/throttling/custom/(.*?)$"}]},{id:"Deny Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.blacklisted.items",defaultMessage:"Deny Policies"}),path:"/throttling/deny-policies",component:nn,icon:n.createElement(Pm.A,null)}]},{id:"Gateways",displayText:e.formatMessage({id:"Base.RouteMenuMapping.gateways",defaultMessage:"Gateways"}),path:"/settings/environments",component:Ir,icon:n.createElement(bm.A,null),addEditPageDetails:[{id:"Add Gateway Environment",displayText:e.formatMessage({id:"Base.RouteMenuMapping.gateways.items.Adding",defaultMessage:"Gateway Environment"}),path:"/settings/gateways/create"},{id:"Edit Gateway Environment",displayText:e.formatMessage({id:"Base.RouteMenuMapping.gateways.items.Editing",defaultMessage:"Edit Gateway Environment"}),path:"/settings/gateways/(.*?)$"}]},{id:"API Categories",displayText:e.formatMessage({id:"Base.RouteMenuMapping.api.categories",defaultMessage:"API Categories"}),path:"/settings/api-categories",component:Ka,icon:n.createElement(oe.A,null)},{id:"Organizations",displayText:e.formatMessage({id:"Base.RouteMenuMapping.organizations",defaultMessage:"Organizations"}),path:"/settings/organizations",component:hm,icon:n.createElement(Ed.A,null)},{id:"Key Managers",displayText:e.formatMessage({id:"Base.RouteMenuMapping.keymanagers",defaultMessage:"Key Managers"}),path:"/settings/key-managers",component:Jl,icon:n.createElement(ul.A,null),addEditPageDetails:[{id:"Add Key Manager",displayText:e.formatMessage({id:"Base.RouteMenuMapping.keymanagers.items.Adding",defaultMessage:"Add Key Manager"}),path:"/settings/key-managers/create"},{id:"Edit Key Manager",displayText:e.formatMessage({id:"Base.RouteMenuMapping.keymanagers.items.Editing",defaultMessage:"Edit Key Manager"}),path:"/settings/key-managers/(.*?)$"}]},{id:"AI Service Providers",displayText:e.formatMessage({id:"Base.RouteMenuMapping.aiServiceProviders",defaultMessage:"AI Service Providers"}),path:"/settings/ai-service-providers",component:Ss,icon:n.createElement(ls.A,null),addEditPageDetails:[{id:"Add AI Service Provider",displayText:e.formatMessage({id:"Base.RouteMenuMapping.aiServiceProviders.items.Adding",defaultMessage:"Add AI Service Provider"}),path:"/settings/ai-service-providers/create"},{id:"Edit AI Service Provider",displayText:e.formatMessage({id:"Base.RouteMenuMapping.aiServiceProviders.items.Editing",defaultMessage:"Edit AI Service Provider"}),path:"/settings/ai-service-providers/(.*?)$"}]},{id:"Labels",displayText:e.formatMessage({id:"Base.RouteMenuMapping.labels",defaultMessage:"Labels"}),path:"/settings/labels",component:ju,icon:n.createElement(vm.A,null)},{id:"Governance",displayText:e.formatMessage({id:"Base.RouteMenuMapping.governance",defaultMessage:"Governance"}),children:[{id:"Compliance",displayText:e.formatMessage({id:"Base.RouteMenuMapping.compliance",defaultMessage:"Compliance"}),path:"/governance/compliance",component:wp,icon:n.createElement(wm.A,null)},{id:"Policies",displayText:e.formatMessage({id:"Base.RouteMenuMapping.governance.policies",defaultMessage:"Policies"}),path:"/governance/policies",component:Ud,icon:n.createElement(We.A,null)},{id:"Ruleset Catalog",displayText:e.formatMessage({id:"Base.RouteMenuMapping.ruleset.catalog",defaultMessage:"Ruleset Catalog"}),path:"/governance/ruleset-catalog",component:im,icon:n.createElement(Mm.A,null)}]},{id:"Tasks",displayText:e.formatMessage({id:"Base.RouteMenuMapping.tasks",defaultMessage:"Tasks"}),children:[{id:"User Creation",displayText:e.formatMessage({id:"Base.RouteMenuMapping.user.creation",defaultMessage:"User Creation"}),path:"/tasks/user-creation",component:Hm,icon:n.createElement(H.A,null)},{id:"Application Creation",displayText:e.formatMessage({id:"Base.RouteMenuMapping.application.creation",defaultMessage:"Application Creation"}),path:"/tasks/application-creation",component:xm,icon:n.createElement(Z.A,null)},{id:"Application Update",displayText:e.formatMessage({id:"Base.RouteMenuMapping.application.update",defaultMessage:"Application Update"}),path:"/tasks/application-update",component:km,icon:n.createElement(Z.A,null)},{id:"Application Deletion",displayText:e.formatMessage({id:"Base.RouteMenuMapping.application.deletion",defaultMessage:"Application Deletion"}),path:"/tasks/application-deletion",component:Dm,icon:n.createElement(Z.A,null)},{id:"Subscription Creation",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.creation",defaultMessage:"Subscription Creation"}),path:"/tasks/subscription-creation",component:Nm,icon:n.createElement(Zm.A,null)},{id:"Subscription Deletion",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.deletion",defaultMessage:"Subscription Deletion"}),path:"/tasks/subscription-deletion",component:jm,icon:n.createElement(Zm.A,null)},{id:"Subscription Update",displayText:e.formatMessage({id:"Base.RouteMenuMapping.subscription.update",defaultMessage:"Subscription Update"}),path:"/tasks/subscription-update",component:Wm,icon:n.createElement(Zm.A,null)},{id:"Application Registration",displayText:e.formatMessage({id:"Base.RouteMenuMapping.application.reg",defaultMessage:"Application Registration"}),path:"/tasks/application-registration",component:Gm,icon:n.createElement(Ym.A,null)},{id:"API State Change",displayText:e.formatMessage({id:"Base.RouteMenuMapping.api.state.change",defaultMessage:"API State Change"}),path:"/tasks/api-state-change",component:Vm,icon:n.createElement(Y.A,null)},{id:"API Product State Change",displayText:e.formatMessage({id:"Base.RouteMenuMapping.api.product.state.change",defaultMessage:"API Product State Change"}),path:"/tasks/api-product-state-change",component:()=>n.createElement(Vm,{isAPIProduct:!0}),icon:n.createElement(Y.A,null)},{id:"API Revision Deployment",displayText:e.formatMessage({id:"Base.RouteMenuMapping.api.revision.deployment",defaultMessage:"API Revision Deployment"}),path:"/tasks/api-revision-deploy",component:Fm,icon:n.createElement(Y.A,null)}]},{id:"Settings",displayText:e.formatMessage({id:"Base.RouteMenuMapping.settings",defaultMessage:"Settings"}),children:[{id:"Change Application Owner",displayText:e.formatMessage({id:"Base.RouteMenuMapping.applications",defaultMessage:"Change Application Owner"}),path:"/settings/applications",component:Sn,icon:n.createElement(X.A,null)},{id:"Change API Provider",displayText:e.formatMessage({id:"Base.RouteMenuMapping.apis",defaultMessage:"Change API Provider"}),path:"/settings/apis",component:su,icon:n.createElement(X.A,null)},{id:"Scope Assignments",displayText:e.formatMessage({id:"Base.RouteMenuMapping.role.permissions",defaultMessage:"Scope Assignments"}),path:"/settings/scope-mapping",component:jc,icon:n.createElement(Xm.A,null)},{id:"Tenant Theme",displayText:e.formatMessage({id:"Base.RouteMenuMapping.tenant.theme",defaultMessage:"Tenant Theme"}),path:"/settings/devportal-theme",component:Do,icon:n.createElement(J.A,null)},{id:"Advanced",displayText:e.formatMessage({id:"Base.RouteMenuMapping.advanced",defaultMessage:"Advanced"}),path:"/settings/advanced",component:Vc,icon:n.createElement(Q.A,null)},{id:"Usage Report",displayText:e.formatMessage({id:"Base.RouteMenuMapping.usage.report",defaultMessage:"Usage Report"}),path:"/settings/usage-report",component:vu,icon:n.createElement(Ge.A,null)}]}];var Tp=a(34717);function Sp(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=e.entries();for(const e of n)for(const n of e){if(void 0!==n.children){const e=Sp(n.children,t,a);if(""!==e)return e.unshift({id:n.id,displayText:n.displayText,path:n.path}),e}else if(void 0!==n.addEditPageDetails){const e=Sp(n.addEditPageDetails,t,a);if(""!==e)return e.unshift({id:n.id,displayText:n.displayText,path:n.path}),e}if(n.path&&t.match(n.path))return[{id:n.id,displayText:n.displayText,path:t}]}return""}const Ip=(0,o.y)((function(e){const t=(0,_.A)(),a=Cp(t),{history:{location:{pathname:r}}}=e,i=Sp(a,r);if(i){const e=[];return i.forEach((t=>{t.path?e.push(n.createElement(qe.A,{component:M.N_,color:"inherit",to:t.path,key:t.id,underline:"hover"},t.displayText)):e.push(n.createElement(E.A,{color:"textPrimary",key:t.id},t.displayText))})),n.createElement(Tp.A,{"aria-label":"breadcrumb"},e)}return n.createElement("div",null)}));function xp(e){const{handleDrawerToggle:t,avatar:a}=e;return n.createElement(n.Fragment,null,n.createElement(F.A,{sx:{boxShadow:"0 -1px 0 #dddddd inset",height:50}},n.createElement(v.Ay,{container:!0,spacing:1,alignItems:"center"},n.createElement(p.A,{smUp:!0},n.createElement(v.Ay,{item:!0},n.createElement(V.A,{color:"inherit","aria-label":"open drawer",onClick:()=>t(),sx:{ml:-1},size:"large"},n.createElement(K.A,null)))),n.createElement(Ip,null),n.createElement(v.Ay,{item:!0,xs:!0}),n.createElement(v.Ay,{item:!0},a))))}xp.defaultProps={avatar:n.createElement(U.A,null)},xp.propTypes={user:i().shape({}).isRequired,handleDrawerToggle:i().func.isRequired,avatar:i().element};const Rp=xp;var kp=a(50790);function Op(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jp(n.key),n)}}function Dp(e,t,a){return t=Np(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lp()?Reflect.construct(t,a||[],Np(e).constructor):t.apply(e,a))}function Lp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lp=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Np(e)}function Bp(e,t){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bp(e,t)}function jp(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}let qp=function(e){function t(e){var a,n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=a=Dp(this,t,[e]),i=e=>{e.preventDefault(),window.location="".concat(f().app.context,"/services/logout")},(r=jp(r="doOIDCLogout"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,a.state={anchorEl:null},a.handleClick=a.handleClick.bind(a),a.handleClose=a.handleClose.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}(t,e),a=t,r=[{key:"handleClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){const{user:e}=this.props;let t=e.name;const a=(t.match(/@/g)||[]).length;e.name.endsWith("@carbon.super")&&a<=1&&(t=e.name.replace("@carbon.super",""));const{anchorEl:r}=this.state;return n.createElement(n.Fragment,null,n.createElement(V.A,{id:"profile-menu-btn","aria-owns":"profile-menu-appbar","aria-haspopup":"true",color:"inherit",onClick:this.handleClick,sx:e=>({fontSize:e.typography.fontSize,textTransform:"uppercase",fontWeight:"bold"}),size:"large"},n.createElement(kp.A,{sx:{mr:1}})," ",t,n.createElement(Vi.A,{style:{fontSize:"22px",marginLeft:"1px"}},"keyboard_arrow_down")),n.createElement(ia.A,{id:"logout-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:e=>({zIndex:e.zIndex.modal+1,pt:"5px"})},n.createElement(M.N_,{to:{pathname:"/services/logout"}},n.createElement(Ut.A,{onClick:this.doOIDCLogout,id:"logout"},n.createElement(b.A,{id:"Base.Header.avatar.Avatar.logout",defaultMessage:"Logout"})))))}}],r&&Op(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);qp.propTypes={user:i().shape({name:i().string.isRequired}).isRequired};const Wp=qp,zp=()=>{const e=(0,O.A)();return n.createElement(n.Fragment,null,n.createElement("img",{src:f().app.context+e.custom.logo,alt:e.custom.title,style:{height:e.custom.logoHeight,width:e.custom.logoWidth}}))};function Gp(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Up(n.key),n)}}function Up(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function Vp(e,t,a){return t=Fp(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kp()?Reflect.construct(t,a||[],Fp(e).constructor):t.apply(e,a))}function Kp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kp=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(e)}function _p(e,t){return _p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_p(e,t)}const Hp="AppErrorBoundary",Zp={appBar:"".concat(Hp,"-appBar"),typoRoot:"".concat(Hp,"-typoRoot"),brandLink:"".concat(Hp,"-brandLink"),toolbar:"".concat(Hp,"-toolbar"),menuIcon:"".concat(Hp,"-menuIcon"),errorDisplay:"".concat(Hp,"-errorDisplay"),errorDisplayContent:"".concat(Hp,"-errorDisplayContent"),errorTitle:"".concat(Hp,"-errorTitle"),link:"".concat(Hp,"-link")},Yp=(0,k.Ay)("div")((e=>{let{theme:t}=e;return{["& .".concat(Zp.appBar)]:{zIndex:t.zIndex.modal+1,position:"relative",background:t.palette.background.appBar},["& .".concat(Zp.typoRoot)]:{marginLeft:t.spacing(3),marginRight:t.spacing(3),textTransform:"capitalize"},["& .".concat(Zp.brandLink)]:{color:t.palette.primary.contrastText},["& .".concat(Zp.toolbar)]:{minHeight:56,["".concat(t.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:48},[t.breakpoints.up("sm")]:{minHeight:64}},["& .".concat(Zp.menuIcon)]:{color:t.palette.getContrastText(t.palette.background.appBar),fontSize:35},["& .".concat(Zp.errorDisplay)]:{display:"flex",flexDirection:"row",justifyContent:"center"},["& .".concat(Zp.errorDisplayContent)]:{width:960,display:"flex",flexDirection:"column",overflow:"auto"},["& .".concat(Zp.errorTitle)]:{display:"flex",alignItems:"center",paddingTop:t.spacing(2),paddingBottom:t.spacing(2),"& h2":{paddingLeft:t.spacing(2)}},["& .".concat(Zp.link)]:{color:t.palette.getContrastText(t.palette.background.default)}}}));let Xp=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Vp(this,t,[e])).state={hasError:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_p(e,t)}(t,e),a=t,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){const{hasError:e,error:t,info:a}=this.state,{children:r}=this.props,i={background:"#fff8dc"};return e?n.createElement(Yp,null,n.createElement(ot.A,{className:Zp.appBar,position:"fixed"},n.createElement(F.A,{className:Zp.toolbar},n.createElement("div",{className:Zp.errorDisplay,style:{width:"100%"}},n.createElement("div",{className:Zp.errorDisplayContent},n.createElement("a",{href:f().app.context},n.createElement(zp,null)))))),n.createElement("div",{className:Zp.errorDisplay},n.createElement("div",{className:Zp.errorDisplayContent},n.createElement("div",{className:Zp.errorTitle},n.createElement("img",{src:"".concat(f().app.context,"/site/public/images/robo.png"),alt:"OOPS"}),n.createElement(E.A,{variant:"h2",gutterBottom:!0},n.createElement(b.A,{id:"Apis.Shared.AppErrorBoundary.something.went.wrong",defaultMessage:"Something went wrong"}))),n.createElement("a",{href:"".concat(f().app.context,"/apis/")},n.createElement("h3",{className:Zp.link},"Admin Portal")))),n.createElement("div",{className:Zp.errorDisplay},n.createElement("div",{className:Zp.errorDisplayContent},n.createElement("h3",{style:{color:"red"}},t.message),n.createElement("pre",{style:i},n.createElement("u",null,t.stack)),n.createElement("pre",{style:i},n.createElement("u",null,a.componentStack))))):r}}])&&Gp(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);Xp.propTypes={children:i().node.isRequired,theme:i().shape({custom:i().shape({logo:i().string,title:i().string})}).isRequired};const Qp=Xp;var Jp=a(21448),$p=a(34164),eg=a(58620),tg=a(31656);function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}Navigator.NavigatorChildren={classes:i().shape({}).isRequired,navChildren:i().arrayOf(JSON).isRequired,navId:i().number.isRequired,navText:i().string.isRequired};const ng=function(e){const{settings:t,isSuperTenant:a,user:{_scopes:r}}=Ve(),i=a&&r.includes("apim:admin_settings"),o=t.transactionCounterEnable,[l,s]=n.useState(!0),{navChildren:c,navText:d,classes:m}=e,[u,p]=n.useState(c);return(0,n.useEffect)((()=>{let e=function(e){if(Array.isArray(e))return ag(e)}(t=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ag(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ag(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t;a&&(e=e.filter((e=>"Tenant Theme"!==e.id))),a||(e=e.filter((e=>"Custom Policies"!==e.id))),i&&o||(e=e.filter((e=>"Usage Report"!==e.id))),p(e)}),[a,i,c]),n.createElement(n.Fragment,null,n.createElement(Je.Ay,{className:m.categoryHeader,button:!0,onClick:()=>{s(!l)}},n.createElement(et.A,{classes:{primary:m.categoryHeaderPrimary}},d),l?n.createElement(tg.A,null):n.createElement(Nn.A,null)),n.createElement(El.A,{in:l,timeout:"auto",unmountOnExit:!0},u&&u.map((e=>{let{id:t,displayText:a,icon:r,path:i,active:o}=e;return n.createElement(qe.A,{component:M.N_,to:i||"/",style:{textDecoration:"none"},"data-testid":t+"-child-link",key:t,underline:"hover"},n.createElement(Je.Ay,{key:t,button:!0,className:(0,$p.A)(m.item,o&&m.itemActiveItem)},n.createElement($e.A,{className:m.itemIcon},r),n.createElement(et.A,{classes:{primary:m.itemPrimary}},a)))}))),n.createElement(ie.A,{className:m.divider}))},rg=["history"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ig.apply(null,arguments)}const og="Navigator",lg={categoryHeader:"".concat(og,"-categoryHeader"),categoryHeaderPrimary:"".concat(og,"-categoryHeaderPrimary"),item:"".concat(og,"-item"),firebase:"".concat(og,"-firebase"),itemActiveItem:"".concat(og,"-itemActiveItem"),itemPrimary:"".concat(og,"-itemPrimary"),itemIcon:"".concat(og,"-itemIcon"),divider:"".concat(og,"-divider"),logoWrapper:"".concat(og,"-logoWrapper")},sg=(0,k.Ay)(eg.Ay)((e=>{let{theme:t}=e;return{["& .".concat(lg.categoryHeader)]:{paddingTop:t.spacing(1),paddingBottom:t.spacing(1),"& svg":{color:t.palette.common.white}},["& .".concat(lg.categoryHeaderPrimary)]:{color:t.palette.common.white},["& .".concat(lg.item)]:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},["& .".concat(lg.firebase)]:{fontSize:24,color:t.palette.common.white},["& .".concat(lg.itemActiveItem)]:{color:"#4fc3f7"},["& .".concat(lg.itemPrimary)]:{fontSize:"inherit"},["& .".concat(lg.itemIcon)]:{minWidth:"auto",marginRight:t.spacing(2)},["& .".concat(lg.divider)]:{marginTop:t.spacing(2)},["& .".concat(lg.logoWrapper)]:{padding:0,paddingLeft:t.spacing(1),height:50}}})),cg=(0,o.y)((function(e){const{history:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,rg),r=(0,O.A)(),i=(0,_.A)(),{settings:o,user:{_scopes:l}}=Ve(),s=o.analyticsEnabled,c=(e,t)=>-1!==e.indexOf(t);let d=Cp(i);s||(d=Cp(i).filter((e=>"Manage Alerts"!==e.id)));const m=e=>{for(let t=0;t<e.length;t++)if(!l.includes(e[t]))return!1;return!0},u=m(ra.A.Roles.WORKFLOW_MANAGER),p=m(ra.A.Roles.SETTINGS_MANAGER),g=m(ra.A.Roles.POLICY_MANAGER),A=m(ra.A.Roles.KEY_MANAGER),y=m(ra.A.Roles.CATEGORY_MANAGER),E=m(ra.A.Roles.GATEWAY_MANAGER),h=m(ra.A.Roles.GOVERNANCE_MANAGER),b=m(ra.A.Roles.ORGANIZATION_MANAGER),v=[],P=d;for(let e=0;e<P.length;e++){const t=d;if("Dashboard"===P[e].id){const t=P[e];v.push(t)}if("Rate Limiting Policies"===P[e].id){const t=P[e];g&&v.push(t)}if("Tasks"===P[e].id){const t=P[e];u&&v.push(t)}if("Key Managers"===P[e].id){const t=P[e];A&&v.push(t)}if("API Categories"===P[e].id){const t=P[e];y&&v.push(t)}if("Organizations"===P[e].id){const t=P[e];b&&v.push(t)}if("Gateways"===P[e].id){const t=P[e];E&&v.push(t)}if("Governance"===P[e].id){const t=P[e];h&&v.push(t)}if("Settings"===P[e].id){const t=P[e],a=t.children;if(!l.includes("apim:admin"))for(let e=0;e<a.length;e++)"Advanced"===a[e].id&&a.splice(e,1);p&&v.push(t)}d=v,l.includes("apim:admin")&&(d=t)}const w=e=>{for(let t=0;t<d.length;t++){const a=d[t].children;if(a)for(let t=0;t<a.length;t++)c(e,a[t].path)?a[t].active=!0:a[t].active=!1;else c(e,d[t].path)?d[t].active=!0:d[t].active=!1}};t.listen((e=>{const{pathname:t}=e;w(t)}));const{location:{pathname:C}}=t;w(C);let T="/site/public/images/logo.svg",S=180,I="";return r.custom&&r.custom.logo&&(T=r.custom.logo),r.custom&&r.custom.logoWidth&&(S=r.custom.logoWidth),r.custom&&r.custom.logoHeight&&(I=r.custom.logoHeight),n.createElement(sg,ig({variant:"permanent"},a),n.createElement(Qe.A,{disablePadding:!0,role:"list"},n.createElement(Je.Ay,{className:(0,$p.A)(lg.firebase,lg.item,"itemCategory",lg.logoWrapper)},n.createElement(qe.A,{component:M.N_,to:"/",underline:"hover"},n.createElement("img",{alt:"logo APIM admin portal",src:f().app.context+T,width:S,height:I}))),d.map((e=>{let{id:t,displayText:a,children:r,icon:i,path:o,active:l}=e;return n.createElement(n.Fragment,null,!r&&n.createElement(qe.A,{component:M.N_,to:o,style:{textDecoration:"none"},"data-testid":t,underline:"hover",key:t},n.createElement(Qe.A,{disablePadding:!0,role:"list"},n.createElement(Je.Ay,{className:(0,$p.A)(lg.item,"itemCategory",l&&lg.itemActiveItem)},n.createElement($e.A,{className:lg.itemIcon},i),n.createElement(et.A,{classes:{primary:lg.itemPrimary}},a)))),r&&n.createElement(n.Fragment,{key:t},n.createElement(ng,{navChildren:r,navId:t,navText:a,classes:lg,role:"listitem"})))}))))}));function dg(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mg(n.key),n)}}function mg(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function ug(e,t,a){return t=gg(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pg()?Reflect.construct(t,a||[],gg(e).constructor):t.apply(e,a))}function pg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pg=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gg(e)}function fg(e,t){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fg(e,t)}const Ag=(0,c.A)((0,d.A)(y().light)),{drawerWidth:yg}=y().light.custom,Eg=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage,hg=[];let bg=function(e){function t(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=ug(this,t,[e])).state={settings:null,clientId:R.A.getCookieWithoutEnvironment(x.A.CONST.ADMIN_CLIENT_ID),sessionStateCookie:R.A.getCookieWithoutEnvironment(x.A.CONST.ADMIN_SESSION_STATE),mobileOpen:!1,isSuperTenant:!1},a.environments=[],a.checkSession=a.checkSession.bind(a),a.handleMessage=a.handleMessage.bind(a);const{intl:n}=e,r=Cp(n);for(let e=0;e<r.length;e++){const t=r[e].children;if(t)for(let e=0;e<t.length;e++)hg.push(t[e]);else hg.push(r[e])}return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fg(e,t)}(t,e),a=t,r=[{key:"componentDidMount",value:function(){const e=G.A.getUser(),t=new Be,a=t.getSettings();window.addEventListener("message",this.handleMessage),e?(this.setState({user:e}),a.then((e=>this.setState({settings:e}))),t.getTenantInformation(btoa(e.name)).then((e=>{const{tenantDomain:t}=e.body;"carbon.super"===t?this.setState({isSuperTenant:!0}):this.setState({isSuperTenant:!1})})).catch((e=>{Dt.error(e.response.body.description),console.log(e)})),this.checkSession()):(G.A.getUserFromToken().then((e=>this.setState({user:e}))),a.then((e=>this.setState({settings:e}))))}},{key:"handleMessage",value:function(e){"changed"===e.data&&(window.location=f().app.context+"/services/auth/login?not-Login")}},{key:"checkSession",value:function(){f().app.singleLogout&&f().app.singleLogout.enabled&&setInterval((()=>{const{clientId:e,sessionStateCookie:t}=this.state,a=e+" "+t;document.getElementById("iframeOP").contentWindow.postMessage(a,f().idp.origin)}),f().app.singleLogout.timeout)}},{key:"render",value:function(){const{user:e=G.A.getUser(),messages:t,mobileOpen:a}=this.state,r=n.createElement(Rp,{avatar:n.createElement(Wp,{user:e}),user:e,handleDrawerToggle:()=>{this.setState((e=>({mobileOpen:!e.mobileOpen})))}}),{clientId:i,settings:s,isSuperTenant:c}=this.state,d=f().idp.checkSessionEndpoint+"?client_id="+i+"&redirect_uri=https://"+window.location.host+f().app.context+"/services/auth/callback/login";if(!e)return n.createElement(l.A,{locale:Eg,messages:t},n.createElement(Jp.A,null));const g=s&&n.createElement(Ke,{value:{settings:s,user:e,isSuperTenant:c}},n.createElement(n.Fragment,null,n.createElement(p.A,{smUp:!0,implementation:"js"},n.createElement(cg,{PaperProps:{style:{width:yg}},variant:"temporary",open:a,onClose:()=>{this.setState((e=>({mobileOpen:!e.mobileOpen})))}})),n.createElement(p.A,{smDown:!0,implementation:"css"},n.createElement(cg,{PaperProps:{style:{width:yg}}}))));return n.createElement(m.A,{injectFirst:!0},n.createElement(u.A,{theme:Ag},n.createElement(Qp,null,s?n.createElement(Ke,{value:{settings:s,user:e,isSuperTenant:c}},n.createElement(z,{header:r,leftMenu:g},n.createElement(o.qh,null,n.createElement(o.dO,null,n.createElement(o.rd,{exact:!0,from:"/",to:"/dashboard"}),n.createElement(o.qh,{path:"/dashboard",component:Xe}),hg.map((e=>n.createElement(o.qh,{path:e.path,component:e.component,key:e.path}))),n.createElement(o.qh,{component:I}))))):n.createElement(se.A,{message:"Loading Settings ..."}),n.createElement("iframe",{title:"iframeOP",id:"iframeOP",src:d,width:"0%",height:"0%",style:{position:"absolute",bottom:0}}))))}}],r&&dg(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,r}(n.Component);bg.propTypes={user:i().shape({}).isRequired};const vg=(0,s.Ay)(bg)},50477:()=>{},68968:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII="},72082:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(71354),r=a.n(n),i=a(76314),o=a.n(i)()(r());o.push([e.id,"html, body {\n    height: 100%;\n}\n\n.redirect-flex-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: #efefef;\n    margin: auto;\n}\n\n.redirect-flex-container .redirect-grid-container {\n    height: 100vh;\n}\n\n.redirect-flex-container .redirect-main-content {\n    flex: 1;\n    align-items: flex-start;\n    justify-content: center;\n}\n\n.redirect-loadingbar {\n    float: right;\n}\n\n.redirect-paper {\n    border-left: 2px solid #f17a20;\n    fontSize: medium;\n    padding: 15px;\n}\n\n#react-root {\n    height: 100%;\n}\n\n@media (max-width: 601px) {\n    .redirect-paper {\n        align-items: flex-start;\n        display: flex;\n        width: 100%;\n        height: 100%;\n    }\n}\n","",{version:3,sources:["webpack://./source/src/app/components/Shared/redirecting.css"],names:[],mappings:"AAAA;IACI,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,YAAY;IACZ,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,OAAO;IACP,uBAAuB;IACvB,uBAAuB;AAC3B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,8BAA8B;IAC9B,gBAAgB;IAChB,aAAa;AACjB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI;QACI,uBAAuB;QACvB,aAAa;QACb,WAAW;QACX,YAAY;IAChB;AACJ",sourcesContent:["html, body {\n    height: 100%;\n}\n\n.redirect-flex-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: #efefef;\n    margin: auto;\n}\n\n.redirect-flex-container .redirect-grid-container {\n    height: 100vh;\n}\n\n.redirect-flex-container .redirect-main-content {\n    flex: 1;\n    align-items: flex-start;\n    justify-content: center;\n}\n\n.redirect-loadingbar {\n    float: right;\n}\n\n.redirect-paper {\n    border-left: 2px solid #f17a20;\n    fontSize: medium;\n    padding: 15px;\n}\n\n#react-root {\n    height: 100%;\n}\n\n@media (max-width: 601px) {\n    .redirect-paper {\n        align-items: flex-start;\n        display: flex;\n        width: 100%;\n        height: 100%;\n    }\n}\n"],sourceRoot:""}]);const l=o},86060:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},98127:()=>{}}]);
//# sourceMappingURL=ProtectedApps.a6987de32c58cd03e79e.bundle.js.map